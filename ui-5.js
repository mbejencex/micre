LavaPack.loadBundle([[4456,{"../../../../.storybook/i18n":1,"../../../helpers/constants/design-system":5052,"../../component-library":4792,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},i=e("../../../../.storybook/i18n"),s=e("../../component-library"),l=e("../../../helpers/constants/design-system");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c({nextNonce:e,customNonceValue:t,showCustomizeNonceModal:n}){const a=(0,r.useContext)(i.I18nContext);return r.default.createElement(s.Box,{display:l.Display.Flex,marginBottom:4,paddingTop:3,paddingRight:3,paddingBottom:4,paddingLeft:3,borderRadius:l.BorderRadius.MD,alignItems:l.AlignItems.center,className:"custom-nonce__content"},r.default.createElement(s.Box,{className:"custom-nonce__header",display:l.Display.InlineFlex,justifyContent:l.JustifyContent.flexStart,alignItems:l.AlignItems.center},r.default.createElement(s.Text,{variant:l.TextVariant.bodySm,as:"h6"},a("nonce")),r.default.createElement(s.ButtonLink,{key:"editCustomNonce",size:l.Size.auto,marginLeft:3,onClick:()=>n()},a("edit"))),r.default.createElement(s.Text,{className:"custom-nonce__value",variant:l.TextVariant.bodySmBold,as:"h6"},t||e))}c.propTypes={nextNonce:o.default.number,customNonceValue:o.default.string,showCustomizeNonceModal:o.default.func}}}},{package:"$root$",file:"ui/components/app/custom-nonce/custom-nonce.js"}],[4457,{"./custom-nonce":4456},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./custom-nonce"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/custom-nonce/index.js"}],[4458,{"../../../helpers/constants/design-system":5052,"../../component-library":4792,"../../component-library/text/deprecated":4826,"../../ui/box":4889,"../../ui/tooltip":5017,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CustomSpendingCapTooltip=void 0;var a=c(e("react")),r=c(e("prop-types")),o=c(e("../../ui/box")),i=c(e("../../ui/tooltip")),s=e("../../../helpers/constants/design-system"),l=e("../../component-library"),u=e("../../component-library/text/deprecated");function c(e){return e&&e.__esModule?e:{default:e}}const d=({tooltipContentText:e,tooltipIcon:t})=>a.default.createElement(o.default,{display:s.Display.InlineBlock},a.default.createElement(i.default,{interactive:!0,position:"top",html:a.default.createElement(u.Text,{variant:s.TextVariant.bodySm,as:"h6",margin:3,color:s.TextColor.textAlternative,className:"form-field__heading-title__tooltip"},e)},t?a.default.createElement(l.Icon,{name:l.IconName.Danger,className:"form-field__heading-title__tooltip__warning-icon",size:l.IconSize.Inherit,style:{"vertical-align":"bottom"}}):""!==t&&a.default.createElement(l.Icon,{name:l.IconName.Question,size:l.IconSize.Inherit})));n.CustomSpendingCapTooltip=d,d.propTypes={tooltipContentText:r.default.oneOfType([r.default.string,r.default.node]),tooltipIcon:r.default.oneOfType([r.default.string,r.default.bool])}}}},{package:"$root$",file:"ui/components/app/custom-spending-cap/custom-spending-cap-tooltip.js"}],[4459,{"../../../../shared/constants/tokens":4335,"../../../../shared/lib/transactions-controller-utils":4344,"../../../../shared/modules/Numeric":4346,"../../../../shared/modules/conversion.utils":4350,"../../../contexts/gasFee":5028,"../../../contexts/i18n":5029,"../../../ducks/app/app":5036,"../../../helpers/constants/design-system":5052,"../../../helpers/constants/zendesk-url":5062,"../../../pages/confirm-approve/confirm-approve.util":5156,"../../../store/actions":5456,"../../component-library":4792,"../../component-library/text/deprecated":4826,"../../ui/box":4889,"../../ui/form-field":4924,"./custom-spending-cap-tooltip":4458,"bignumber.js":2222,classnames:2376,"ethereumjs-util":2774,"prop-types":3766,react:4043,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=M;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),o=k(e("prop-types")),i=k(e("classnames")),s=k(e("bignumber.js")),l=e("ethereumjs-util"),u=e("../../../contexts/i18n"),c=k(e("../../ui/box")),d=k(e("../../ui/form-field")),p=e("../../component-library"),f=e("../../component-library/text/deprecated"),m=e("../../../helpers/constants/design-system"),g=e("../../../ducks/app/app"),h=e("../../../../shared/lib/transactions-controller-utils"),y=e("../../../../shared/modules/conversion.utils"),v=e("../../../../shared/constants/tokens"),b=e("../../../../shared/modules/Numeric"),_=e("../../../store/actions"),T=e("../../../pages/confirm-approve/confirm-approve.util"),x=e("../../../contexts/gasFee"),w=k(e("../../../helpers/constants/zendesk-url")),E=e("./custom-spending-cap-tooltip");function k(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function M({txParams:e,tokenName:t,currentTokenBalance:n,dappProposedValue:o,siteOrigin:k,passTheErrorText:C,decimals:M,setInputChangeInProgress:P,customSpendingCap:S,setCustomSpendingCap:O}){const j=(0,a.useContext)(u.I18nContext),N=(0,r.useDispatch)(),{updateTransaction:I}=(0,x.useGasFeeContext)(),R=(0,a.useRef)(null),[D,A]=(0,a.useState)(""),[L,F]=(0,a.useState)(S!==String(o)&&!0),W=j("inputLogicEmptyState"),q=e=>e.replace(/,/gu,"."),$=(e,t)=>new b.Numeric(Number(q(e)),10).greaterThan(Number(t),10),B=e=>new b.Numeric(Number(q(e)),10).lessThanOrEqualTo(new b.Numeric(Number(n),10))?{className:"custom-spending-cap__lowerValue",description:j("inputLogicEqualOrSmallerNumber",[a.default.createElement(f.Text,{key:"custom-spending-cap",variant:m.TextVariant.bodySmBold,as:"h6",className:"custom-spending-cap__input-value-and-token-name"},q(e)," ",t)])}:$(e,n)?{className:"custom-spending-cap__higherValue",description:j("inputLogicHigherNumber")}:{className:"custom-spending-cap__emptyState",description:j("inputLogicEmptyState")},[G,U]=(0,a.useState)(B(S).description),V=async t=>{var n;if(!e)return;P(!0);let a="";const r=B(t).description,o=v.DECIMAL_REGEX.exec(q(t));if((null==o||null===(n=o[1])||void 0===n?void 0:n.length)>M)return void P(!1);t&&!v.NUM_W_OPT_DECIMAL_COMMA_OR_DOT_REGEX.test(t)?(a=j("spendingCapError"),U(j("spendingCapErrorDescription",[k])),A(a)):(U(r),A(""));const i=(0,h.calcTokenAmount)(v.MAX_TOKEN_ALLOWANCE_AMOUNT,M);if(Number(t.length)>1&&Number(t)){new s.default(t).greaterThan(i)&&(a=j("spendLimitTooLarge"),A(a))}if(O(String(t)),N((0,g.setCustomTokenAmount)(String(t))),""!==String(t))try{const n=(0,T.getCustomTxParamsData)(e.data,{customPermissionAmount:t,decimals:M}),{from:a,to:r,value:o}=e,i=await(0,_.estimateGas)({from:a,to:r,value:o,data:n});i&&await I({gasLimit:(0,y.hexToDecimal)((0,l.addHexPrefix)(i))})}catch(e){console.error("Error in trying to update gas limit",e)}P(!1)};(0,a.useEffect)((()=>{S===String(o)?F(!1):F(!0)}),[S,o]),(0,a.useEffect)((()=>{C(D)}),[D,C]),(0,a.useEffect)((()=>{R.current&&R.current.focus({preventScroll:!0})}),[R.current]);const H=$(S,n)?j("warningTooltipText",[a.default.createElement(f.Text,{key:"tooltip-text",variant:m.TextVariant.bodySmBold,as:"h6",color:m.TextColor.errorDefault},a.default.createElement(p.Icon,{name:p.IconName.Warning})," ",j("beCareful"))]):j("inputLogicEmptyState");return a.default.createElement(a.default.Fragment,null,a.default.createElement(c.default,{className:"custom-spending-cap",borderRadius:m.Size.SM,paddingTop:2,paddingRight:6,paddingLeft:6,display:m.Display.Flex,alignItems:m.AlignItems.flexStart,flexDirection:m.FlexDirection.Column,backgroundColor:m.BackgroundColor.backgroundAlternative,gap:2},a.default.createElement(c.default,{justifyContent:m.JustifyContent.center,display:m.Display.Block,className:"custom-spending-cap__input"},a.default.createElement("label",{htmlFor:$(S,n)?"custom-spending-cap-input-value":"custom-spending-cap"},a.default.createElement(d.default,{inputRef:R,dataTestId:"custom-spending-cap-input",wrappingLabelProps:{as:"div"},id:$(S,n)?"custom-spending-cap-input-value":"custom-spending-cap",TooltipCustomComponent:a.default.createElement(E.CustomSpendingCapTooltip,{tooltipContentText:q(S)?H:"",tooltipIcon:q(S)?$(S,n):""}),onChange:V,titleText:j("customSpendingCap"),placeholder:j("enterANumber"),error:D,value:S,titleDetail:L&&a.default.createElement(p.ButtonLink,{size:m.Size.auto,onClick:e=>{e.preventDefault(),F(!1),V(o)}},j("useSiteSuggestion")),titleDetailWrapperProps:{marginBottom:2,marginRight:0}}),a.default.createElement(c.default,{width:m.BLOCK_SIZES.MAX,marginLeft:"auto",paddingRight:4,paddingBottom:2,textAlign:m.TextAlign.End,className:(0,i.default)("custom-spending-cap__max",{"custom-spending-cap__max--with-error-message":D})},a.default.createElement(p.ButtonLink,{size:m.Size.auto,onClick:e=>{e.preventDefault(),V(n)}},j("max"))),a.default.createElement(c.default,{className:(0,i.default)("custom-spending-cap__description",{"custom-spending-cap__description--with-error-message":D})},a.default.createElement(f.Text,{color:m.TextColor.textDefault,variant:m.TextVariant.bodySm,as:"h6",paddingTop:2},q(S)?G:W),a.default.createElement(p.ButtonLink,{size:m.Size.SM,href:w.default.TOKEN_ALLOWANCE_WITH_SPENDING_CAP,target:"_blank",marginBottom:2},j("learnMoreUpperCase")))))))}M.propTypes={txParams:o.default.object.isRequired,tokenName:o.default.string,currentTokenBalance:o.default.string,dappProposedValue:o.default.string,siteOrigin:o.default.string,passTheErrorText:o.default.func,decimals:o.default.string,setInputChangeInProgress:o.default.func.isRequired,customSpendingCap:o.default.string,setCustomSpendingCap:o.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/custom-spending-cap/custom-spending-cap.js"}],[4460,{"../../../../helpers/constants/design-system":5052,"../../../../helpers/utils/util":5093,"../../../../hooks/useCopyToClipboard":5109,"../../../../hooks/useI18nContext":5116,"../../../component-library/text/deprecated":4826,"../../../ui/box":4889,"../../../ui/button":4893,"../../../ui/tooltip":5017,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=f(e("react")),r=f(e("prop-types")),o=e("../../../../hooks/useI18nContext"),i=e("../../../../hooks/useCopyToClipboard"),s=f(e("../../../ui/box")),l=f(e("../../../ui/button")),u=f(e("../../../ui/tooltip")),c=e("../../../../helpers/constants/design-system"),d=e("../../../../helpers/utils/util"),p=e("../../../component-library/text/deprecated");function f(e){return e&&e.__esModule?e:{default:e}}const m=({tokenAddress:e})=>{const t=(0,o.useI18nContext)(),[n,r]=(0,i.useCopyToClipboard)();return a.default.createElement(s.default,{display:c.DISPLAY.INLINE_FLEX,className:"detected-token-address"},a.default.createElement(p.Text,{variant:c.TextVariant.bodySm,as:"h6",color:c.TextColor.textDefault},`${t("tokenAddress")}:`),a.default.createElement(p.Text,{variant:c.TextVariant.bodySm,as:"h6",color:c.TextColor.primaryDefault,marginLeft:2,marginRight:2},(0,d.shortenAddress)(e)),a.default.createElement(u.default,{position:"bottom",title:t(n?"copiedExclamation":"copyToClipboard")},a.default.createElement(l.default,{type:"link",className:"detected-token-address__copy-link",onClick:()=>{r(e)}},a.default.createElement("i",{className:"fa fa-copy"}))))};m.propTypes={tokenAddress:r.default.string};var g=m;n.default=g}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token-address/detected-token-address.js"}],[4461,{"../../../../helpers/constants/design-system":5052,"../../../../hooks/useI18nContext":5116,"../../../component-library":4792,"../../../component-library/text/deprecated":4826,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},i=e("../../../../hooks/useI18nContext"),s=e("../../../../helpers/constants/design-system"),l=e("../../../component-library"),u=e("../../../component-library/text/deprecated");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const d=({aggregators:e})=>{const t=(0,i.useI18nContext)(),n=parseInt(e.length,10)-2,[a,o]=(0,r.useState)(!1);return r.default.createElement(l.Box,{display:s.Display.InlineFlex,className:"detected-token-aggregators"},r.default.createElement(u.Text,{variant:s.TextVariant.bodySm,as:"h6",fontWeight:s.FontWeight.Normal},t("fromTokenLists",[n>0&&!a?r.default.createElement(u.Text,{variant:s.TextVariant.bodySm,as:"h6",fontWeight:s.FontWeight.Normal,key:"detected-token-aggrgators-with-more"},`${e.slice(0,2).join(", ")}`,r.default.createElement(l.ButtonLink,{className:"detected-token-aggregators__link",onClick:()=>o(!0),key:"detected-token-aggrgators-link"},t("plusXMore",[n]))):r.default.createElement(u.Text,{variant:s.TextVariant.bodySm,as:"h6",fontWeight:s.FontWeight.Normal,key:"detected-token-aggrgators-without-more"},`${e.join(", ")}.`)])))};d.propTypes={aggregators:o.default.array.isRequired};var p=d;n.default=p}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token-aggregators/detected-token-aggregators.js"}],[4462,{"../../../../helpers/constants/design-system":5052,"../../../../selectors":5449,"../../../component-library":4792,"../../../ui/identicon":4945,"../detected-token-address/detected-token-address":4460,"../detected-token-aggregators/detected-token-aggregators":4461,"../detected-token-values/detected-token-values":4465,"prop-types":3766,react:4043,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=f(e("react")),r=f(e("prop-types")),o=e("react-redux"),i=e("../../../component-library"),s=f(e("../../../ui/identicon")),l=f(e("../detected-token-values/detected-token-values")),u=f(e("../detected-token-address/detected-token-address")),c=f(e("../detected-token-aggregators/detected-token-aggregators")),d=e("../../../../helpers/constants/design-system"),p=e("../../../../selectors");function f(e){return e&&e.__esModule?e:{default:e}}const m=({token:e,handleTokenSelection:t,tokensListDetected:n})=>{var r;const f=(0,o.useSelector)(p.getTokenList)[null===(r=e.address)||void 0===r?void 0:r.toLowerCase()];return a.default.createElement(i.Box,{display:d.Display.Flex,className:"detected-token-details",marginBottom:4},a.default.createElement(s.default,{className:"detected-token-details__identicon",address:e.address,diameter:40}),a.default.createElement(i.Box,{display:d.Display.Grid,marginLeft:2,className:"detected-token-details__data"},a.default.createElement(l.default,{token:e,handleTokenSelection:t,tokensListDetected:n}),a.default.createElement(u.default,{tokenAddress:e.address}),(null==f?void 0:f.aggregators.length)>0&&a.default.createElement(c.default,{aggregators:null==f?void 0:f.aggregators})))};m.propTypes={token:r.default.shape({address:r.default.string.isRequired,decimals:r.default.number,symbol:r.default.string,iconUrl:r.default.string,aggregators:r.default.array}),handleTokenSelection:r.default.func.isRequired,tokensListDetected:r.default.object};var g=m;n.default=g}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token-details/detected-token-details.js"}],[4463,{"../../../../helpers/constants/design-system":5052,"../../../../hooks/useI18nContext":5116,"../../../component-library/text/deprecated":4826,"../../../ui/button":4893,"../../../ui/popover":4980,classnames:2376,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=d(e("react")),r=d(e("prop-types")),o=d(e("classnames")),i=e("../../../../hooks/useI18nContext"),s=d(e("../../../ui/popover")),l=d(e("../../../ui/button")),u=e("../../../../helpers/constants/design-system"),c=e("../../../component-library/text/deprecated");function d(e){return e&&e.__esModule?e:{default:e}}const p=({partiallyIgnoreDetectedTokens:e,onCancelIgnore:t,handleClearTokensSelection:n})=>{const r=(0,i.useI18nContext)(),d=a.default.createElement(a.default.Fragment,null,a.default.createElement(l.default,{className:"detected-token-ignored-popover__ignore-button",type:"secondary",onClick:t},r("cancel")),a.default.createElement(l.default,{className:"detected-token-ignored-popover__import-button",type:"primary",onClick:n},r("confirm")));return a.default.createElement(s.default,{title:r(e?"importSelectedTokens":"areYouSure"),className:(0,o.default)("detected-token-ignored-popover",{"detected-token-ignored-popover--import":e,"detected-token-ignored-popover--ignore":!e}),footer:d},a.default.createElement(c.Text,{variant:u.TextVariant.bodySm,as:"h6",marginTop:0,marginRight:5,marginBottom:7,marginLeft:5},r(e?"importSelectedTokensDescription":"ignoreTokenWarning")))};p.propTypes={partiallyIgnoreDetectedTokens:r.default.bool.isRequired,onCancelIgnore:r.default.func.isRequired,handleClearTokensSelection:r.default.func.isRequired};var f=p;n.default=f}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token-ignored-popover/detected-token-ignored-popover.js"}],[4464,{"../../../../../shared/constants/metametrics":4323,"../../../../contexts/metametrics":5030,"../../../../hooks/useI18nContext":5116,"../../../../selectors":5449,"../../../ui/box":4889,"../../../ui/button":4893,"../../../ui/popover":4980,"../detected-token-details/detected-token-details":4462,"prop-types":3766,react:4043,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=m(e("prop-types")),o=e("react-redux"),i=e("../../../../hooks/useI18nContext"),s=e("../../../../contexts/metametrics"),l=e("../../../../../shared/constants/metametrics"),u=e("../../../../selectors"),c=m(e("../../../ui/popover")),d=m(e("../../../ui/box")),p=m(e("../../../ui/button")),f=m(e("../detected-token-details/detected-token-details"));function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}const h=({tokensListDetected:e,handleTokenSelection:t,onImport:n,onIgnoreAll:r,setShowDetectedTokens:m,sortingBasedOnTokenSelection:g})=>{const h=(0,i.useI18nContext)(),y=(0,a.useContext)(s.MetaMetricsContext),v=(0,o.useSelector)(u.getCurrentChainId),b=(0,o.useSelector)(u.getDetectedTokensInCurrentNetwork),{selected:_=[]}=g(e),T=_.length===b.length?"All":`(${_.length})`,x=a.default.createElement(a.default.Fragment,null,a.default.createElement(p.default,{className:"detected-token-selection-popover__ignore-button",type:"secondary",onClick:()=>r()},h("ignoreAll")),a.default.createElement(p.default,{className:"detected-token-selection-popover__import-button",type:"primary",onClick:n,disabled:0===_.length},h("importWithCount",[T])));return a.default.createElement(c.default,{className:"detected-token-selection-popover",title:1===b.length?h("tokenFoundTitle"):h("tokensFoundTitle",[b.length]),onClose:()=>{m(!1);const e=b.map((({address:e,symbol:t})=>`${t} - ${e}`));y({event:l.MetaMetricsEventName.TokenImportCanceled,category:l.MetaMetricsEventCategory.Wallet,properties:{source_connection_method:l.MetaMetricsTokenEventSource.Detected,chain_id:v,tokens:e}})},footer:x},a.default.createElement(d.default,{margin:3},b.map(((n,r)=>a.default.createElement(f.default,{key:r,token:n,handleTokenSelection:t,tokensListDetected:e})))))};h.propTypes={tokensListDetected:r.default.object,handleTokenSelection:r.default.func.isRequired,onIgnoreAll:r.default.func.isRequired,onImport:r.default.func.isRequired,setShowDetectedTokens:r.default.func.isRequired,sortingBasedOnTokenSelection:r.default.func.isRequired};var y=h;n.default=y}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token-selection-popover/detected-token-selection-popover.js"}],[4465,{"../../../../helpers/constants/design-system":5052,"../../../../hooks/useTokenFiatAmount":5132,"../../../../hooks/useTokenTracker":5133,"../../../../selectors":5449,"../../../component-library":4792,"../../../component-library/text/deprecated":4826,"../../../ui/check-box":4897,"prop-types":3766,react:4043,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=f(e("prop-types")),o=e("react-redux"),i=f(e("../../../ui/check-box")),s=e("../../../../helpers/constants/design-system"),l=e("../../../../hooks/useTokenTracker"),u=e("../../../../hooks/useTokenFiatAmount"),c=e("../../../../selectors"),d=e("../../../component-library"),p=e("../../../component-library/text/deprecated");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const g=({token:e,handleTokenSelection:t,tokensListDetected:n})=>{var r;const[f,m]=(0,a.useState)((()=>{var t;return null===(t=n[e.address])||void 0===t?void 0:t.selected})),{tokensWithBalances:g}=(0,l.useTokenTracker)([e]),h=null===(r=g[0])||void 0===r?void 0:r.string,y=(0,u.useTokenFiatAmount)(e.address,h,e.symbol),v=(0,o.useSelector)(c.getUseCurrencyRateCheck);(0,a.useEffect)((()=>{var t;m(null===(t=n[e.address])||void 0===t?void 0:t.selected)}),[n,e.address,f,m]);return a.default.createElement(d.Box,{display:s.Display.InlineFlex,className:"detected-token-values"},a.default.createElement(d.Box,{marginBottom:1},a.default.createElement(p.Text,{variant:s.TextVariant.bodyLgMedium,as:"h4"},`${h||"0"} ${e.symbol}`),a.default.createElement(p.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textAlternative},v?y||"$0":y)),a.default.createElement(d.Box,{className:"detected-token-values__checkbox"},a.default.createElement(i.default,{checked:f,onClick:()=>{m(!f),t(e)}})))};g.propTypes={token:r.default.shape({address:r.default.string.isRequired,decimals:r.default.number,symbol:r.default.string,iconUrl:r.default.string,aggregators:r.default.array}),handleTokenSelection:r.default.func.isRequired,tokensListDetected:r.default.object};var h=g;n.default=h}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token-values/detected-token-values.js"}],[4466,{"../../../../shared/constants/metametrics":4323,"../../../../shared/constants/transaction":4336,"../../../contexts/metametrics":5030,"../../../selectors":5449,"../../../store/actions":5456,"./detected-token-ignored-popover/detected-token-ignored-popover":4463,"./detected-token-selection-popover/detected-token-selection-popover":4464,lodash:3617,"prop-types":3766,react:4043,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=m(e("prop-types")),o=e("react-redux"),i=e("lodash"),s=e("../../../store/actions"),l=e("../../../selectors"),u=e("../../../contexts/metametrics"),c=e("../../../../shared/constants/transaction"),d=e("../../../../shared/constants/metametrics"),p=m(e("./detected-token-selection-popover/detected-token-selection-popover")),f=m(e("./detected-token-ignored-popover/detected-token-ignored-popover"));function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}const h=e=>(0,i.chain)(e).values().groupBy((e=>e.selected?"selected":"deselected")).mapValues((e=>e.map((({token:e})=>{const{address:t,symbol:n,decimals:a,aggregators:r}=e;return{address:t,symbol:n,decimals:a,aggregators:r}})))).value(),y=({setShowDetectedTokens:e})=>{const t=(0,o.useDispatch)(),n=(0,a.useContext)(u.MetaMetricsContext),r=(0,o.useSelector)(l.getCurrentChainId),i=(0,o.useSelector)(l.getDetectedTokensInCurrentNetwork),[m,g]=(0,a.useState)((()=>i.reduce(((e,t)=>(e[t.address]={token:t,selected:!0},e)),{}))),[y,v]=(0,a.useState)(!1),[b,_]=(0,a.useState)(!1),T=async e=>{e.forEach((e=>{n({event:d.MetaMetricsEventName.TokenAdded,category:d.MetaMetricsEventCategory.Wallet,sensitiveProperties:{token_symbol:e.symbol,token_contract_address:e.address,token_decimal_precision:e.decimals,source_connection_method:d.MetaMetricsTokenEventSource.Detected,token_standard:c.TokenStandard.ERC20,asset_type:c.AssetType.token,token_added_type:"detected",chain_id:r}})})),await t((0,s.addImportedTokens)(e));const a=e.map((({symbol:e})=>e));t((0,s.setNewTokensImported)(a.join(", ")))};return a.default.createElement(a.default.Fragment,null,y&&a.default.createElement(f.default,{onCancelIgnore:()=>{v(!1),_(!1)},handleClearTokensSelection:async()=>{const{selected:a=[],deselected:r=[]}=h(m);r.length<i.length&&await T(a);const o=r.map((({symbol:e,address:t})=>`${e} - ${t}`));n({event:d.MetaMetricsEventName.TokenHidden,category:d.MetaMetricsEventCategory.Wallet,sensitiveProperties:{tokens:o,location:d.MetaMetricsEventLocation.TokenDetection,token_standard:c.TokenStandard.ERC20,asset_type:c.AssetType.token}});const l=r.map((({address:e})=>e));await t((0,s.ignoreTokens)({tokensToIgnore:l,dontShowLoadingIndicator:!0})),e(!1),_(!1)},partiallyIgnoreDetectedTokens:b}),i.length>0&&a.default.createElement(p.default,{detectedTokens:i,tokensListDetected:m,handleTokenSelection:e=>{g((t=>({...t,[e.address]:{...t[e.address],selected:!t[e.address].selected}})))},onImport:async()=>{const{selected:t=[]}=h(m);t.length<i.length?(v(!0),_(!0)):(await T(t),e(!1))},onIgnoreAll:()=>{const e={...m};for(const t of Object.keys(m))e[t].selected=!1;g(e),v(!0)},setShowDetectedTokens:e,sortingBasedOnTokenSelection:h}))};y.propTypes={setShowDetectedTokens:r.default.func.isRequired};var v=y;n.default=v}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token.js"}],[4467,{"../../../../shared/constants/gas":4319,"../../../contexts/i18n":5029,"../../../helpers/constants/design-system":5052,"../../../helpers/utils/confirm-tx.util":5075,"../../component-library/text/deprecated":4826,"../../ui/actionable-message/actionable-message":4885,"../../ui/button":4893,"../../ui/error-message":4920,"../../ui/info-tooltip":4946,"../advanced-gas-controls/advanced-gas-controls.component":4371,"bignumber.js":2222,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=h(e("prop-types")),o=h(e("bignumber.js")),i=e("../../../../shared/constants/gas"),s=h(e("../../ui/button")),l=e("../../../helpers/constants/design-system"),u=e("../../component-library/text/deprecated"),c=e("../../../helpers/utils/confirm-tx.util"),d=h(e("../../ui/info-tooltip")),p=h(e("../../ui/error-message")),f=h(e("../advanced-gas-controls/advanced-gas-controls.component")),m=h(e("../../ui/actionable-message/actionable-message")),g=e("../../../contexts/i18n");function h(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function v({mode:e=i.EditGasModes.modifyInPlace,estimatedMinimumNative:t,transaction:n,gasPrice:r,setGasPrice:h,gasLimit:y,setGasLimit:v,properGasLimit:b,dappSuggestedGasFeeAcknowledged:_,setDappSuggestedGasFeeAcknowledged:T,onManualChange:x,minimumGasLimit:w,balanceError:E,gasErrors:k,txParamsHaveBeenCustomized:C}){const M=(0,a.useContext)(g.I18nContext),P=(0,a.useRef)(null),S=(0,c.areDappSuggestedAndTxParamGasFeesTheSame)(n),O=Boolean((null==n?void 0:n.dappSuggestedGasFees)&&!_&&S);let j;y!==undefined&&b!==undefined&&new o.default(y).lessThan(new o.default(b))&&(j=M("gasLimitRecommended",[b]));const N=E&&C;let I;return E&&(I="insufficientFunds"),a.default.createElement("div",{className:"edit-gas-display"},a.default.createElement("div",{className:"edit-gas-display__content"},N&&a.default.createElement("div",{className:"edit-gas-display__warning"},a.default.createElement(p.default,{errorKey:I})),j&&a.default.createElement("div",{className:"edit-gas-display__warning"},a.default.createElement(m.default,{className:"actionable-message--warning",message:j,iconFillColor:"var(--color-warning-default)",useIcon:!0})),O&&a.default.createElement("div",{className:"edit-gas-display__dapp-acknowledgement-warning"},a.default.createElement(m.default,{className:"actionable-message--warning",message:M("gasDisplayDappWarning",[n.origin]),iconFillColor:"var(--color-warning-default)",useIcon:!0})),e===i.EditGasModes.speedUp&&a.default.createElement("div",{className:"edit-gas-display__top-tooltip"},a.default.createElement(u.Text,{color:l.TextColor.textDefault,variant:l.TextVariant.bodySm,as:"h6",fontWeight:l.FontWeight.Bold},M("speedUpTooltipText")," ",a.default.createElement(d.default,{position:"top",contentText:M("speedUpExplanation")}))),a.default.createElement(u.Text,{color:l.TextColor.textDefault,variant:l.TextVariant.displayMd,as:"h1",textAlign:l.TextAlign.Center},t),O&&a.default.createElement(s.default,{className:"edit-gas-display__dapp-acknowledgement-button",onClick:()=>T(!0)},M("gasDisplayAcknowledgeDappButtonText")),!O&&a.default.createElement(f.default,{gasLimit:y,setGasLimit:v,gasPrice:r,setGasPrice:h,onManualChange:x,minimumGasLimit:w,gasErrors:k})),a.default.createElement("div",{ref:P,className:"edit-gas-display__scroll-bottom"}))}v.propTypes={mode:r.default.oneOf(Object.values(i.EditGasModes)),estimatedMinimumNative:r.default.string,gasPrice:r.default.string,setGasPrice:r.default.func,gasLimit:r.default.number,setGasLimit:r.default.func,properGasLimit:r.default.number,dappSuggestedGasFeeAcknowledged:r.default.bool,setDappSuggestedGasFeeAcknowledged:r.default.func,transaction:r.default.object,onManualChange:r.default.func,minimumGasLimit:r.default.string,balanceError:r.default.bool,gasErrors:r.default.object,txParamsHaveBeenCustomized:r.default.bool}}}},{package:"$root$",file:"ui/components/app/edit-gas-display/edit-gas-display.component.js"}],[4468,{"./edit-gas-display.component":4467},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./edit-gas-display.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/edit-gas-display/index.js"}],[4469,{"../../../../shared/constants/gas":4319,"../../../contexts/gasFee":5028,"../../../contexts/transaction-modal":5031,"../../../helpers/constants/design-system":5052,"../../../helpers/constants/gas":5054,"../../../hooks/useI18nContext":5116,"../../../hooks/useTransactionEventFragment":5136,"../../component-library":4792,"../../component-library/text/deprecated":4826,"../../ui/info-tooltip/info-tooltip":4948,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=h;var a=g(e("react")),r=g(e("prop-types")),o=e("../../../../shared/constants/gas"),i=e("../../../helpers/constants/design-system"),s=e("../../../helpers/constants/gas"),l=e("../../../contexts/gasFee"),u=e("../../../hooks/useI18nContext"),c=e("../../../hooks/useTransactionEventFragment"),d=e("../../../contexts/transaction-modal"),p=g(e("../../ui/info-tooltip/info-tooltip")),f=e("../../component-library"),m=e("../../component-library/text/deprecated");function g(e){return e&&e.__esModule?e:{default:e}}function h({userAcknowledgedGasMissing:e}){const t=(0,u.useI18nContext)(),{editGasMode:n,gasLimit:r,hasSimulationError:g,estimateUsed:h,maxFeePerGas:y,maxPriorityFeePerGas:v,supportsEIP1559:b,transaction:_}=(0,l.useGasFeeContext)(),{updateTransactionEventFragment:T}=(0,c.useTransactionEventFragment)(),{openModal:x}=(0,d.useTransactionModalContext)();if(!b||!h||!(!g||!0===e))return null;let w=h,E=h;h===o.PriorityLevels.high&&n===o.EditGasModes.swaps?(w="swapSuggested",E="swapSuggested"):h===o.PriorityLevels.tenPercentIncreased&&(w=undefined,E="tenPercentIncreased");return a.default.createElement("div",{className:"edit-gas-fee-button"},a.default.createElement("button",{onClick:()=>{T({gas_edit_attempted:"basic"}),x("editGasFee")},"data-testid":"edit-gas-fee-button"},w&&a.default.createElement("span",{className:"edit-gas-fee-button__icon"},s.PRIORITY_LEVEL_ICON_MAP[w]),a.default.createElement("span",{className:"edit-gas-fee-button__label"},t(E)),a.default.createElement(f.Icon,{name:f.IconName.ArrowRight,color:i.Color.primaryDefault,size:f.IconSize.Xs})),"custom"===h&&a.default.createElement("button",{onClick:()=>{T({gas_edit_attempted:"advanced"}),x("advancedGasFee")}},t("edit")),"dappSuggested"===h&&a.default.createElement(p.default,{contentText:a.default.createElement("div",{className:"edit-gas-fee-button__tooltip"},(null==_?void 0:_.origin)&&a.default.createElement(m.Text,{variant:i.TextVariant.bodySm,as:"h6",color:i.TextColor.textAlternative},t("dappSuggestedTooltip",[_.origin])),a.default.createElement(m.Text,{variant:i.TextVariant.bodySm,as:"h6"},a.default.createElement("b",null,t("maxBaseFee"))," ",y),a.default.createElement(m.Text,{variant:i.TextVariant.bodySm,as:"h6"},a.default.createElement("b",null,t("maxPriorityFee"))," ",v),a.default.createElement(m.Text,{variant:i.TextVariant.bodySm,as:"h6"},a.default.createElement("b",null,t("gasLimit"))," ",r)),position:"top"}))}h.propTypes={userAcknowledgedGasMissing:r.default.bool}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-button/edit-gas-fee-button.js"}],[4470,{"./edit-gas-fee-button":4469},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./edit-gas-fee-button"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-button/index.js"}],[4471,{"../../../../shared/constants/gas":4319,"../../../contexts/gasFee":5028,"../../../contexts/transaction-modal":5031,"../../../helpers/constants/design-system":5052,"../../../helpers/constants/error-keys":5053,"../../../helpers/constants/zendesk-url":5062,"../../../hooks/useI18nContext":5116,"../../component-library/text/deprecated":4826,"../../ui/box":4889,"../../ui/error-message":4920,"../../ui/popover":4980,"../app-loading-spinner":4400,"./edit-gas-item":4473,"./network-statistics":4478,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=v(e("react")),r=e("../../../../shared/constants/gas"),o=e("../../../hooks/useI18nContext"),i=e("../../../contexts/transaction-modal"),s=v(e("../../ui/box")),l=v(e("../../ui/error-message")),u=v(e("../../ui/popover")),c=e("../../../helpers/constants/design-system"),d=e("../../../helpers/constants/error-keys"),p=e("../../../contexts/gasFee"),f=v(e("../app-loading-spinner")),m=v(e("../../../helpers/constants/zendesk-url")),g=e("../../component-library/text/deprecated"),h=v(e("./edit-gas-item")),y=v(e("./network-statistics"));function v(e){return e&&e.__esModule?e:{default:e}}var b=()=>{const{balanceError:e,editGasMode:t}=(0,p.useGasFeeContext)(),n=(0,o.useI18nContext)(),{closeAllModals:v,closeModal:b,currentModal:_,openModalCount:T}=(0,i.useTransactionModalContext)();if("editGasFee"!==_)return null;let x="editGasFeeModalTitle";return t===r.EditGasModes.cancel?x="editCancellationGasFeeModalTitle":t===r.EditGasModes.speedUp&&(x="editSpeedUpEditGasFeeModalTitle"),a.default.createElement(u.default,{title:n(x),onBack:1===T?undefined:()=>b(["editGasFee"]),onClose:v,className:"edit-gas-fee-popover"},a.default.createElement(a.default.Fragment,null,a.default.createElement(f.default,null),a.default.createElement("div",{className:"edit-gas-fee-popover__wrapper"},a.default.createElement("div",{className:"edit-gas-fee-popover__content"},a.default.createElement(s.default,null,e&&a.default.createElement(l.default,{errorKey:d.INSUFFICIENT_FUNDS_ERROR_KEY}),a.default.createElement("div",{className:"edit-gas-fee-popover__content__header"},a.default.createElement("span",{className:"edit-gas-fee-popover__content__header-option"},n("gasOption")),a.default.createElement("span",{className:"edit-gas-fee-popover__content__header-time"},t!==r.EditGasModes.swaps&&n("time")),a.default.createElement("span",{className:"edit-gas-fee-popover__content__header-max-fee"},n("maxFee"))),(t===r.EditGasModes.cancel||t===r.EditGasModes.speedUp)&&a.default.createElement(h.default,{priorityLevel:r.PriorityLevels.tenPercentIncreased}),t===r.EditGasModes.modifyInPlace&&a.default.createElement(h.default,{priorityLevel:r.PriorityLevels.low}),a.default.createElement(h.default,{priorityLevel:r.PriorityLevels.medium}),a.default.createElement(h.default,{priorityLevel:r.PriorityLevels.high}),a.default.createElement("div",{className:"edit-gas-fee-popover__content__separator"}),t===r.EditGasModes.modifyInPlace&&a.default.createElement(h.default,{priorityLevel:r.PriorityLevels.dAppSuggested}),a.default.createElement(h.default,{priorityLevel:r.PriorityLevels.custom})),a.default.createElement(s.default,null,a.default.createElement(y.default,null),a.default.createElement(g.Text,{className:"edit-gas-fee-popover__know-more",align:"center",color:c.TextColor.textAlternative,tag:c.TextVariant.bodyMd,variant:c.TextVariant.bodySm,as:"h6"},n("learnMoreAboutGas",[a.default.createElement("a",{key:"learnMoreLink",target:"_blank",rel:"noopener noreferrer",href:m.default.USER_GUIDE_GAS},n("learnMore"))])))))))};n.default=b}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/edit-gas-fee-popover.js"}],[4472,{"../../../../../shared/constants/gas":4319,"../../../../contexts/gasFee":5028,"../../../../contexts/transaction-modal":5031,"../../../../helpers/constants/common":5050,"../../../../helpers/constants/gas":5054,"../../../../helpers/utils/util":5093,"../../../../hooks/useI18nContext":5116,"../../../../hooks/useTransactionEventFragment":5136,"../../../ui/info-tooltip":4946,"../../../ui/loading-heartbeat":4951,"../../user-preferenced-currency-display":4718,"../edit-gas-tooltip/edit-gas-tooltip":4476,"./useGasItemFeeDetails":4475,classnames:2376,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=b(e("classnames")),r=b(e("prop-types")),o=b(e("react")),i=e("../../../../../shared/constants/gas"),s=e("../../../../helpers/constants/gas"),l=e("../../../../helpers/constants/common"),u=e("../../../../helpers/utils/util"),c=e("../../../../contexts/gasFee"),d=e("../../../../hooks/useI18nContext"),p=e("../../../../hooks/useTransactionEventFragment"),f=e("../../../../contexts/transaction-modal"),m=b(e("../../../ui/info-tooltip")),g=b(e("../../../ui/loading-heartbeat")),h=b(e("../../user-preferenced-currency-display")),y=b(e("../edit-gas-tooltip/edit-gas-tooltip")),v=e("./useGasItemFeeDetails");function b(e){return e&&e.__esModule?e:{default:e}}const _=({priorityLevel:e})=>{const{editGasMode:t,estimateUsed:n,gasLimit:r,updateTransactionToTenPercentIncreasedGasFee:b,updateTransactionUsingDAPPSuggestedValues:_,updateTransactionUsingEstimate:T,transaction:x}=(0,c.useGasFeeContext)(),{updateTransactionEventFragment:w}=(0,p.useTransactionEventFragment)(),E=(0,d.useI18nContext)(),{closeModal:k,openModal:C}=(0,f.useTransactionModalContext)(),{dappSuggestedGasFees:M}=x,{estimateGreaterThanGasUse:P,hexMaximumTransactionFee:S,maxFeePerGas:O,maxPriorityFeePerGas:j,minWaitTime:N}=(0,v.useGasItemFeeDetails)(e);if(!(e!==i.PriorityLevels.dAppSuggested||null!=M&&M.maxFeePerGas||null!=M&&M.gasPrice))return null;const{title:I,icon:R}=((e,t)=>{let n=e,a=e;return e===i.PriorityLevels.dAppSuggested?a="dappSuggestedShortLabel":e===i.PriorityLevels.dappSuggestedHigh?a="dappSuggestedHighShortLabel":e===i.PriorityLevels.tenPercentIncreased?(n=null,a="tenPercentIncreased"):e===i.PriorityLevels.high&&t===i.EditGasModes.swaps&&(n="swapSuggested",a="swapSuggested"),{title:a,icon:n}})(e,t);return o.default.createElement("button",{className:(0,a.default)("edit-gas-item",{"edit-gas-item--selected":e===n,"edit-gas-item--disabled":P}),onClick:()=>{e===i.PriorityLevels.custom?(w({properties:{gas_edit_attempted:"advanced"}}),C("advancedGasFee")):(w({properties:{gas_edit_type:"basic"}}),k(["editGasFee"]),e===i.PriorityLevels.tenPercentIncreased?b():e===i.PriorityLevels.dAppSuggested?_():T(e))},"aria-label":e,autoFocus:e===n,disabled:P,"data-testid":`edit-gas-fee-item-${e}`},o.default.createElement("span",{className:"edit-gas-item__name"},R&&o.default.createElement("span",{className:`edit-gas-item__icon edit-gas-item__icon-${e}`},s.PRIORITY_LEVEL_ICON_MAP[R]),E(I)),o.default.createElement("span",{className:`edit-gas-item__time-estimate edit-gas-item__time-estimate-${e}`},t!==i.EditGasModes.swaps&&(N?(0,u.toHumanReadableTime)(E,N):"--")),o.default.createElement("span",{className:`edit-gas-item__fee-estimate edit-gas-item__fee-estimate-${e}`},S?o.default.createElement("div",{className:"edit-gas-item__maxfee"},o.default.createElement(g.default,{backgroundColor:e===n?"var(--color-background-alternative)":"var(--color-background-default)",estimateUsed:e}),o.default.createElement(h.default,{key:"editGasSubTextFeeAmount",type:l.PRIMARY,value:S})):"--"),o.default.createElement("span",{className:"edit-gas-item__tooltip","data-testid":"gas-tooltip"},o.default.createElement(m.default,{contentText:o.default.createElement(y.default,{t:E,priorityLevel:e,maxFeePerGas:O,maxPriorityFeePerGas:j,editGasMode:t,gasLimit:r,transaction:x,estimateGreaterThanGasUse:P}),position:"top"})))};_.propTypes={priorityLevel:r.default.string};var T=_;n.default=T}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/edit-gas-item/edit-gas-item.js"}],[4473,{"./edit-gas-item":4472},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./edit-gas-item"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/edit-gas-item/index.js"}],[4474,{"../../../../../shared/constants/gas":4319,"../../../../ducks/metamask/metamask":5044,"../../../../store/actions":5456,"bignumber.js":2222,react:4043,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCustomTimeEstimate=void 0;var a,r=e("react"),o=e("react-redux"),i=(a=e("bignumber.js"))&&a.__esModule?a:{default:a},s=e("../../../../../shared/constants/gas"),l=e("../../../../ducks/metamask/metamask"),u=e("../../../../store/actions");n.useCustomTimeEstimate=({gasFeeEstimates:e,maxFeePerGas:t,maxPriorityFeePerGas:n})=>{const a=(0,o.useSelector)(l.getGasEstimateType),c=(0,o.useSelector)(l.getIsGasEstimatesLoading),[d,p]=(0,r.useState)(null),f=c||a!==s.GasEstimateTypes.feeMarket||!n,m=(null==e?void 0:e.low)&&Number(n)<Number(e.low.suggestedMaxPriorityFeePerGas);if((0,r.useEffect)((()=>{!c&&a===s.GasEstimateTypes.feeMarket&&n&&m&&(0,u.getGasFeeTimeEstimate)(new i.default(n,10).toString(10),new i.default(t,10).toString(10)).then((e=>{p(e)}))}),[a,m,c,t,n,f]),f)return{};const{low:g={},medium:h={},high:y={}}=e;let v="";return v=m&&d&&"unknown"!==d&&"unknown"!==(null==d?void 0:d.upperTimeBound)?Number(null==d?void 0:d.upperTimeBound):Number(n)>=Number(h.suggestedMaxPriorityFeePerGas)?y.minWaitTimeEstimate:g.maxWaitTimeEstimate,{waitTimeEstimate:v}}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/edit-gas-item/useCustomTimeEstimate.js"}],[4475,{"../../../../../shared/constants/gas":4319,"../../../../../shared/modules/conversion.utils":4350,"../../../../../shared/modules/gas.utils":4353,"../../../../contexts/gasFee":5028,"../../../../helpers/utils/gas":5078,"../../../../selectors":5449,"./useCustomTimeEstimate":4474,react:4043,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGasItemFeeDetails=void 0;var a=e("react"),r=e("react-redux"),o=e("../../../../../shared/constants/gas"),i=e("../../../../../shared/modules/gas.utils"),s=e("../../../../helpers/utils/gas"),l=e("../../../../selectors"),u=e("../../../../contexts/gasFee"),c=e("../../../../../shared/modules/conversion.utils"),d=e("./useCustomTimeEstimate");n.useGasItemFeeDetails=e=>{const{editGasMode:t,estimateUsed:n,gasFeeEstimates:p,gasLimit:f,maxFeePerGas:m,maxPriorityFeePerGas:g,transaction:h}=(0,u.useGasFeeContext)(),[y,v]=(0,a.useState)(!1),b=(0,r.useSelector)(l.getAdvancedGasFeeValues);let _,T,x;const{dappSuggestedGasFees:w}=h;if(null!=p&&p[e])_=p[e].suggestedMaxFeePerGas,T=p[e].suggestedMaxPriorityFeePerGas;else if(e===o.PriorityLevels.dAppSuggested&&w)_=(0,c.hexWEIToDecGWEI)(w.maxFeePerGas||w.gasPrice),T=(0,c.hexWEIToDecGWEI)(w.maxPriorityFeePerGas||_);else if(e===o.PriorityLevels.custom)n===o.PriorityLevels.custom?(_=m,T=g):b&&t!==o.EditGasModes.swaps&&(_=b.maxBaseFee,T=b.priorityFee);else if(e===o.PriorityLevels.tenPercentIncreased&&h.previousGas){var E,k;_=(0,c.hexWEIToDecGWEI)((0,s.addTenPercentAndRound)(null===(E=h.previousGas)||void 0===E?void 0:E.maxFeePerGas)),T=(0,c.hexWEIToDecGWEI)((0,s.addTenPercentAndRound)(null===(k=h.previousGas)||void 0===k?void 0:k.maxPriorityFeePerGas))}const{waitTimeEstimate:C}=(0,d.useCustomTimeEstimate)({gasFeeEstimates:p,maxFeePerGas:_,maxPriorityFeePerGas:T});x=p[e]?e===o.PriorityLevels.high?null==p?void 0:p.high.minWaitTimeEstimate:null==p?void 0:p.low.maxWaitTimeEstimate:C;const M=_?(0,i.getMaximumGasTotalInHexWei)({gasLimit:(0,c.decimalToHex)(f),maxFeePerGas:(0,c.decGWEIToHexWEI)(_)}):null;return(0,a.useEffect)((()=>{if(!(t!==o.EditGasModes.cancel&&t!==o.EditGasModes.speedUp||e!==o.PriorityLevels.medium&&e!==o.PriorityLevels.high)){const t=!(0,s.gasEstimateGreaterThanGasUsedPlusTenPercent)(h.previousGas||h.txParams,p,e);v(t)}}),[t,p,e,h]),{estimateGreaterThanGasUse:y,maxFeePerGas:_,maxPriorityFeePerGas:T,minWaitTime:x,hexMaximumTransactionFee:M}}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/edit-gas-item/useGasItemFeeDetails.js"}],[4476,{"../../../../../shared/constants/gas":4319,"../../../../helpers/constants/design-system":5052,"../../../../helpers/utils/gas":5078,"../../../../helpers/utils/util":5093,"../../../component-library/text/deprecated":4826,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},i=e("../../../../../shared/constants/gas"),s=e("../../../../helpers/constants/design-system"),l=e("../../../../helpers/utils/gas"),u=e("../../../../helpers/utils/util"),c=e("../../../component-library/text/deprecated");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const p=({editGasMode:e,estimateGreaterThanGasUse:t,gasLimit:n,priorityLevel:a,maxFeePerGas:o,maxPriorityFeePerGas:d,transaction:p,t:f})=>{const m=(0,r.useMemo)((()=>{switch(a){case i.PriorityLevels.low:return f("lowGasSettingToolTipMessage",[r.default.createElement("span",{key:a},r.default.createElement("b",null,f("low")))]);case i.PriorityLevels.medium:return t?f("disabledGasOptionToolTipMessage",[r.default.createElement("span",{key:`disabled-priority-level-${a}`},f(a))]):f("mediumGasSettingToolTipMessage",[r.default.createElement("span",{key:a},r.default.createElement("b",null,f("medium")))]);case i.PriorityLevels.high:return t?f("disabledGasOptionToolTipMessage",[r.default.createElement("span",{key:`disabled-priority-level-${a}`},f(a))]):e===i.EditGasModes.swaps?f("swapSuggestedGasSettingToolTipMessage"):f("highGasSettingToolTipMessage",[r.default.createElement("span",{key:a},r.default.createElement("b",null,f("high")))]);case i.PriorityLevels.custom:return f("customGasSettingToolTipMessage",[r.default.createElement("span",{key:a},r.default.createElement("b",null,f("custom")))]);case i.PriorityLevels.dAppSuggested:return null!=p&&p.origin?f("dappSuggestedGasSettingToolTipMessage",[r.default.createElement("span",{key:null==p?void 0:p.origin},null==p?void 0:p.origin)]):null;default:return""}}),[e,t,a,p,f]);let g;a===i.PriorityLevels.low?g=f("curveLowGasEstimate"):a===i.PriorityLevels.medium?g=f("curveMediumGasEstimate"):a===i.PriorityLevels.high&&(g=f("curveHighGasEstimate"));const h=(0,l.isMetamaskSuggestedGasEstimate)(a)&&!(a===i.PriorityLevels.high&&e===i.EditGasModes.swaps)&&!t;return r.default.createElement("div",{className:"edit-gas-tooltip__container"},h?r.default.createElement("img",{alt:g,src:`./images/curve-${a}.svg`}):null,m&&r.default.createElement("div",{className:"edit-gas-tooltip__container__message"},r.default.createElement(c.Text,{variant:s.TextVariant.bodySm,as:"h6"},m)),a===i.PriorityLevels.custom||t?null:r.default.createElement("div",{className:"edit-gas-tooltip__container__values"},r.default.createElement("div",null,r.default.createElement(c.Text,{variant:s.TextVariant.bodySm,as:"h6",fontWeight:s.FontWeight.Bold,className:"edit-gas-tooltip__container__label"},f("maxBaseFee")),o&&r.default.createElement(c.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textAlternative,className:"edit-gas-tooltip__container__value"},(0,u.roundToDecimalPlacesRemovingExtraZeroes)(o,4))),r.default.createElement("div",null,r.default.createElement(c.Text,{variant:s.TextVariant.bodySm,as:"h6",fontWeight:s.FontWeight.Bold,className:"edit-gas-tooltip__container__label"},f("priorityFeeProperCase")),d&&r.default.createElement(c.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textAlternative,className:"edit-gas-tooltip__container__value"},(0,u.roundToDecimalPlacesRemovingExtraZeroes)(d,4))),r.default.createElement("div",null,r.default.createElement(c.Text,{variant:s.TextVariant.bodySm,as:"h6",fontWeight:s.FontWeight.Bold,className:"edit-gas-tooltip__container__label"},f("gasLimit")),n&&r.default.createElement(c.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textAlternative,className:"edit-gas-tooltip__container__value"},(0,u.roundToDecimalPlacesRemovingExtraZeroes)(n,4)))))};p.propTypes={estimateGreaterThanGasUse:o.default.bool,priorityLevel:o.default.string,maxFeePerGas:o.default.oneOfType([o.default.number,o.default.string]),maxPriorityFeePerGas:o.default.oneOfType([o.default.number,o.default.string]),t:o.default.func,editGasMode:o.default.string,gasLimit:o.default.number,transaction:o.default.object};var f=p;n.default=f}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/edit-gas-tooltip/edit-gas-tooltip.js"}],[4477,{"./edit-gas-fee-popover":4471},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./edit-gas-fee-popover"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/index.js"}],[4478,{"./network-statistics":4479},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./network-statistics"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/network-statistics/index.js"}],[4479,{"../../../../contexts/gasFee":5028,"../../../../contexts/i18n":5029,"../../../../helpers/constants/design-system":5052,"../../../../helpers/utils/gas":5078,"../../../../helpers/utils/util":5093,"../../../component-library/text/deprecated":4826,"./status-slider":4480,"./tooltips":4482,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=e("../../../../helpers/constants/design-system"),i=e("../../../../helpers/utils/util"),s=e("../../../../helpers/utils/gas"),l=e("../../../../contexts/i18n"),u=e("../../../../contexts/gasFee"),c=e("../../../component-library/text/deprecated"),d=e("./tooltips"),p=(a=e("./status-slider"))&&a.__esModule?a:{default:a};function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var m=()=>{const e=(0,r.useContext)(l.I18nContext),{gasFeeEstimates:t}=(0,u.useGasFeeContext)(),n=(0,s.formatGasFeeOrFeeRange)(null==t?void 0:t.estimatedBaseFee,{precision:0}),a=(0,s.formatGasFeeOrFeeRange)(null==t?void 0:t.latestPriorityFeeRange,{precision:[1,0]}),f=null==t?void 0:t.networkCongestion;return r.default.createElement("div",{className:"network-statistics"},r.default.createElement(c.Text,{color:o.TextColor.textAlternative,fontWeight:o.FontWeight.Bold,marginTop:3,marginBottom:3,variant:o.TextVariant.bodyXs,as:"h6"},e("networkStatus")),r.default.createElement("div",{className:"network-statistics__info"},(0,i.isNullish)(n)?null:r.default.createElement("div",{className:"network-statistics__field","data-testid":"formatted-latest-base-fee"},r.default.createElement(d.BaseFeeTooltip,null,r.default.createElement("span",{className:"network-statistics__field-data"},n),r.default.createElement("span",{className:"network-statistics__field-label"},e("baseFee")))),(0,i.isNullish)(a)?null:r.default.createElement("div",{className:"network-statistics__field","data-testid":"formatted-latest-priority-fee-range"},r.default.createElement(d.PriorityFeeTooltip,null,r.default.createElement("span",{className:"network-statistics__field-data"},a),r.default.createElement("span",{className:"network-statistics__field-label"},e("priorityFee")))),(0,i.isNullish)(f)?null:r.default.createElement("div",{className:"network-statistics__field"},r.default.createElement(p.default,null))))};n.default=m}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/network-statistics/network-statistics.js"}],[4480,{"./status-slider":4481},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./status-slider"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/network-statistics/status-slider/index.js"}],[4481,{"../../../../../../shared/constants/gas":4319,"../../../../../contexts/gasFee":5028,"../../../../../hooks/useI18nContext":5116,"../tooltips":4482,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("../../../../../../shared/constants/gas"),i=e("../../../../../contexts/gasFee"),s=e("../../../../../hooks/useI18nContext"),l=e("../tooltips");const u=["#037DD6","#1876C8","#2D70BA","#4369AB","#57629E","#6A5D92","#805683","#9A4D71","#B44561","#C54055","#D73A49"];var c=()=>{const e=(0,s.useI18nContext)(),{gasFeeEstimates:t}=(0,i.useGasFeeContext)(),n=(e=>{const t=e??.5,n=Math.round(10*t),a=u[n],r=10*n;return t>=o.NetworkCongestionThresholds.busy?{statusLabel:"busy",tooltipLabel:"highLowercase",color:a,sliderTickValue:r}:t>=o.NetworkCongestionThresholds.stable?{statusLabel:"stable",tooltipLabel:"stableLowercase",color:a,sliderTickValue:r}:{statusLabel:"notBusy",tooltipLabel:"lowLowercase",color:a,sliderTickValue:r}})(t.networkCongestion);return r.default.createElement(l.NetworkStabilityTooltip,{color:n.color,tooltipLabel:n.tooltipLabel},r.default.createElement("div",{className:"status-slider"},r.default.createElement("div",{className:"status-slider__arrow-container"},r.default.createElement("div",{className:"status-slider__arrow-border",style:{marginLeft:`${n.sliderTickValue}%`},"data-testid":"status-slider-arrow-border"},r.default.createElement("div",{className:"status-slider__arrow",style:{borderTopColor:n.color},"data-testid":"status-slider-arrow"}))),r.default.createElement("div",{className:"status-slider__line"}),r.default.createElement("div",{className:"status-slider__label",style:{color:n.color},"data-testid":"status-slider-label"},e(n.statusLabel))))};n.default=c}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/network-statistics/status-slider/status-slider.js"}],[4482,{"../../../../helpers/constants/design-system":5052,"../../../../hooks/useI18nContext":5116,"../../../ui/box":4889,"../../../ui/tooltip":5017,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PriorityFeeTooltip=n.NetworkStabilityTooltip=n.BaseFeeTooltip=void 0;var a=u(e("react")),r=u(e("prop-types")),o=e("../../../../hooks/useI18nContext"),i=u(e("../../../ui/box")),s=u(e("../../../ui/tooltip")),l=e("../../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}const c=({children:e,html:t,title:n})=>a.default.createElement(s.default,{position:"top",html:t,title:n},a.default.createElement(i.default,{display:l.DISPLAY.FLEX,flexDirection:l.FLEX_DIRECTION.COLUMN},e));c.propTypes={children:r.default.node.isRequired,html:r.default.node,title:r.default.string};const d=({children:e})=>{const t=(0,o.useI18nContext)();return a.default.createElement(c,{html:t("networkStatusBaseFeeTooltip",[a.default.createElement("strong",{key:"base_fee_medium_estimate",className:"network-status__tooltip-label"},t("medium")),a.default.createElement("strong",{key:"base_fee_high_estimate",className:"network-status__tooltip-label"},t("high"))])},e)};n.BaseFeeTooltip=d,d.propTypes={children:r.default.node.isRequired};const p=({children:e})=>{const t=(0,o.useI18nContext)();return a.default.createElement(c,{title:t("networkStatusPriorityFeeTooltip")},e)};n.PriorityFeeTooltip=p,p.propTypes={children:r.default.node.isRequired};const f=({children:e,color:t,tooltipLabel:n})=>{const r=(0,o.useI18nContext)();return a.default.createElement(c,{html:r("networkStatusStabilityFeeTooltip",[a.default.createElement("strong",{key:"network-status__tooltip",className:"network-status__tooltip-label",style:{color:t}},r(n))])},e)};n.NetworkStabilityTooltip=f,f.propTypes={children:r.default.node.isRequired,color:r.default.string.isRequired,tooltipLabel:r.default.string.isRequired}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/network-statistics/tooltips.js"}],[4483,{"../../../../shared/constants/gas":4319,"../../../../shared/modules/conversion.utils":4350,"../../../../shared/modules/transaction.utils":4365,"../../../contexts/i18n":5029,"../../../hooks/gasFeeInput/useGasFeeInputs":5099,"../../../hooks/useIncrementedGasFees":5117,"../../../store/actions":5456,"../../ui/button":4893,"../../ui/loading-heartbeat":4951,"../../ui/popover":4980,"../edit-gas-display":4468,"prop-types":3766,react:4043,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=_;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=y(e("prop-types")),o=e("react-redux"),i=e("../../../hooks/gasFeeInput/useGasFeeInputs"),s=e("../../../../shared/modules/transaction.utils"),l=e("../../../../shared/constants/gas"),u=y(e("../../ui/popover")),c=y(e("../../ui/button")),d=y(e("../edit-gas-display")),p=e("../../../contexts/i18n"),f=e("../../../store/actions"),m=y(e("../../ui/loading-heartbeat")),g=e("../../../hooks/useIncrementedGasFees"),h=e("../../../../shared/modules/conversion.utils");function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},b.apply(this,arguments)}function _({popoverTitle:e="",confirmButtonText:t="",editGasDisplayProps:n={},transaction:r,mode:y,onClose:v,minimumGasLimit:_=l.GAS_LIMITS.SIMPLE}){const T=(0,a.useContext)(p.I18nContext),x=(0,o.useDispatch)(),[w,E]=(0,a.useState)(!1),k=(0,h.hexToDecimal)(_),C=(0,g.useIncrementedGasFees)(r);let M=r;y!==l.EditGasModes.speedUp&&y!==l.EditGasModes.cancel||(M={...r,userFeeLevel:l.CUSTOM_GAS_ESTIMATE,txParams:{...r.txParams,...C}});const{estimatedMinimumNative:P,gasPrice:S,setGasPrice:O,gasLimit:j,setGasLimit:N,properGasLimit:I,estimateToUse:R,hasGasErrors:D,gasErrors:A,onManualChange:L,balanceError:F}=(0,i.useGasFeeInputs)(l.GasRecommendations.medium,M,_,y),W=R===l.CUSTOM_GAS_ESTIMATE||(0,s.txParamsAreDappSuggested)(M),q=(0,a.useCallback)((()=>{v?v():x((0,f.hideModal)())}),[v,x]),$=(0,a.useCallback)((async()=>{M&&y||q();const e={gas:(0,h.decimalToHex)(j),gasLimit:(0,h.decimalToHex)(j),estimateUsed:R,gasPrice:(0,h.decGWEIToHexWEI)(S)},t={...M.txParams},n={...M,userEditedGasLimit:j!==Number(r.originalGasEstimate),userFeeLevel:R||l.CUSTOM_GAS_ESTIMATE,txParams:{...t,...e}};switch(y){case l.EditGasModes.cancel:x((0,f.createCancelTransaction)(M.id,e));break;case l.EditGasModes.speedUp:x((0,f.createSpeedUpTransaction)(M.id,e));break;case l.EditGasModes.modifyInPlace:e.userEditedGasLimit=n.userEditedGasLimit,e.userFeeLevel=n.userFeeLevel,x((0,f.showLoadingIndication)()),await x((0,f.updateTransactionGasFees)(n.id,e)),x((0,f.hideLoadingIndication)())}q()}),[M,y,x,q,j,S,r.originalGasEstimate,R]);let B=T("editGasTitle");e?B=e:y===l.EditGasModes.speedUp?B=T("speedUpPopoverTitle"):y===l.EditGasModes.cancel&&(B=T("cancelPopoverTitle"));const G=t||T("save");return a.default.createElement(u.default,{title:B,onClose:q,className:"edit-gas-popover__wrapper",footer:a.default.createElement(c.default,{type:"primary",onClick:$,disabled:D||F||!W},G)},a.default.createElement("div",{style:{padding:"0 20px 20px 20px",position:"relative"}},a.default.createElement(m.default,null),a.default.createElement(d.default,b({dappSuggestedGasFeeAcknowledged:w,setDappSuggestedGasFeeAcknowledged:E,estimatedMinimumNative:P,gasPrice:S,setGasPrice:O,gasLimit:j,setGasLimit:N,properGasLimit:I,mode:y,transaction:M,onManualChange:L,minimumGasLimit:k,balanceError:F,txParamsHaveBeenCustomized:W,gasErrors:A},n))))}_.propTypes={popoverTitle:r.default.string,editGasDisplayProps:r.default.object,confirmButtonText:r.default.string,onClose:r.default.func,transaction:r.default.object,mode:r.default.oneOf(Object.values(l.EditGasModes)),minimumGasLimit:r.default.string}}}},{package:"$root$",file:"ui/components/app/edit-gas-popover/edit-gas-popover.component.js"}],[4484,{"./edit-gas-popover.component":4483},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./edit-gas-popover.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/edit-gas-popover/index.js"}],[4485,{"../../../../helpers/constants/design-system":5052,"../../../../hooks/useI18nContext":5116,"../../../../selectors":5449,"../../../component-library/text/deprecated":4826,"../../../ui/box":4889,"../../../ui/info-tooltip/info-tooltip":4948,react:4043,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=d(e("react")),r=e("react-redux"),o=e("../../../../helpers/constants/design-system"),i=e("../../../../hooks/useI18nContext"),s=e("../../../../selectors"),l=d(e("../../../ui/box")),u=d(e("../../../ui/info-tooltip/info-tooltip")),c=e("../../../component-library/text/deprecated");function d(e){return e&&e.__esModule?e:{default:e}}var p=()=>{const e=(0,i.useI18nContext)(),t=(0,r.useSelector)(s.getIsMainnet);return a.default.createElement(l.default,{display:"flex"},a.default.createElement(l.default,{marginRight:1},e("gas")),a.default.createElement("span",{className:"gas-details-item-title__estimate"},"(",e("transactionDetailGasInfoV2"),")"),a.default.createElement(u.default,{contentText:a.default.createElement(a.default.Fragment,null,a.default.createElement(c.Text,{variant:o.TextVariant.bodySm,as:"h6"},e("transactionDetailGasTooltipIntro",[t?e("networkNameEthereum"):""])),a.default.createElement(c.Text,{variant:o.TextVariant.bodySm,as:"h6"},e("transactionDetailGasTooltipExplanation")),a.default.createElement(c.Text,{variant:o.TextVariant.bodySm,as:"h6"},a.default.createElement("a",{href:"https://community.metamask.io/t/what-is-gas-why-do-transactions-take-so-long/3172",target:"_blank",rel:"noopener noreferrer"},e("transactionDetailGasTooltipConversion")))),position:"bottom"}))};n.default=p}}},{package:"$root$",file:"ui/components/app/gas-details-item/gas-details-item-title/gas-details-item-title.js"}],[4486,{"./gas-details-item-title":4485},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./gas-details-item-title"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/gas-details-item/gas-details-item-title/index.js"}],[4487,{"../../../../shared/constants/gas":4319,"../../../../shared/modules/conversion.utils":4350,"../../../contexts/gasFee":5028,"../../../ducks/send":5046,"../../../helpers/constants/common":5050,"../../../helpers/constants/design-system":5052,"../../../hooks/useDraftTransactionWithTxParams":5112,"../../../hooks/useI18nContext":5116,"../../../selectors":5449,"../../ui/box":4889,"../../ui/loading-heartbeat":4951,"../gas-timing/gas-timing.component":4489,"../transaction-detail-item/transaction-detail-item.component":4704,"../user-preferenced-currency-display":4718,"./gas-details-item-title":4486,classnames:2376,"prop-types":3766,react:4043,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=x(e("react")),r=x(e("prop-types")),o=x(e("classnames")),i=e("react-redux"),s=e("../../../helpers/constants/design-system"),l=e("../../../helpers/constants/common"),u=e("../../../selectors"),c=e("../../../ducks/send"),d=e("../../../contexts/gasFee"),p=e("../../../hooks/useI18nContext"),f=x(e("../../ui/box")),m=x(e("../../ui/loading-heartbeat")),g=x(e("../gas-timing/gas-timing.component")),h=x(e("../transaction-detail-item/transaction-detail-item.component")),y=x(e("../user-preferenced-currency-display")),v=e("../../../../shared/modules/conversion.utils"),b=e("../../../hooks/useDraftTransactionWithTxParams"),_=e("../../../../shared/constants/gas"),T=x(e("./gas-details-item-title"));function x(e){return e&&e.__esModule?e:{default:e}}const w=({"data-testid":e,userAcknowledgedGasMissing:t=!1})=>{var n,r;const x=(0,p.useI18nContext)(),w=(0,i.useSelector)(c.getCurrentDraftTransaction),E=(0,b.useDraftTransactionWithTxParams)(),{hexMinimumTransactionFee:k,hexMaximumTransactionFee:C}=(0,i.useSelector)((e=>(0,u.transactionFeeSelector)(e,E))),{estimateUsed:M,hasSimulationError:P,maximumCostInHexWei:S,minimumCostInHexWei:O,maxPriorityFeePerGas:j,maxFeePerGas:N}=(0,d.useGasFeeContext)(),{useNativeCurrencyAsPrimaryCurrency:I}=(0,i.useSelector)(u.getPreferences),R=(0,i.useSelector)(u.getUseCurrencyRateCheck);if(P&&!t)return null;const D=(j??(0,v.hexWEIToDecGWEI)((null===(n=E.txParams)||void 0===n?void 0:n.maxPriorityFeePerGas)??"0x0")).toString(),A=(N??(0,v.hexWEIToDecGWEI)((null===(r=E.txParams)||void 0===r?void 0:r.maxFeePerGas)??"0x0")).toString();return a.default.createElement(h.default,{key:"gas-details-item","data-testid":e,detailTitle:a.default.createElement(T.default,null),detailTitleColor:s.TextColor.textDefault,detailText:R&&0===Object.keys(w).length&&a.default.createElement("div",{className:"gas-details-item__currency-container"},a.default.createElement(m.default,{estimateUsed:M}),a.default.createElement(y.default,{type:l.SECONDARY,value:O,hideLabel:Boolean(I)})),detailTotal:a.default.createElement("div",{className:"gas-details-item__currency-container"},a.default.createElement(m.default,{estimateUsed:M}),a.default.createElement(y.default,{type:l.PRIMARY,value:O||k,hideLabel:!I})),subText:a.default.createElement(a.default.Fragment,null,a.default.createElement(f.default,{key:"editGasSubTextFeeLabel",display:"inline-flex",className:(0,o.default)("gas-details-item__gasfee-label",{"gas-details-item__gas-fee-warning":M===_.PriorityLevels.high||M===_.PriorityLevels.dappSuggestedHigh})},a.default.createElement(m.default,{estimateUsed:M}),a.default.createElement(f.default,{marginRight:1},a.default.createElement("strong",null,(M===_.PriorityLevels.high||M===_.PriorityLevels.dappSuggestedHigh)&&" ",x("editGasSubTextFeeLabel"))),a.default.createElement("div",{key:"editGasSubTextFeeValue",className:"gas-details-item__currency-container"},a.default.createElement(m.default,{estimateUsed:M}),a.default.createElement(y.default,{key:"editGasSubTextFeeAmount",type:l.PRIMARY,value:S||C,hideLabel:!I})))),subTitle:a.default.createElement(g.default,{maxPriorityFeePerGas:D,maxFeePerGas:A})})};w.propTypes={"data-testid":r.default.string,userAcknowledgedGasMissing:r.default.bool};var E=w;n.default=E}}},{package:"$root$",file:"ui/components/app/gas-details-item/gas-details-item.js"}],[4488,{"./gas-details-item":4487},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./gas-details-item"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/gas-details-item/index.js"}],[4489,{"../../../../shared/constants/gas":4319,"../../../contexts/gasFee":5028,"../../../contexts/i18n":5029,"../../../ducks/metamask/metamask":5044,"../../../helpers/constants/design-system":5052,"../../../helpers/constants/gas":5054,"../../../hooks/usePrevious":5120,"../../../store/actions":5456,"../../ui/typography/typography":5022,"bignumber.js":2222,classnames:2376,"prop-types":3766,react:4043,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=_;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),o=y(e("prop-types")),i=y(e("classnames")),s=y(e("bignumber.js")),l=e("../../../../shared/constants/gas"),u=e("../../../hooks/usePrevious"),c=e("../../../contexts/i18n"),d=e("../../../contexts/gasFee"),p=e("../../../ducks/metamask/metamask"),f=y(e("../../ui/typography/typography")),m=e("../../../helpers/constants/design-system"),g=e("../../../store/actions"),h=e("../../../helpers/constants/gas");function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}const b=(e=1,t)=>{const n=Math.ceil(e/1e3);return n<=90?t("gasTimingSeconds",[n]):t("gasTimingMinutes",[Math.ceil(n/60)])};function _({maxFeePerGas:e=0,maxPriorityFeePerGas:t=0,gasWarnings:n}){const o=(0,r.useSelector)(p.getGasEstimateType),y=(0,r.useSelector)(p.getGasFeeEstimates),v=(0,r.useSelector)(p.getIsGasEstimatesLoading),[_,T]=(0,a.useState)(null),x=(0,a.useContext)(c.I18nContext),{estimateUsed:w}=(0,d.useGasFeeContext)(),E=(null==y?void 0:y.low)&&Number(t)<Number(y.low.suggestedMaxPriorityFeePerGas),k=(0,u.usePrevious)(e),C=(0,u.usePrevious)(t),M=(0,u.usePrevious)(E);if((0,a.useEffect)((()=>{const n=t,a=e;(E||n&&n!==C||a&&a!==k)&&(0,g.getGasFeeTimeEstimate)(new s.default(n,10).toString(10),new s.default(a,10).toString(10)).then((r=>{e===a&&t===n&&T(r)})),!1!==E&&!0===M&&T(null)}),[t,e,E,k,C,M]),(null==n?void 0:n.maxPriorityFee)===h.GAS_FORM_ERRORS.MAX_PRIORITY_FEE_TOO_LOW||(null==n?void 0:n.maxFee)===h.GAS_FORM_ERRORS.MAX_FEE_TOO_LOW)return a.default.createElement(f.default,{variant:m.TypographyVariant.H7,fontWeight:m.FONT_WEIGHT.BOLD,className:(0,i.default)("gas-timing","gas-timing--negative")},x("editGasTooLow"));if(v||o!==l.GasEstimateTypes.feeMarket)return null;const{low:P={},medium:S={},high:O={}}=y;let j="",N="positive";return Number(t)>=Number(S.suggestedMaxPriorityFeePerGas)?j=Number(t)<Number(O.suggestedMaxPriorityFeePerGas)?x("gasTimingPositive",[b(P.maxWaitTimeEstimate,x)]):x("gasTimingVeryPositive",[b(O.minWaitTimeEstimate,x)]):("low"===w&&(N="negative"),E?_&&"unknown"!==_&&"unknown"!==(null==_?void 0:_.upperTimeBound)?j=x("gasTimingNegative",[b(Number(null==_?void 0:_.upperTimeBound),x)]):(j=x("editGasTooLow"),N="negative"):j=x("gasTimingNegative",[b(P.maxWaitTimeEstimate,x)])),a.default.createElement(f.default,{variant:m.TypographyVariant.H7,className:(0,i.default)("gas-timing",{[`gas-timing--${N}`]:N})},j)}_.propTypes={maxPriorityFeePerGas:o.default.string,maxFeePerGas:o.default.string,gasWarnings:o.default.object}}}},{package:"$root$",file:"ui/components/app/gas-timing/gas-timing.component.js"}],[4490,{"../../../../shared/constants/metametrics":4323,"../../../contexts/i18n":5029,"../../../contexts/metametrics":5030,"../../../helpers/constants/design-system":5052,"../../component-library":4792,classnames:2376,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=g;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=d(e("prop-types")),o=d(e("classnames")),i=e("../../../contexts/i18n"),s=e("../../../helpers/constants/design-system"),l=e("../../../contexts/metametrics"),u=e("../../../../shared/constants/metametrics"),c=e("../../component-library");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f=14,m=f-1;function g({buttonText:e,onLongPressed:t}){const n=(0,a.useContext)(i.I18nContext),r=(0,a.useRef)(!1),[d,p]=(0,a.useState)(!1),[g,h]=(0,a.useState)(!1),y=(0,a.useContext)(l.MetaMetricsContext),v=e=>{e.stopPropagation()},b=()=>{r.current&&p(!0)},_=(0,a.useCallback)((e=>{y({category:u.MetaMetricsEventCategory.Keys,event:u.MetaMetricsEventName.SrpHoldToRevealCompleted,properties:{key_type:u.MetaMetricsEventKeyType.Srp}}),y({category:u.MetaMetricsEventCategory.Keys,event:u.MetaMetricsEventName.SrpRevealViewed,properties:{key_type:u.MetaMetricsEventKeyType.Srp}}),t(),h(!0),v(e)}),[t,y]),T=()=>{p(!1),h(!1)},x=(0,a.useCallback)((()=>a.default.createElement(c.Box,{className:(0,o.default)("hold-to-reveal-button__absolute-fill",{"hold-to-reveal-button__absolute-fill":d,"hold-to-reveal-button__main-icon-show":g})},a.default.createElement(c.Box,{className:"hold-to-reveal-button__absolute-fill"},a.default.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},a.default.createElement("circle",{className:"hold-to-reveal-button__circle-background",cx:f,cy:f,r:m}))),a.default.createElement(c.Box,{className:"hold-to-reveal-button__absolute-fill"},a.default.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},a.default.createElement("circle",{"aria-label":n("holdToRevealLockedLabel"),onTransitionEnd:b,className:"hold-to-reveal-button__circle-foreground",cx:f,cy:f,r:m}))),a.default.createElement(c.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center,className:"hold-to-reveal-button__lock-icon-container"},a.default.createElement("img",{src:"images/lock-icon.svg",alt:n("padlock"),className:"hold-to-reveal-button__lock-icon"})))),[d,g,n]),w=(0,a.useCallback)((()=>d?a.default.createElement("div",{className:(0,o.default)("hold-to-reveal-button__absolute-fill",{"hold-to-reveal-button__unlock-icon-hide":g}),onAnimationEnd:T},a.default.createElement("div",{onAnimationEnd:v,className:"hold-to-reveal-button__absolute-fill hold-to-reveal-button__circle-static-outer-container"},a.default.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},a.default.createElement("circle",{className:"hold-to-reveal-button__circle-static-outer",cx:14,cy:14,r:14}))),a.default.createElement("div",{onAnimationEnd:v,className:"hold-to-reveal-button__absolute-fill hold-to-reveal-button__circle-static-inner-container"},a.default.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},a.default.createElement("circle",{className:"hold-to-reveal-button__circle-static-inner",cx:14,cy:14,r:12}))),a.default.createElement("div",{"aria-label":n("holdToRevealUnlockedLabel"),className:"hold-to-reveal-button__unlock-icon-container",onAnimationEnd:_},a.default.createElement("img",{src:"images/unlock-icon.svg",alt:n("padlock"),className:"hold-to-reveal-button__unlock-icon"}))):null),[d,g,_,n]);return a.default.createElement(c.Button,{onPointerDown:()=>{r.current=!0,y({category:u.MetaMetricsEventCategory.Keys,event:u.MetaMetricsEventName.SrpHoldToRevealClickStarted,properties:{key_type:u.MetaMetricsEventKeyType.Srp}})},onPointerUp:()=>{r.current=!1},className:"hold-to-reveal-button__button-hold",textProps:{display:s.Display.Flex,alignItems:s.AlignItems.center}},a.default.createElement(c.Box,{className:"hold-to-reveal-button__icon-container",marginRight:2},x(),w()),e)}g.propTypes={buttonText:r.default.string.isRequired,onLongPressed:r.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/hold-to-reveal-button/hold-to-reveal-button.js"}],[4491,{"./hold-to-reveal-button":4490},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./hold-to-reveal-button"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/hold-to-reveal-button/index.js"}],[4492,{"../../../helpers/constants/design-system":5052,"../../component-library":4792,"../../ui/button":4893,"../../ui/check-box":4897,"../../ui/tooltip":5017,classnames:2376,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=d(e("classnames")),o=d(e("prop-types")),i=d(e("../../ui/button")),s=d(e("../../ui/check-box")),l=d(e("../../ui/tooltip")),u=e("../../component-library"),c=e("../../../helpers/constants/design-system");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f=({acceptText:e,checkboxText:t,checkboxTooltipText:n,classNames:o=[],descriptionText:d,ignoreText:p,infoText:f,onAccept:m,onIgnore:g})=>{const[h,y]=(0,a.useState)(!1),v=t&&a.default.createElement(s.default,{id:"homeNotification_checkbox",checked:h,className:"home-notification__checkbox",onClick:()=>y((e=>!e))});return a.default.createElement("div",{className:(0,r.default)("home-notification",...o)},a.default.createElement("div",{className:"home-notification__content"},a.default.createElement("div",{className:"home-notification__content-container"},a.default.createElement("div",{className:"home-notification__text"},d)),f?a.default.createElement(l.default,{position:"top",title:f,wrapperClassName:"home-notification__tooltip-wrapper"},a.default.createElement(u.Icon,{name:u.IconName.Info,color:c.IconColor.iconDefault})):null),a.default.createElement("div",{className:"home-notification__buttons"},m&&e?a.default.createElement(i.default,{type:"primary",className:"home-notification__accept-button",onClick:m},e):null,g&&p?a.default.createElement(i.default,{type:"secondary",className:"home-notification__ignore-button",onClick:()=>g(h)},p):null,t?a.default.createElement("div",{className:"home-notification__checkbox-wrapper"},n?a.default.createElement(l.default,{position:"top",title:n,wrapperClassName:"home-notification__checkbox-label-tooltip"},v):v,a.default.createElement("label",{className:"home-notification__checkbox-label",htmlFor:"homeNotification_checkbox"},t)):null))};f.propTypes={acceptText:o.default.node,checkboxText:o.default.node,checkboxTooltipText:o.default.node,classNames:o.default.array,descriptionText:o.default.node.isRequired,ignoreText:o.default.node,infoText:o.default.node,onAccept:o.default.func,onIgnore:o.default.func};var m=f;n.default=m}}},{package:"$root$",file:"ui/components/app/home-notification/home-notification.component.js"}],[4493,{"./home-notification.component":4492},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./home-notification.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/home-notification/index.js"}],[4494,{"./ledger-instruction-field":4495},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./ledger-instruction-field"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/ledger-instruction-field/index.js"}],[4495,{"../../../../app/scripts/lib/util":82,"../../../../shared/constants/app":4316,"../../../../shared/constants/hardware-wallets":4320,"../../../ducks/app/app":5036,"../../../ducks/metamask/metamask":5044,"../../../helpers/constants/design-system":5052,"../../../hooks/useI18nContext":5116,"../../../store/actions":5456,"../../component-library":4792,"../../component-library/text/deprecated":4826,"prop-types":3766,react:4043,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=b;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=e("react-redux"),i=(a=e("prop-types"))&&a.__esModule?a:{default:a},s=e("../../../../shared/constants/hardware-wallets"),l=e("../../../../shared/constants/app"),u=e("../../../ducks/app/app"),c=e("../../component-library"),d=e("../../component-library/text/deprecated"),p=e("../../../hooks/useI18nContext"),f=e("../../../helpers/constants/design-system"),m=e("../../../../app/scripts/lib/util"),g=e("../../../ducks/metamask/metamask"),h=e("../../../store/actions");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}const v=(e,t=!0,n=f.TextColor.textDefault)=>t&&r.default.createElement(d.Text,{color:n,as:"h6"},e);function b({showDataInstruction:e}){const t=(0,p.useI18nContext)(),n=(0,o.useDispatch)(),a=(0,o.useSelector)(u.getLedgerWebHidConnectedStatus),i=(0,o.useSelector)(g.getLedgerTransportType),d=(0,o.useSelector)(u.getLedgerTransportStatus),y=(0,m.getEnvironmentType)()===l.ENVIRONMENT_TYPE_FULLSCREEN;(0,r.useEffect)((()=>{(async()=>{if(i===s.LedgerTransportTypes.webhid&&a===s.WebHIDConnectedStatuses.connected&&d===s.HardwareTransportStates.none)try{const e=await(0,h.attemptLedgerTransportCreation)();n((0,u.setLedgerTransportStatus)(e?s.HardwareTransportStates.verified:s.HardwareTransportStates.unknownFailure))}catch(e){e.message.match("Failed to open the device")?n((0,u.setLedgerTransportStatus)(s.HardwareTransportStates.deviceOpenFailure)):e.message.match("the device is already open")?n((0,u.setLedgerTransportStatus)(s.HardwareTransportStates.verified)):n((0,u.setLedgerTransportStatus)(s.HardwareTransportStates.unknownFailure))}})(),(async()=>{if(i===s.LedgerTransportTypes.webhid&&a!==s.WebHIDConnectedStatuses.connected){var e,t;const a=await(null===(e=window.navigator)||void 0===e||null===(t=e.hid)||void 0===t?void 0:t.getDevices()),r=null==a?void 0:a.some((e=>e.vendorId===Number(s.LEDGER_USB_VENDOR_ID)));n((0,u.setLedgerWebHidConnectedStatus)(r?s.WebHIDConnectedStatuses.connected:s.WebHIDConnectedStatuses.notConnected))}})()}),[n,i,a,d]),(0,r.useEffect)((()=>()=>{n((0,u.setLedgerTransportStatus)(s.HardwareTransportStates.none))}),[n]);const b=i===s.LedgerTransportTypes.live,_=i===s.LedgerTransportTypes.webhid,T=(0,m.getPlatform)()===l.PLATFORM_FIREFOX;return r.default.createElement("div",null,r.default.createElement("div",{className:"confirm-detail-row"},r.default.createElement(c.BannerAlert,{severity:f.SEVERITIES.INFO},r.default.createElement("div",{className:"ledger-live-dialog"},v(t("ledgerConnectionInstructionHeader")),v(` ${t("ledgerConnectionInstructionStepOne")}`,!T&&b),v(` ${t("ledgerConnectionInstructionStepTwo")}`,!T&&b),v(` ${t("ledgerConnectionInstructionStepThree")}`),v(` ${t("ledgerConnectionInstructionStepFour")}`,e),v(r.default.createElement("span",null,r.default.createElement(c.ButtonLink,{textAlign:f.TextAlign.Left,onClick:async()=>{y?window.location.reload():global.platform.openExtensionInBrowser(null,null,!0)}},t("ledgerConnectionInstructionCloseOtherApps"))),d===s.HardwareTransportStates.deviceOpenFailure),v(r.default.createElement("span",null,r.default.createElement(c.ButtonLink,{textAlign:f.TextAlign.Left,onClick:async()=>{if(y){const e=(await window.navigator.hid.requestDevice({filters:[{vendorId:s.LEDGER_USB_VENDOR_ID}]})).some((e=>e.vendorId===Number(s.LEDGER_USB_VENDOR_ID)));n((0,u.setLedgerWebHidConnectedStatus)({webHidConnectedStatus:e?s.WebHIDConnectedStatuses.connected:s.WebHIDConnectedStatuses.notConnected}))}else global.platform.openExtensionInBrowser(null,null,!0)}},t(y?"clickToConnectLedgerViaWebHID":"openFullScreenForLedgerWebHid"))),_&&a===s.WebHIDConnectedStatuses.notConnected,f.TextColor.WARNING_DEFAULT)))))}b.propTypes={showDataInstruction:i.default.bool}}}},{package:"$root$",file:"ui/components/app/ledger-instruction-field/ledger-instruction-field.js"}],[4496,{"./loading-network-screen.container":4498},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./loading-network-screen.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/loading-network-screen/index.js"}],[4497,{"../../../../shared/constants/network":4324,"../../../../shared/constants/time":4334,"../../../helpers/constants/design-system":5052,"../../component-library":4792,"../../component-library/text/deprecated":4826,"../../ui/box/box":4888,"../../ui/loading-screen":4954,"../../ui/popover/popover.component":4981,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=f(e("prop-types")),o=f(e("../../ui/loading-screen")),i=e("../../../../shared/constants/time"),s=e("../../../../shared/constants/network"),l=f(e("../../ui/popover/popover.component")),u=e("../../component-library"),c=e("../../component-library/text/deprecated"),d=e("../../../helpers/constants/design-system"),p=f(e("../../ui/box/box"));function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends a.PureComponent{constructor(...e){super(...e),g(this,"state",{showErrorScreen:!1}),g(this,"componentDidMount",(()=>{this.cancelCallTimeout=setTimeout(this.cancelCall,this.props.cancelTime||15*i.SECOND)})),g(this,"getConnectingLabel",(function(e){if(e)return e;const{providerConfig:t,providerId:n}=this.props,a=t.type,{t:r}=this.context;switch(a){case s.NETWORK_TYPES.MAINNET:return r("connectingToMainnet");case s.NETWORK_TYPES.GOERLI:return r("connectingToGoerli");case s.NETWORK_TYPES.SEPOLIA:return r("connectingToSepolia");case s.NETWORK_TYPES.LINEA_GOERLI:return r("connectingToLineaGoerli");case s.NETWORK_TYPES.LINEA_MAINNET:return r("connectingToLineaMainnet");default:return r("connectingTo",[n])}})),g(this,"renderConnectionFailureNotification",((e,t=!1)=>{const{showNetworkDropdown:n,setProviderArgs:r,setProviderType:o}=this.props;return a.default.createElement(l.default,{onClose:()=>{window.clearTimeout(this.cancelCallTimeout),this.setState({showErrorScreen:!1})},centerTitle:!0,title:a.default.createElement(u.Icon,{name:u.IconName.Danger,size:u.IconSize.Xl,color:d.IconColor.warningDefault})},a.default.createElement(c.Text,{variant:d.TextVariant.bodyLgMedium,textAlign:d.TextAlign.Center,margin:[0,4,4,4]},e),a.default.createElement(p.default,{display:d.DISPLAY.FLEX,padding:4,gap:2},a.default.createElement(u.ButtonSecondary,{onClick:()=>{window.clearTimeout(this.cancelCallTimeout),this.setState({showErrorScreen:!1}),n()},variant:d.TextVariant.bodySm,block:!0},this.context.t("switchNetworks")),t?a.default.createElement(u.ButtonPrimary,{onClick:()=>{this.setState({showErrorScreen:!1}),o(...r),window.clearTimeout(this.cancelCallTimeout),this.cancelCallTimeout=setTimeout(this.cancelCall,this.props.cancelTime||15*i.SECOND)},variant:d.TextVariant.bodySm,block:!0},this.context.t("tryAgain")):null))})),g(this,"renderDeprecatedRpcUrlWarning",(()=>this.renderConnectionFailureNotification(this.context.t("currentRpcUrlDeprecated"),!1))),g(this,"renderErrorScreenContent",(()=>{const{providerConfig:e}=this.props;return this.renderConnectionFailureNotification(this.context.t("networkSwitchConnectionError",[e.nickname]),!0)})),g(this,"cancelCall",(()=>{const{isNetworkLoading:e}=this.props;e&&this.setState({showErrorScreen:!0})})),g(this,"componentDidUpdate",(e=>{const{providerConfig:t}=this.props,{providerConfig:n}=e;t.type!==n.type&&(window.clearTimeout(this.cancelCallTimeout),this.setState({showErrorScreen:!1}),this.cancelCallTimeout=setTimeout(this.cancelCall,this.props.cancelTime||15*i.SECOND))})),g(this,"componentWillUnmount",(()=>{window.clearTimeout(this.cancelCallTimeout)}))}render(){const{rollbackToPreviousProvider:e,showDeprecatedRpcUrlWarning:t}=this.props;let n;return n=this.state.showErrorScreen?this.renderErrorScreenContent():t?this.renderDeprecatedRpcUrlWarning():this.getConnectingLabel(this.props.loadingMessage),a.default.createElement(o.default,{header:a.default.createElement("div",{className:"page-container__header-close",onClick:e}),showLoadingSpinner:!this.state.showErrorScreen,loadingMessage:n})}}n.default=h,g(h,"contextTypes",{t:r.default.func}),g(h,"propTypes",{loadingMessage:r.default.string,cancelTime:r.default.number,providerConfig:r.default.object,providerId:r.default.oneOfType([r.default.string,r.default.number]),showNetworkDropdown:r.default.func,setProviderArgs:r.default.array,setProviderType:r.default.func,rollbackToPreviousProvider:r.default.func,isNetworkLoading:r.default.bool,showDeprecatedRpcUrlWarning:r.default.bool})}}},{package:"$root$",file:"ui/components/app/loading-network-screen/loading-network-screen.component.js"}],[4498,{"../../../../shared/constants/network":4324,"../../../ducks/metamask/metamask":5044,"../../../selectors":5449,"../../../store/actions":5456,"./loading-network-screen.component":4497,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../../../shared/constants/network"),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("../../../store/actions")),s=e("../../../selectors"),l=e("../../../ducks/metamask/metamask"),u=(a=e("./loading-network-screen.component"))&&a.__esModule?a:{default:a};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const d=["0x3","0x2a","0x4"];var p=(0,r.connect)((e=>{const{loadingMessage:t}=e.appState,n=(0,l.getProviderConfig)(e),{rpcUrl:a,chainId:r,ticker:i,nickname:u,type:c}=n,p=c===o.NETWORK_TYPES.RPC?[a,r,i,u]:[c],f=r,m=d.includes(f),g=a&&new URL(a).host.endsWith(".infura.io"),h=m&&g;let y=u;if(y===undefined){const t=(0,s.getAllEnabledNetworks)(e).find((e=>e.chainId===r));t&&(y=t.nickname)}return{isNetworkLoading:(0,s.isNetworkLoading)(e),loadingMessage:t,setProviderArgs:p,providerConfig:{...n,nickname:y},providerId:(0,s.getNetworkIdentifier)(e),showDeprecatedRpcUrlWarning:h}}),(e=>({setProviderType:t=>{e(i.setProviderType(t))},rollbackToPreviousProvider:()=>e(i.rollbackToPreviousProvider()),showNetworkDropdown:()=>e(i.toggleNetworkMenu())})))(u.default);n.default=p}}},{package:"$root$",file:"ui/components/app/loading-network-screen/loading-network-screen.container.js"}],[4499,{"./metamask-template-renderer":4500,"./section-shape":4502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SectionShape",{enumerable:!0,get:function(){return o.SectionShape}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./metamask-template-renderer"))&&a.__esModule?a:{default:a},o=e("./section-shape")}}},{package:"$root$",file:"ui/components/app/metamask-template-renderer/index.js"}],[4500,{"./safe-component-list":4501,"./section-shape":4502,lodash:3617,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("lodash"),o=e("./safe-component-list"),i=e("./section-shape");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(this,arguments)}function u(e){const{element:t}=e,n=o.safeComponentList[t];if(!n)throw new Error(`${t} is not in the safe component list for MetaMask template renderer`);return n}const c=({sections:e})=>{if(!e)return null;if("string"==typeof e)return e;if(e&&"object"==typeof e&&!Array.isArray(e)){const t=u(e);return a.default.createElement(t,e.props,"object"==typeof e.children?a.default.createElement(c,{sections:e.children}):null==e?void 0:e.children)}return a.default.createElement(a.default.Fragment,null,e.reduce(((e,t)=>{if(!0===(null==t?void 0:t.hide))return e;if("string"==typeof t)e.push(t);else{if(!t.key)throw new Error("When using array syntax in MetaMask Template Language, you must specify a key for each child of the array");if("object"==typeof(null==t?void 0:t.children))e.push(a.default.createElement(c,{sections:t,key:t.key}));else{const n=u(t);e.push(a.default.createElement(n,l({key:t.key},t.props),null==t?void 0:t.children))}}return e}),[]))};c.propTypes={sections:i.ValidChildren};var d=(0,a.memo)(c,((e,t)=>(0,r.isEqual)(e.sections,t.sections)));n.default=d}}},{package:"$root$",file:"ui/components/app/metamask-template-renderer/metamask-template-renderer.js"}],[4501,{"../../../pages/confirmation/components/confirmation-network-switch":5190,"../../component-library":4792,"../../ui/actionable-message/actionable-message":4885,"../../ui/box":4889,"../../ui/button":4893,"../../ui/chip":4900,"../../ui/definition-list":4909,"../../ui/popover":4980,"../../ui/spinner":4998,"../../ui/text-field":5006,"../../ui/textarea/textarea":5009,"../../ui/tooltip/tooltip":5018,"../../ui/truncated-definition-list":5019,"../../ui/typography":5021,"../../ui/url-icon":5026,"../metamask-translation":4503,"../network-display":4564,"../snaps/copyable":4629,"../snaps/snap-delineator":4638,"../snaps/snap-ui-markdown":4652},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.safeComponentList=void 0;var a=w(e("../../ui/button")),r=w(e("../../ui/chip")),o=w(e("../../ui/definition-list")),i=w(e("../../ui/truncated-definition-list")),s=w(e("../../ui/popover")),l=w(e("../../ui/typography")),u=w(e("../../ui/box")),c=w(e("../metamask-translation")),d=w(e("../network-display")),p=w(e("../../ui/textarea/textarea")),f=w(e("../../ui/text-field")),m=w(e("../../../pages/confirmation/components/confirmation-network-switch")),g=w(e("../../ui/url-icon")),h=w(e("../../ui/tooltip/tooltip")),y=e("../../component-library"),v=w(e("../../ui/actionable-message/actionable-message")),b=e("../snaps/snap-delineator"),_=e("../snaps/copyable"),T=w(e("../../ui/spinner")),x=e("../snaps/snap-ui-markdown");function w(e){return e&&e.__esModule?e:{default:e}}const E={a:"a",ActionableMessage:v.default,AvatarIcon:y.AvatarIcon,b:"b",Box:u.default,Button:a.default,Chip:r.default,ConfirmationNetworkSwitch:m.default,DefinitionList:o.default,div:"div",i:"i",MetaMaskTranslation:c.default,NetworkDisplay:d.default,p:"p",Popover:s.default,span:"span",TextArea:p.default,TextField:f.default,Tooltip:h.default,TruncatedDefinitionList:i.default,Typography:l.default,UrlIcon:g.default,Copyable:_.Copyable,SnapDelineator:b.SnapDelineator,SnapUIMarkdown:x.SnapUIMarkdown,Spinner:T.default};n.safeComponentList=E}}},{package:"$root$",file:"ui/components/app/metamask-template-renderer/safe-component-list.js"}],[4502,{"prop-types":3766},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ValidChildren=n.SectionShape=void 0;var a,r=(a=e("prop-types"))&&a.__esModule?a:{default:a};const o={props:r.default.object,element:r.default.string,key:r.default.string};n.SectionShape=o;const i=r.default.oneOfType([r.default.string,r.default.shape(o),r.default.arrayOf(r.default.oneOfType([r.default.shape(o),r.default.string]))]);n.ValidChildren=i,o.children=i}}},{package:"$root$",file:"ui/components/app/metamask-template-renderer/section-shape.js"}],[4503,{"./metamask-translation":4504},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./metamask-translation"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/metamask-translation/index.js"}],[4504,{"../../../hooks/useI18nContext":5116,"../metamask-template-renderer":4499,"../metamask-template-renderer/section-shape":4502,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var a=l(e("react")),r=l(e("prop-types")),o=e("../../../hooks/useI18nContext"),i=l(e("../metamask-template-renderer")),s=e("../metamask-template-renderer/section-shape");function l(e){return e&&e.__esModule?e:{default:e}}function u({translationKey:e,variables:t}){return(0,o.useI18nContext)()(e,null==t?void 0:t.map((t=>{if("object"==typeof t&&!Array.isArray(t)&&t.element){var n,r,o,s;if(!t.key)throw new Error(`When using MetaMask Template Language in a MetaMaskTranslation variable, you must provide a key for the section regardless of syntax.\n            Section with element '${t.element}' for translationKey: '${e}' has no key property`);if(t.children&&Array.isArray(t.children)&&t.children.length>2)throw new Error("MetaMaskTranslation only renders templates with a single section and maximum two children");if((null===(n=t.children)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.children)!==undefined&&"string"!=typeof t.children[0].children||(null===(o=t.children)||void 0===o||null===(s=o[1])||void 0===s?void 0:s.children)!==undefined&&"string"!=typeof t.children[1].children)throw new Error("MetaMaskTranslation does not allow for component trees of non trivial depth");return a.default.createElement(i.default,{key:`${e}-${t.key}`,sections:t})}return t})))}u.propTypes={translationKey:r.default.string.isRequired,variables:r.default.arrayOf(r.default.oneOfType([r.default.string,r.default.number,r.default.shape(s.SectionShape)]))}}}},{package:"$root$",file:"ui/components/app/metamask-translation/metamask-translation.js"}],[4505,{"./modal-content":4506,"./modal.component":4508},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ModalContent",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var a=o(e("./modal.component")),r=o(e("./modal-content"));function o(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/app/modal/index.js"}],[4506,{"./modal-content.component":4507},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./modal-content.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modal/modal-content/index.js"}],[4507,{"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a};function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}class s extends r.PureComponent{render(){const{title:e,description:t}=this.props;return r.default.createElement("div",{className:"modal-content"},e?r.default.createElement("div",{className:"modal-content__title"},e):null,t&&r.default.createElement("div",{className:"modal-content__description"},t))}}n.default=s,function(e,t,n){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(s,"propTypes",{title:o.default.string,description:o.default.string})}}},{package:"$root$",file:"ui/components/app/modal/modal-content/modal-content.component.js"}],[4508,{"../../ui/button":4893,classnames:2376,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=s(e("prop-types")),o=s(e("classnames")),i=s(e("../../ui/button"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends a.PureComponent{render(){const{children:e,headerText:t,onClose:n,onSubmit:r,submitType:s,submitText:l,submitDisabled:u,onCancel:c,cancelType:d,cancelText:p,contentClass:f,containerClass:m,hideFooter:g}=this.props;return a.default.createElement("div",{className:(0,o.default)("modal-container",m)},t&&a.default.createElement("div",{className:"modal-container__header"},a.default.createElement("div",{className:"modal-container__header-text"},t),a.default.createElement("div",{className:"modal-container__header-close","data-testid":"modal-header-close",onClick:n})),a.default.createElement("div",{className:(0,o.default)("modal-container__content",f)},e),g?null:a.default.createElement("div",{className:"modal-container__footer"},c&&a.default.createElement(i.default,{type:d,onClick:c,className:"modal-container__footer-button"},p),a.default.createElement(i.default,{type:s,onClick:r,disabled:u,className:"modal-container__footer-button"},l)))}}n.default=c,u(c,"propTypes",{children:r.default.node,contentClass:r.default.string,containerClass:r.default.string,headerText:r.default.string,onClose:r.default.func,onSubmit:r.default.func,submitType:r.default.string,submitText:r.default.string,submitDisabled:r.default.bool,hideFooter:r.default.bool,onCancel:r.default.func,cancelType:r.default.string,cancelText:r.default.string}),u(c,"defaultProps",{submitType:"primary",cancelType:"secondary"})}}},{package:"$root$",file:"ui/components/app/modal/modal.component.js"}],[4509,{"../../../../../shared/constants/metametrics":4323,"../../../../helpers/constants/routes":5057,"../../../../helpers/utils/util":5093,"../../../ui/button":4893,"../../../ui/editable-label":4918,"../../../ui/qr-code":4984,"../account-modal-container":4514,"@metamask/etherscan-link":1274,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=f(e("prop-types")),o=e("@metamask/etherscan-link"),i=f(e("../account-modal-container")),s=f(e("../../../ui/qr-code")),l=f(e("../../../ui/editable-label")),u=f(e("../../../ui/button")),c=e("../../../../helpers/utils/util"),d=e("../../../../../shared/constants/metametrics"),p=e("../../../../helpers/constants/routes");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends a.Component{render(){const{selectedIdentity:e,chainId:t,showExportPrivateKeyModal:n,setAccountLabel:r,keyrings:f,rpcPrefs:m,history:g,hideModal:h,blockExplorerLinkText:y}=this.props,{name:v,address:b}=e,_=f.find((e=>e.accounts.includes(b)));let T=(0,c.isAbleToExportAccount)(null==_?void 0:_.type);return a.default.createElement(i.default,{className:"account-details-modal"},a.default.createElement(l.default,{className:"account-details-modal__name",defaultValue:v,onSubmit:e=>r(b,e),accounts:this.props.accounts}),a.default.createElement(s.default,{Qr:{data:b}}),a.default.createElement("div",{className:"account-details-modal__divider"}),a.default.createElement(u.default,{type:"secondary",className:"account-details-modal__button",onClick:"addBlockExplorer"===y.firstPart?()=>{h(),g.push(`${p.NETWORKS_ROUTE}#blockExplorerUrl`)}:()=>{const e=(0,o.getAccountLink)(b,t,m);this.context.trackEvent({category:d.MetaMetricsEventCategory.Navigation,event:d.MetaMetricsEventName.ExternalLinkClicked,properties:{link_type:d.MetaMetricsEventLinkType.AccountTracker,location:"Account Details Modal",url_domain:(0,c.getURLHostName)(e)}}),global.platform.openTab({url:e})}},this.context.t(y.firstPart,[y.secondPart])),T&&a.default.createElement(u.default,{type:"secondary",className:"account-details-modal__button",onClick:()=>{this.context.trackEvent({category:d.MetaMetricsEventCategory.Accounts,event:d.MetaMetricsEventName.KeyExportSelected,properties:{key_type:d.MetaMetricsEventKeyType.Pkey,location:"Account Details Modal"}}),n()}},this.context.t("exportPrivateKey")))}}n.default=h,g(h,"propTypes",{selectedIdentity:r.default.object,chainId:r.default.string,showExportPrivateKeyModal:r.default.func,setAccountLabel:r.default.func,keyrings:r.default.array,rpcPrefs:r.default.object,accounts:r.default.array,history:r.default.object,hideModal:r.default.func,blockExplorerLinkText:r.default.object}),g(h,"contextTypes",{t:r.default.func,trackEvent:r.default.func})}}},{package:"$root$",file:"ui/components/app/modals/account-details-modal/account-details-modal.component.js"}],[4510,{"../../../../selectors":5449,"../../../../store/actions":5456,"./account-details-modal.component":4509,"react-redux":4008,"react-router-dom":4028,redux:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("redux"),i=e("react-router-dom"),s=e("../../../../store/actions"),l=e("../../../../selectors"),u=(a=e("./account-details-modal.component"))&&a.__esModule?a:{default:a};var c=(0,o.compose)(i.withRouter,(0,r.connect)((e=>({chainId:(0,l.getCurrentChainId)(e),selectedIdentity:(0,l.getSelectedIdentity)(e),keyrings:e.metamask.keyrings,rpcPrefs:(0,l.getRpcPrefsForCurrentProvider)(e),accounts:(0,l.getMetaMaskAccountsOrdered)(e),blockExplorerLinkText:(0,l.getBlockExplorerLinkText)(e,!0)})),(e=>({showExportPrivateKeyModal:()=>e((0,s.showModal)({name:"EXPORT_PRIVATE_KEY"})),setAccountLabel:(t,n)=>e((0,s.setAccountLabel)(t,n)),hideModal:()=>{e((0,s.hideModal)())}}))))(u.default);n.default=c}}},{package:"$root$",file:"ui/components/app/modals/account-details-modal/account-details-modal.container.js"}],[4511,{"./account-details-modal.container":4510},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./account-details-modal.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/account-details-modal/index.js"}],[4512,{"../../../ui/identicon":4945,classnames:2376,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=l;var a=s(e("prop-types")),r=s(e("react")),o=s(e("classnames")),i=s(e("../../../ui/identicon"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){const{className:n,selectedIdentity:a,showBackButton:s,backButtonAction:l,hideModal:u,children:c}=e;return r.default.createElement("div",{className:(0,o.default)(n,"account-modal"),style:{borderRadius:"4px"}},r.default.createElement("div",{className:"account-modal__container"},r.default.createElement("div",null,r.default.createElement(i.default,{address:a.address,diameter:64})),s&&r.default.createElement("div",{className:"account-modal__back",onClick:l},r.default.createElement("i",{className:"fa fa-angle-left fa-lg"}),r.default.createElement("span",{className:"account-modal__back-text"},t.t("back"))),r.default.createElement("button",{className:"account-modal__close",onClick:u}),c))}l.contextTypes={t:a.default.func},l.defaultProps={showBackButton:!1,children:null,backButtonAction:undefined},l.propTypes={className:a.default.string,selectedIdentity:a.default.object.isRequired,showBackButton:a.default.bool,backButtonAction:a.default.func,hideModal:a.default.func.isRequired,children:a.default.node}}}},{package:"$root$",file:"ui/components/app/modals/account-modal-container/account-modal-container.component.js"}],[4513,{"../../../../selectors":5449,"../../../../store/actions":5456,"./account-modal-container.component":4512,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../../../store/actions"),i=e("../../../../selectors"),s=(a=e("./account-modal-container.component"))&&a.__esModule?a:{default:a};var l=(0,r.connect)((function(e,t){return{selectedIdentity:t.selectedIdentity||(0,i.getSelectedIdentity)(e)}}),(function(e){return{hideModal:()=>{e((0,o.hideModal)())}}}))(s.default);n.default=l}}},{package:"$root$",file:"ui/components/app/modals/account-modal-container/account-modal-container.container.js"}],[4514,{"./account-modal-container.container":4513},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./account-modal-container.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/account-modal-container/index.js"}],[4515,{"../../modal":4505,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=l(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},i=l(e("../../modal"));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends r.PureComponent{constructor(...e){super(...e),u(this,"handleDelete",(()=>{this.props.removeNetworkConfiguration(this.props.target).then((()=>{this.props.onConfirm(),this.props.hideModal()}))}))}render(){const{t:e}=this.context;return r.default.createElement(i.default,{onSubmit:this.handleDelete,onCancel:()=>this.props.hideModal(),submitText:e("delete"),cancelText:e("cancel"),submitType:"danger-primary"},r.default.createElement(i.ModalContent,{title:e("deleteNetwork"),description:e("deleteNetworkDescription")}))}}n.default=c,u(c,"propTypes",{hideModal:o.default.func.isRequired,removeNetworkConfiguration:o.default.func.isRequired,onConfirm:o.default.func.isRequired,target:o.default.string.isRequired}),u(c,"contextTypes",{t:o.default.func})}}},{package:"$root$",file:"ui/components/app/modals/confirm-delete-network/confirm-delete-network.component.js"}],[4516,{"../../../../helpers/higher-order-components/with-modal-props":5070,"../../../../store/actions":5456,"./confirm-delete-network.component":4515,"react-redux":4008,redux:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),r=e("redux"),o=l(e("../../../../helpers/higher-order-components/with-modal-props")),i=e("../../../../store/actions"),s=l(e("./confirm-delete-network.component"));function l(e){return e&&e.__esModule?e:{default:e}}var u=(0,r.compose)(o.default,(0,a.connect)(null,(e=>({removeNetworkConfiguration:t=>e((0,i.removeNetworkConfiguration)(t))}))))(s.default);n.default=u}}},{package:"$root$",file:"ui/components/app/modals/confirm-delete-network/confirm-delete-network.container.js"}],[4517,{"./confirm-delete-network.container":4516},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-delete-network.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/confirm-delete-network/index.js"}],[4518,{"../../../../../shared/constants/metametrics":4323,"../../../../helpers/constants/zendesk-url":5062,"../../../../helpers/utils/util":5093,"../../../ui/identicon":4945,"../../modal":4505,"@metamask/etherscan-link":1274,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=d(e("prop-types")),o=e("@metamask/etherscan-link"),i=d(e("../../modal")),s=e("../../../../helpers/utils/util"),l=d(e("../../../ui/identicon")),u=e("../../../../../shared/constants/metametrics"),c=d(e("../../../../helpers/constants/zendesk-url"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends a.Component{constructor(...e){super(...e),f(this,"handleRemove",(()=>{this.props.removeAccount(this.props.identity.address).then((()=>this.props.hideModal()))})),f(this,"handleCancel",(()=>{this.props.hideModal()}))}renderSelectedAccount(){const{t:e}=this.context,{identity:t,rpcPrefs:n,chainId:r}=this.props;return a.default.createElement("div",{className:"confirm-remove-account__account"},a.default.createElement("div",{className:"confirm-remove-account__account__identicon"},a.default.createElement(l.default,{address:t.address,diameter:32})),a.default.createElement("div",{className:"confirm-remove-account__account__name"},a.default.createElement("span",{className:"confirm-remove-account__account__label"},e("name")),a.default.createElement("span",{className:"account_value"},t.name)),a.default.createElement("div",{className:"confirm-remove-account__account__address"},a.default.createElement("span",{className:"confirm-remove-account__account__label"},e("publicAddress")),a.default.createElement("span",{className:"account_value"},(0,s.addressSummary)(t.address,4,4))),a.default.createElement("div",{className:"confirm-remove-account__account__link"},a.default.createElement("a",{onClick:()=>{const e=(0,o.getAccountLink)(t.address,r,n);this.context.trackEvent({category:u.MetaMetricsEventCategory.Accounts,event:"Clicked Block Explorer Link",properties:{link_type:"Account Tracker",action:"Remove Account",block_explorer_domain:(0,s.getURLHostName)(e)}}),global.platform.openTab({url:e})},target:"_blank",rel:"noopener noreferrer",title:e("etherscanView")},a.default.createElement("i",{className:"fa fa-share-square",style:{color:"var(--color-icon-muted)"},title:e("etherscanView")}))))}render(){const{t:e}=this.context;return a.default.createElement(i.default,{headerText:`${e("removeAccount")}?`,onClose:this.handleCancel,onSubmit:this.handleRemove,onCancel:this.handleCancel,submitText:e("remove"),cancelText:e("nevermind")},a.default.createElement("div",null,this.renderSelectedAccount(),a.default.createElement("div",{className:"confirm-remove-account__description"},e("removeAccountDescription"),a.default.createElement("a",{className:"confirm-remove-account__link",rel:"noopener noreferrer",target:"_blank",href:c.default.IMPORTED_ACCOUNTS},e("learnMore")))))}}n.default=m,f(m,"propTypes",{hideModal:r.default.func.isRequired,removeAccount:r.default.func.isRequired,identity:r.default.object.isRequired,chainId:r.default.string.isRequired,rpcPrefs:r.default.object.isRequired}),f(m,"contextTypes",{t:r.default.func,trackEvent:r.default.func})}}},{package:"$root$",file:"ui/components/app/modals/confirm-remove-account/confirm-remove-account.component.js"}],[4519,{"../../../../helpers/higher-order-components/with-modal-props":5070,"../../../../selectors":5449,"../../../../store/actions":5456,"./confirm-remove-account.component":4518,"react-redux":4008,redux:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),r=e("redux"),o=u(e("../../../../helpers/higher-order-components/with-modal-props")),i=e("../../../../selectors"),s=e("../../../../store/actions"),l=u(e("./confirm-remove-account.component"));function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,r.compose)(o.default,(0,a.connect)((e=>({chainId:(0,i.getCurrentChainId)(e),rpcPrefs:(0,i.getRpcPrefsForCurrentProvider)(e)})),(e=>({removeAccount:t=>e((0,s.removeAccount)(t))}))))(l.default);n.default=c}}},{package:"$root$",file:"ui/components/app/modals/confirm-remove-account/confirm-remove-account.container.js"}],[4520,{"./confirm-remove-account.container":4519},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-remove-account.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/confirm-remove-account/index.js"}],[4521,{"../../modal":4505,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=l(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},i=l(e("../../modal"));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends r.PureComponent{constructor(...e){super(...e),u(this,"handleReset",(()=>{this.props.resetAccount().then((()=>this.props.hideModal()))}))}render(){const{t:e}=this.context;return r.default.createElement(i.default,{onSubmit:this.handleReset,onCancel:()=>this.props.hideModal(),submitText:e("clear"),cancelText:e("nevermind"),submitType:"danger-primary"},r.default.createElement(i.ModalContent,{title:`${e("clearActivity")}?`,description:e("clearActivityDescription")}))}}n.default=c,u(c,"propTypes",{hideModal:o.default.func.isRequired,resetAccount:o.default.func.isRequired}),u(c,"contextTypes",{t:o.default.func})}}},{package:"$root$",file:"ui/components/app/modals/confirm-reset-account/confirm-reset-account.component.js"}],[4522,{"../../../../helpers/higher-order-components/with-modal-props":5070,"../../../../store/actions":5456,"./confirm-reset-account.component":4521,"react-redux":4008,redux:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),r=e("redux"),o=l(e("../../../../helpers/higher-order-components/with-modal-props")),i=e("../../../../store/actions"),s=l(e("./confirm-reset-account.component"));function l(e){return e&&e.__esModule?e:{default:e}}var u=(0,r.compose)(o.default,(0,a.connect)(null,(e=>({resetAccount:()=>e((0,i.resetAccount)())}))))(s.default);n.default=u}}},{package:"$root$",file:"ui/components/app/modals/confirm-reset-account/confirm-reset-account.container.js"}],[4523,{"./confirm-reset-account.container":4522},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-reset-account.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/confirm-reset-account/index.js"}],[4524,{"../../../../../shared/constants/transaction":4336,"../../../../helpers/constants/design-system":5052,"../../../../hooks/useCopyToClipboard":5109,"../../../../hooks/useI18nContext":5116,"../../../../pages/send/send.utils":5310,"../../../../selectors":5449,"../../../component-library":4792,"../../../component-library/text/deprecated":4826,"../../../ui/box":4889,"../../../ui/button/button.component":4892,"../../../ui/identicon":4945,"../../../ui/nft-collection-image/nft-collection-image":4969,"../../../ui/popover":4980,"../../../ui/tooltip/tooltip":5018,"@metamask/etherscan-link":1274,"prop-types":3766,react:4043,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=x;var a=T(e("react")),r=T(e("prop-types")),o=e("@metamask/etherscan-link"),i=e("react-redux"),s=T(e("../../../ui/box")),l=T(e("../../../ui/button/button.component")),u=T(e("../../../ui/tooltip/tooltip")),c=e("../../../../hooks/useI18nContext"),d=T(e("../../../ui/identicon")),p=e("../../../../pages/send/send.utils"),f=T(e("../../../ui/popover")),m=e("../../../../helpers/constants/design-system"),g=e("../../../../hooks/useCopyToClipboard"),h=e("../../../../selectors"),y=e("../../../../../shared/constants/transaction"),v=T(e("../../../ui/nft-collection-image/nft-collection-image")),b=e("../../../component-library"),_=e("../../../component-library/text/deprecated");function T(e){return e&&e.__esModule?e:{default:e}}function x({onClose:e,tokenName:t,tokenAddress:n,toAddress:r,chainId:T,rpcPrefs:x,tokenId:w,assetName:E,assetStandard:k,isContractRequestingSignature:C}){var M,P;const S=(0,c.useI18nContext)(),[O,j]=(0,g.useCopyToClipboard)(),[N,I]=(0,g.useCopyToClipboard)(),R=(0,i.useSelector)((e=>({data:(0,h.getAddressBookEntry)(e,r)}))),D=k===y.TokenStandard.ERC721||k===y.TokenStandard.ERC1155||E&&w||t&&w;return a.default.createElement(f.default,{className:"contract-details-modal"},a.default.createElement(s.default,{paddingTop:6,paddingRight:4,paddingBottom:8,paddingLeft:4,className:"contract-details-modal__content"},a.default.createElement(_.Text,{fontWeight:m.FontWeight.Bold,variant:m.TextVariant.bodyMd,as:"h5",display:m.Display.Flex},S("contractTitle")),a.default.createElement(_.Text,{variant:m.TextVariant.bodySm,as:"h6",display:m.Display.Flex,color:m.TextColor.textAlternative,marginTop:2},S("contractDescription")),!C&&a.default.createElement(a.default.Fragment,null,a.default.createElement(_.Text,{variant:m.TextVariant.bodySm,as:"h6",display:m.Display.Flex,marginTop:4,marginBottom:2},S(D?"contractNFT":"contractToken")),a.default.createElement(s.default,{display:m.Display.Flex,borderRadius:m.Size.SM,borderStyle:m.BorderStyle.solid,borderColor:m.BorderColor.borderDefault,className:"contract-details-modal__content__contract"},D?a.default.createElement(s.default,{margin:4},a.default.createElement(v.default,{assetName:E,tokenAddress:n})):a.default.createElement(d.default,{className:"contract-details-modal__content__contract__identicon",address:n,diameter:24}),a.default.createElement(s.default,{"data-testid":"recipient"},a.default.createElement(_.Text,{fontWeight:m.FontWeight.Bold,variant:m.TextVariant.bodyMd,as:"h5",marginTop:4},t||(0,p.ellipsify)(n)),t&&a.default.createElement(_.Text,{variant:m.TextVariant.bodySm,as:"h6",display:m.Display.Flex,color:m.TextColor.textAlternative,marginBottom:4},(0,p.ellipsify)(n))),a.default.createElement(s.default,{alignItems:m.AlignItems.center,marginLeft:"auto",marginRight:4,gap:2},a.default.createElement(u.default,{position:"top",title:S(O?"copiedExclamation":"copyToClipboard")},a.default.createElement(b.ButtonIcon,{display:m.Display.Flex,iconName:O?b.IconName.CopySuccess:b.IconName.Copy,onClick:()=>j(n),color:m.Color.iconMuted,ariaLabel:S(O?"copiedExclamation":"copyToClipboard")})),a.default.createElement(u.default,{position:"top",title:S("openInBlockExplorer")},a.default.createElement(b.ButtonIcon,{display:m.Display.Flex,iconName:b.IconName.Export,color:m.Color.iconMuted,onClick:()=>{const e=(0,o.getAccountLink)(n,T,{blockExplorerUrl:(null==x?void 0:x.blockExplorerUrl)??null},null);global.platform.openTab({url:e})},ariaLabel:S("openInBlockExplorer")}))))),a.default.createElement(_.Text,{variant:m.TextVariant.bodySm,as:"h6",display:m.Display.Flex,marginTop:4,marginBottom:2},D&&S("contractRequestingAccess"),C&&S("contractRequestingSignature"),!D&&!C&&S("contractRequestingSpendingCap")),a.default.createElement(s.default,{display:m.Display.Flex,borderRadius:m.Size.SM,borderStyle:m.BorderStyle.solid,borderColor:m.BorderColor.borderDefault,className:"contract-details-modal__content__contract"},a.default.createElement(d.default,{className:"contract-details-modal__content__contract__identicon",diameter:24,address:r}),a.default.createElement(s.default,{"data-testid":"recipient"},a.default.createElement(_.Text,{fontWeight:m.FontWeight.Bold,variant:m.TextVariant.bodyMd,as:"h5",marginTop:4},(null==R||null===(M=R.data)||void 0===M?void 0:M.name)||(0,p.ellipsify)(r)),(null==R||null===(P=R.data)||void 0===P?void 0:P.name)&&a.default.createElement(_.Text,{variant:m.TextVariant.bodySm,as:"h6",display:m.Display.Flex,color:m.TextColor.textAlternative,marginBottom:4},(0,p.ellipsify)(r))),a.default.createElement(s.default,{alignItems:m.AlignItems.center,marginLeft:"auto",marginRight:4,gap:2},a.default.createElement(u.default,{position:"top",title:S(N?"copiedExclamation":"copyToClipboard")},a.default.createElement(b.ButtonIcon,{display:m.Display.Flex,iconName:N?b.IconName.CopySuccess:b.IconName.Copy,onClick:()=>I(r),color:m.Color.iconMuted,ariaLabel:S(O?"copiedExclamation":"copyToClipboard")})),a.default.createElement(u.default,{position:"top",title:S("openInBlockExplorer")},a.default.createElement(b.ButtonIcon,{display:m.Display.Flex,iconName:b.IconName.Export,color:m.Color.iconMuted,onClick:()=>{const e=(0,o.getAccountLink)(r,T,{blockExplorerUrl:(null==x?void 0:x.blockExplorerUrl)??null},null);global.platform.openTab({url:e})},ariaLabel:S("openInBlockExplorer")}))))),a.default.createElement(s.default,{display:m.Display.Flex,paddingTop:6,paddingRight:4,paddingBottom:6,paddingLeft:4},a.default.createElement(l.default,{type:"primary",onClick:()=>e()},S("recoveryPhraseReminderConfirm"))))}x.propTypes={onClose:r.default.func,tokenName:r.default.string,tokenAddress:r.default.string,toAddress:r.default.string,chainId:r.default.string,rpcPrefs:r.default.object,tokenId:r.default.string,assetStandard:r.default.string,assetName:r.default.string,isContractRequestingSignature:r.default.bool}}}},{package:"$root$",file:"ui/components/app/modals/contract-details-modal/contract-details-modal.js"}],[4525,{"../../../../../shared/modules/string-utils":4363,"../../../../ducks/metamask/metamask":5044,"../../../../helpers/constants/design-system":5052,"../../../../helpers/constants/routes":5057,"../../../../helpers/higher-order-components/with-modal-props":5070,"../../../../hooks/useI18nContext":5116,"../../../../store/actions":5456,"../../../ui/typography":5021,"../../modal":4505,"prop-types":3766,react:4043,"react-redux":4008,"react-router-dom":4028},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=h(e("react")),r=h(e("prop-types")),o=e("react-router-dom"),i=e("react-redux"),s=h(e("../../modal")),l=h(e("../../../ui/typography")),u=e("../../../../helpers/constants/design-system"),c=h(e("../../../../helpers/higher-order-components/with-modal-props")),d=e("../../../../hooks/useI18nContext"),p=e("../../../../helpers/constants/routes"),f=e("../../../../ducks/metamask/metamask"),m=e("../../../../store/actions"),g=e("../../../../../shared/modules/string-utils");function h(e){return e&&e.__esModule?e:{default:e}}const y=({hideModal:e,tokenAddress:t})=>{const n=(0,o.useHistory)(),r=(0,d.useI18nContext)(),c=(0,i.useDispatch)(),h=(0,i.useSelector)(f.getNfts).find((({address:e})=>(0,g.isEqualCaseInsensitive)(e,t)));return a.default.createElement(s.default,{onSubmit:async()=>{if(h){await c((0,m.ignoreTokens)({tokensToIgnore:t,dontShowLoadingIndicator:!0}));const{tokenId:e}=h;n.push({pathname:`${p.ASSET_ROUTE}/${t}/${e}`})}else c((0,m.showImportNftsModal)());e()},submitText:r("yes"),onCancel:()=>e(),cancelText:r("cancel")},a.default.createElement("div",{className:"convert-token-to-nft-modal"},a.default.createElement(l.default,{variant:u.TypographyVariant.H6,boxProps:{marginTop:2}},r(h?"convertTokenToNFTExistDescription":"convertTokenToNFTDescription"))))};y.propTypes={hideModal:r.default.func.isRequired,tokenAddress:r.default.string};var v=(0,c.default)(y);n.default=v}}},{package:"$root$",file:"ui/components/app/modals/convert-token-to-nft-modal/convert-token-to-nft-modal.js"}],[4526,{"../../../../helpers/constants/design-system":5052,"../../../../helpers/constants/zendesk-url":5062,"../../../../helpers/higher-order-components/with-modal-props":5070,"../../../../hooks/useI18nContext":5116,"../../../component-library":4792,"../../../component-library/text/deprecated":4826,"../../../ui/text-field":5006,"../../modal":4505,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=f(e("prop-types")),o=f(e("../../modal")),i=f(e("../../../ui/text-field")),s=e("../../../../helpers/constants/design-system"),l=f(e("../../../../helpers/higher-order-components/with-modal-props")),u=e("../../../../hooks/useI18nContext"),c=f(e("../../../../helpers/constants/zendesk-url")),d=e("../../../component-library"),p=e("../../../component-library/text/deprecated");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const g=({hideModal:e,customNonceValue:t,nextNonce:n,updateCustomNonce:r,getNextNonce:l})=>{const[f,m]=(0,a.useState)(""),g=(0,u.useI18nContext)();return a.default.createElement(o.default,{onSubmit:()=>{r(""===f?t:f),l(),e()},submitText:g("save"),onCancel:()=>e(),cancelText:g("cancel"),contentClass:"customize-nonce-modal-content",containerClass:"customize-nonce-modal-container"},a.default.createElement("div",{className:"customize-nonce-modal"},a.default.createElement("div",{className:"customize-nonce-modal__main-header"},a.default.createElement(p.Text,{className:"customize-nonce-modal__main-title",variant:s.TextVariant.headingSm,as:"h4"},g("editNonceField")),a.default.createElement(d.ButtonIcon,{iconName:d.IconName.Close,className:"customize-nonce-modal__close",size:d.ButtonIconSize.Sm,ariaLabel:g("close"),onClick:e})),a.default.createElement(d.Box,{marginTop:2,display:s.Display.InlineFlex,alignItems:s.AlignItems.center},a.default.createElement(p.Text,{variant:s.TextVariant.bodyMd,as:"h6"},g("editNonceMessage"),a.default.createElement(d.ButtonLink,{className:"customize-nonce-modal__link",rel:"noopener noreferrer",target:"_blank",href:c.default.CUSTOMIZE_NONCE},g("learnMoreUpperCase")))),a.default.createElement(d.Box,{marginTop:4},a.default.createElement(d.Box,{alignItems:s.AlignItems.center,display:s.Display.Flex},a.default.createElement(p.Text,{variant:s.TextVariant.bodyMdBold,as:"h6",width:s.BlockSize.FiveSixths},g("editNonceField")),a.default.createElement(d.Box,{width:s.BlockSize.OneSixth},a.default.createElement(d.ButtonLink,{className:"customize-nonce-modal__reset","data-testid":"customize-nonce-reset",onClick:()=>{m(n)}},g("reset")))),a.default.createElement("div",{className:"customize-nonce-modal__input"},a.default.createElement(i.default,{type:"number","data-testid":"custom-nonce-input",min:"0",placeholder:t||"number"==typeof n&&n.toString(),onChange:e=>{m(e.target.value)},fullWidth:!0,margin:"dense",value:f,id:"custom-nonce-id"})))))};g.propTypes={hideModal:r.default.func.isRequired,customNonceValue:r.default.string,nextNonce:r.default.number,updateCustomNonce:r.default.func,getNextNonce:r.default.func};var h=(0,l.default)(g);n.default=h}}},{package:"$root$",file:"ui/components/app/modals/customize-nonce/customize-nonce.component.js"}],[4527,{"./customize-nonce.component":4526},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./customize-nonce.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/customize-nonce/index.js"}],[4528,{"../../../../../shared/lib/transactions-controller-utils":4344,"../../../component-library":4792,"../../../ui/identicon":4945,"../../../ui/text-field":5006,"../../modal":4505,"bignumber.js":2222,classnames:2376,loglevel:3629,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=f(e("prop-types")),o=f(e("loglevel")),i=f(e("classnames")),s=f(e("bignumber.js")),l=f(e("../../modal")),u=f(e("../../../ui/identicon")),c=f(e("../../../ui/text-field")),d=e("../../../../../shared/lib/transactions-controller-utils"),p=e("../../../component-library");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=new s.default(2).pow(256).minus(1).toString(10);class y extends a.PureComponent{constructor(...e){super(...e),g(this,"state",{customSpendLimit:this.props.customTokenAmount||"",selectedOptionIsUnlimited:!this.props.customTokenAmount})}renderModalContent(e){const{t:t}=this.context,{hideModal:n,selectedIdentity:r,tokenAmount:o,tokenSymbol:l,tokenBalance:f,customTokenAmount:m,origin:g}=this.props,{name:y,address:v}=r||{},{selectedOptionIsUnlimited:b}=this.state;return a.default.createElement("div",{className:"edit-approval-permission"},a.default.createElement("div",{className:"edit-approval-permission__header"},a.default.createElement("div",{className:"edit-approval-permission__title"},t("editPermission")),a.default.createElement(p.ButtonIcon,{iconName:p.IconName.Close,size:p.ButtonIconSize.Lg,className:"edit-approval-permission__header__close",onClick:n})),a.default.createElement("div",{className:"edit-approval-permission__account-info"},a.default.createElement("div",{className:"edit-approval-permission__account-info__account"},a.default.createElement(u.default,{address:v,diameter:32}),a.default.createElement("div",{className:"edit-approval-permission__name-and-balance-container"},a.default.createElement("div",{className:"edit-approval-permission__account-info__name"},y),a.default.createElement("div",null,t("balance")))),a.default.createElement("div",{className:"edit-approval-permission__account-info__balance"},`${(0,d.toPrecisionWithoutTrailingZeros)(f,9)} ${l}`)),a.default.createElement("div",{className:"edit-approval-permission__edit-section"},a.default.createElement("div",{className:"edit-approval-permission__edit-section__title"},t("spendLimitPermission")),a.default.createElement("div",{className:"edit-approval-permission__edit-section__description"},t("allowWithdrawAndSpend",[g])),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option"},a.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button",onClick:()=>this.setState({selectedOptionIsUnlimited:!0})},a.default.createElement("div",{className:(0,i.default)({"edit-approval-permission__edit-section__radio-button-outline":!b,"edit-approval-permission__edit-section__radio-button-outline--selected":b})}),a.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-fill"}),b&&a.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-dot"})),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option-text"},a.default.createElement("div",{className:(0,i.default)({"edit-approval-permission__edit-section__option-label":!b,"edit-approval-permission__edit-section__option-label--selected":b})},new s.default(o).equals(new s.default(h))?t("unlimited"):t("proposedApprovalLimit")),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option-description"},t("spendLimitRequestedBy",[g])),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option-value"},`${Number(o)} ${l}`))),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option"},a.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button",onClick:()=>this.setState({selectedOptionIsUnlimited:!1})},a.default.createElement("div",{className:(0,i.default)({"edit-approval-permission__edit-section__radio-button-outline":b,"edit-approval-permission__edit-section__radio-button-outline--selected":!b})}),a.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-fill"}),!b&&a.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-dot"})),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option-text"},a.default.createElement("div",{className:(0,i.default)({"edit-approval-permission__edit-section__option-label":b,"edit-approval-permission__edit-section__option-label--selected":!b})},t("customSpendLimit")),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option-description"},t("enterMaxSpendLimit")),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option-input"},a.default.createElement(c.default,{type:"number",placeholder:`${Number(m||o)} ${l}`,onChange:e=>{this.setState({customSpendLimit:e.target.value}),b&&this.setState({selectedOptionIsUnlimited:!1})},fullWidth:!0,margin:"dense",value:this.state.customSpendLimit,error:e}))))))}validateSpendLimit(){const{t:e}=this.context,{decimals:t,requiredMinimum:n}=this.props,{selectedOptionIsUnlimited:a,customSpendLimit:r}=this.state;if(a||!r)return undefined;let i;try{i=new s.default(r)}catch(t){return o.default.debug(`Error converting '${r}' to BigNumber:`,t),e("spendLimitInvalid")}if(i.isNegative())return e("spendLimitInvalid");const l=(0,d.calcTokenAmount)(h,t);return i.greaterThan(l)?e("spendLimitTooLarge"):n!==undefined&&i.lessThan(n)?e("spendLimitInsufficient"):undefined}render(){const{t:e}=this.context,{setCustomAmount:t,hideModal:n,customTokenAmount:r}=this.props,{selectedOptionIsUnlimited:o,customSpendLimit:i}=this.state,s=this.validateSpendLimit(),u=Boolean(i===r&&!o||s);return a.default.createElement(l.default,{onSubmit:()=>{t(o?"":i),n()},submitText:e("save"),contentClass:"edit-approval-permission-modal-content",containerClass:"edit-approval-permission-modal-container",submitDisabled:u},this.renderModalContent(s))}}n.default=y,g(y,"propTypes",{decimals:r.default.number,hideModal:r.default.func.isRequired,selectedIdentity:r.default.object,tokenAmount:r.default.string,customTokenAmount:r.default.string,tokenSymbol:r.default.string,tokenBalance:r.default.string,setCustomAmount:r.default.func,origin:r.default.string.isRequired,requiredMinimum:r.default.instanceOf(s.default)}),g(y,"contextTypes",{t:r.default.func})}}},{package:"$root$",file:"ui/components/app/modals/edit-approval-permission/edit-approval-permission.component.js"}],[4529,{"../../../../helpers/higher-order-components/with-modal-props":5070,"../../../../selectors":5449,"./edit-approval-permission.component":4528,"react-redux":4008,redux:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),r=e("redux"),o=l(e("../../../../helpers/higher-order-components/with-modal-props")),i=e("../../../../selectors"),s=l(e("./edit-approval-permission.component"));function l(e){return e&&e.__esModule?e:{default:e}}var u=(0,r.compose)(o.default,(0,a.connect)((e=>{const t=e.appState.modal.modalState.props||{};return{selectedIdentity:(0,i.getSelectedIdentity)(e),...t}})))(s.default);n.default=u}}},{package:"$root$",file:"ui/components/app/modals/edit-approval-permission/edit-approval-permission.container.js"}],[4530,{"./edit-approval-permission.container":4529},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./edit-approval-permission.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/edit-approval-permission/index.js"}],[4531,{"../../../../../shared/constants/metametrics":4323,"../../../../contexts/metametrics":5030,"../../../../helpers/constants/design-system":5052,"../../../../helpers/higher-order-components/with-modal-props":5070,"../../../../hooks/useI18nContext":5116,"../../../../selectors":5449,"../../../../store/actions":5456,"../../../component-library":4792,"../../../component-library/text/deprecated":4826,"../../../ui/box":4889,"../../../ui/check-box":4897,"prop-types":3766,react:4043,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=y(e("prop-types")),o=e("react-redux"),i=y(e("../../../../helpers/higher-order-components/with-modal-props")),s=y(e("../../../ui/box")),l=e("../../../component-library"),u=e("../../../component-library/text/deprecated"),c=e("../../../../helpers/constants/design-system"),d=e("../../../../hooks/useI18nContext"),p=y(e("../../../ui/check-box")),f=e("../../../../store/actions"),m=e("../../../../selectors"),g=e("../../../../../shared/constants/metametrics"),h=e("../../../../contexts/metametrics");function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}const b=({hideModal:e})=>{const[t,n]=(0,a.useState)(!1),[r,i]=(0,a.useState)(!1),[y,v]=(0,a.useState)(""),b=(0,o.useSelector)(m.getDisabledRpcMethodPreferences),_=(0,d.useI18nContext)(),T=(0,o.useDispatch)(),x=(0,a.useContext)(h.MetaMetricsContext),w=y===_("toggleEthSignModalFormValidation");return a.default.createElement(s.default,{className:"eth-sign-modal",display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.flexStart,padding:4},a.default.createElement(s.default,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,marginBottom:4,justifyContent:c.JustifyContent.center},a.default.createElement(l.Icon,{className:"eth-sign-modal__warning-icon",name:l.IconName.Danger,color:c.IconColor.errorDefault,size:l.IconSize.Lg}),a.default.createElement(l.ButtonIcon,{className:"eth-sign-modal__close",iconName:l.IconName.Close,size:c.Size.SM,onClick:()=>e(),ariaLabel:_("close")})),a.default.createElement(u.Text,{variant:c.TextVariant.headingMd,textAlign:c.TextAlign.Center,marginBottom:6},_("toggleEthSignModalTitle")),a.default.createElement(u.Text,{variant:c.TextVariant.bodyMd},_("toggleEthSignModalDescription"),a.default.createElement(l.ButtonLink,{href:"https://support.metamask.io/hc/en-us/articles/14764161421467",externalLink:!0},_("learnMoreUpperCase"))),a.default.createElement(l.BannerAlert,{severity:c.Severity.Danger,marginTop:6,marginBottom:6},_("toggleEthSignModalBannerText"),_("toggleEthSignModalBannerBoldText")),r?a.default.createElement(l.FormTextField,{id:"enter-eth-sign-text",label:_("toggleEthSignModalFormLabel"),error:y.length>0&&!w,helpText:y.length>0&&!w&&_("toggleEthSignModalFormError"),onChange:e=>v(e.target.value),value:y,onPaste:e=>e.preventDefault()}):a.default.createElement(s.default,{flexDirection:c.FlexDirection.Row,alignItems:c.AlignItems.flexStart,gap:2},a.default.createElement(p.default,{id:"eth-sign__checkbox",className:"eth-sign__checkbox",dataTestId:"eth-sign__checkbox",checked:t,onClick:()=>{n(!t)}}),a.default.createElement(l.Label,{htmlFor:"eth-sign__checkbox"},a.default.createElement(u.Text,{variant:c.TextVariant.bodyMd,as:"span"},_("toggleEthSignModalCheckBox")))),a.default.createElement(s.default,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,justifyContent:c.JustifyContent.spaceBetween,gap:4,marginTop:6},a.default.createElement(l.ButtonSecondary,{onClick:()=>e(),size:c.Size.LG,block:!0},_("cancel")),r?a.default.createElement(l.ButtonPrimary,{danger:!0,block:!0,disabled:!w,onClick:()=>{T((0,f.setDisabledRpcMethodPreference)("eth_sign",!b.eth_sign)),e()},size:c.Size.LG},_("enableSnap")):a.default.createElement(l.ButtonPrimary,{block:!0,disabled:!t,size:c.Size.LG,onClick:()=>{i(!0),x({category:g.MetaMetricsEventCategory.Settings,event:g.MetaMetricsEventName.OnboardingWalletAdvancedSettings,properties:{location:"Settings",enable_eth_sign:!0}})}},_("continue"))))};b.propTypes={hideModal:r.default.func};var _=(0,i.default)(b);n.default=_}}},{package:"$root$",file:"ui/components/app/modals/eth-sign-modal/eth-sign-modal.js"}],[4532,{"../../../../../shared/constants/metametrics":4323,"../../../../../shared/modules/hexstring-utils":4354,"../../../../contexts/metametrics":5030,"../../../../helpers/constants/design-system":5052,"../../../../helpers/higher-order-components/with-modal-props":5070,"../../../../hooks/useI18nContext":5116,"../../../component-library":4792,"../../../component-library/text/deprecated":4826,"../../../ui/box":4889,"../account-modal-container":4514,"../hold-to-reveal-modal/hold-to-reveal-modal":4540,"./password-input":4535,"./private-key":4536,loglevel:3629,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=_(e("loglevel")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=_(e("prop-types")),i=_(e("../../../../helpers/higher-order-components/with-modal-props")),s=_(e("../../../ui/box")),l=e("../../../component-library"),u=e("../../../component-library/text/deprecated"),c=_(e("../account-modal-container")),d=e("../../../../../shared/modules/hexstring-utils"),p=e("../../../../../shared/constants/metametrics"),f=_(e("../hold-to-reveal-modal/hold-to-reveal-modal")),m=e("../../../../contexts/metametrics"),g=e("../../../../hooks/useI18nContext"),h=e("../../../../helpers/constants/design-system"),y=_(e("./private-key")),v=_(e("./password-input"));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function _(e){return e&&e.__esModule?e:{default:e}}const T=({clearAccountDetails:e,hideWarning:t,exportAccount:n,selectedIdentity:o,showAccountDetailModal:i,hideModal:b,warning:_=null,previousModalState:T})=>{const[x,w]=(0,r.useState)(""),[E,k]=(0,r.useState)(null),[C,M]=(0,r.useState)(!0),[P,S]=(0,r.useState)(!1),O=(0,r.useContext)(m.MetaMetricsContext),j=(0,g.useI18nContext)();(0,r.useEffect)((()=>()=>{e(),t()}),[]);const{name:N,address:I}=o;return P?r.default.createElement(c.default,{className:"export-private-key-modal",selectedIdentity:o,showBackButton:"ACCOUNT_DETAILS"===T,backButtonAction:()=>i()},r.default.createElement(f.default,{onLongPressed:()=>S(!1),willHide:!1,holdToRevealType:"PrivateKey"})):r.default.createElement(c.default,{className:"export-private-key-modal",selectedIdentity:o,showBackButton:"ACCOUNT_DETAILS"===T,backButtonAction:()=>i()},r.default.createElement(u.Text,{as:"span",marginTop:2,variant:h.TextVariant.bodyLgMedium,fontWeight:h.FONT_WEIGHT.NORMAL},N),r.default.createElement(s.default,{className:"ellip-address-wrapper",borderStyle:h.BorderStyle.solid,borderColor:h.BorderColor.borderDefault,borderWidth:1,marginTop:2,padding:[1,2,1,2]},(0,d.toChecksumHexAddress)(I)),r.default.createElement(s.default,{className:"export-private-key-modal__divider",width:h.BLOCK_SIZES.FULL,margin:[5,0,3,0]}),r.default.createElement(u.Text,{variant:h.TextVariant.bodyLgMedium,margin:[4,0,4,0],fontWeight:h.FONT_WEIGHT.NORMAL},j("showPrivateKeys")),E?r.default.createElement(y.default,{privateKey:E}):r.default.createElement(v.default,{setPassword:w}),C&&r.default.createElement(u.Text,{color:h.Color.errorDefault,variant:h.TextVariant.bodySm},_),r.default.createElement(l.BannerAlert,{padding:[1,3,0,3],marginLeft:5,marginRight:5,marginTop:4,severity:"danger"},j("privateKeyWarning")),r.default.createElement(s.default,{display:h.DISPLAY.FLEX,flexDirection:h.FLEX_DIRECTION.ROW,width:h.BLOCK_SIZES.FULL,justifyContent:h.JustifyContent.spaceBetween,marginTop:3,padding:[5,0,5,0]},!E&&r.default.createElement(l.Button,{type:l.BUTTON_VARIANT.SECONDARY,size:l.BUTTON_SIZES.LG,width:h.BLOCK_SIZES.HALF,marginRight:4,onClick:()=>{O({category:p.MetaMetricsEventCategory.Keys,event:p.MetaMetricsEventName.KeyExportCanceled,properties:{key_type:p.MetaMetricsEventKeyType.Pkey}}),b()}},j("cancel")),E?r.default.createElement(l.Button,{type:l.BUTTON_VARIANT.PRIMARY,size:l.BUTTON_SIZES.LG,width:h.BLOCK_SIZES.FULL,onClick:()=>{b()}},j("done")):r.default.createElement(l.Button,{type:l.BUTTON_VARIANT.PRIMARY,size:l.BUTTON_SIZES.LG,width:h.BLOCK_SIZES.HALF,onClick:()=>{O({category:p.MetaMetricsEventCategory.Keys,event:p.MetaMetricsEventName.KeyExportRequested,properties:{key_type:p.MetaMetricsEventKeyType.Pkey}}),(async(e,t)=>{try{const a=await n(e,t);O({category:p.MetaMetricsEventCategory.Keys,event:p.MetaMetricsEventName.KeyExportRevealed,properties:{key_type:p.MetaMetricsEventKeyType.Pkey}},{}),k(a),M(!1),S(!0)}catch(e){O({category:p.MetaMetricsEventCategory.Keys,event:p.MetaMetricsEventName.KeyExportFailed,properties:{key_type:p.MetaMetricsEventKeyType.Pkey,reason:"incorrect_password"}},{}),a.default.error(e)}})(x,I)},disabled:!x},j("confirm"))))};T.propTypes={exportAccount:o.default.func.isRequired,selectedIdentity:o.default.object.isRequired,warning:o.default.node,showAccountDetailModal:o.default.func.isRequired,hideModal:o.default.func.isRequired,hideWarning:o.default.func.isRequired,clearAccountDetails:o.default.func.isRequired,previousModalState:o.default.string};var x=(0,i.default)(T);n.default=x}}},{package:"$root$",file:"ui/components/app/modals/export-private-key-modal/export-private-key-modal.component.js"}],[4533,{"../../../../selectors":5449,"../../../../store/actions":5456,"./export-private-key-modal.component":4532,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../../../store/actions"),i=e("../../../../selectors"),s=(a=e("./export-private-key-modal.component"))&&a.__esModule?a:{default:a};var l=(0,r.connect)((function(){let e=null;return function(t){return e=e||(0,i.getSelectedIdentity)(t),{warning:t.appState.warning,privateKey:t.appState.accountDetail.privateKey,selectedIdentity:e,previousModalState:t.appState.modal.previousModalState.name}}}),(function(e){return{exportAccount:(t,n)=>e((0,o.exportAccount)(t,n)).then((t=>(e((0,o.hideWarning)()),t))),showAccountDetailModal:()=>e((0,o.showModal)({name:"ACCOUNT_DETAILS"})),hideModal:()=>e((0,o.hideModal)()),hideWarning:()=>e((0,o.hideWarning)()),clearAccountDetails:()=>e((0,o.clearAccountDetails)())}}))(s.default);n.default=l}}},{package:"$root$",file:"ui/components/app/modals/export-private-key-modal/export-private-key-modal.container.js"}],[4534,{"./export-private-key-modal.container":4533},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./export-private-key-modal.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/export-private-key-modal/index.js"}],[4535,{"../../../../helpers/constants/design-system":5052,"../../../../hooks/useI18nContext":5116,"../../../component-library":4792,"../../../ui/box":4889,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=u(e("react")),r=u(e("prop-types")),o=e("../../../../helpers/constants/design-system"),i=u(e("../../../ui/box")),s=e("../../../../hooks/useI18nContext"),l=e("../../../component-library");function u(e){return e&&e.__esModule?e:{default:e}}const c=({setPassword:e})=>{const t=(0,s.useI18nContext)();return a.default.createElement(i.default,{width:o.BLOCK_SIZES.FULL,flexDirection:o.FLEX_DIRECTION.COLUMN,display:o.DISPLAY.FLEX,alignItems:o.AlignItems.flexStart,paddingLeft:5,paddingRight:5},a.default.createElement(l.Label,{color:o.Color.textDefault,marginBottom:2,variant:o.TextVariant.bodySm},t("typePassword")),a.default.createElement(l.TextField,{width:o.BLOCK_SIZES.FULL,placeholder:t("enterPassword"),type:l.TEXT_FIELD_TYPES.PASSWORD,className:"export-private-key-modal__password-input",onChange:t=>e(t.target.value),"data-testid":"password-input"}))};c.propTypes={setPassword:r.default.func.isRequired};var d=c;n.default=d}}},{package:"$root$",file:"ui/components/app/modals/export-private-key-modal/password-input.js"}],[4536,{"../../../../../shared/constants/metametrics":4323,"../../../../contexts/metametrics":5030,"../../../../helpers/constants/design-system":5052,"../../../../hooks/useI18nContext":5116,"../../../component-library":4792,"../../../ui/box":4889,"copy-to-clipboard":2430,"ethereumjs-util":2774,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=m(e("copy-to-clipboard")),r=e("ethereumjs-util"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),i=m(e("prop-types")),s=m(e("../../../ui/box")),l=e("../../../../hooks/useI18nContext"),u=e("../../../../../shared/constants/metametrics"),c=e("../../../../contexts/metametrics"),d=e("../../../../helpers/constants/design-system"),p=e("../../../component-library");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m(e){return e&&e.__esModule?e:{default:e}}const g=({privateKey:e})=>{const t=(0,o.useContext)(c.MetaMetricsContext),n=(0,l.useI18nContext)(),i=(0,r.stripHexPrefix)(e);return o.default.createElement(s.default,{width:d.BLOCK_SIZES.FULL,flexDirection:d.FLEX_DIRECTION.COLUMN,display:d.DISPLAY.FLEX,alignItems:d.AlignItems.flexStart,paddingLeft:4,paddingRight:4},o.default.createElement(p.Label,{color:d.Color.textDefault,marginBottom:2,variant:d.TextVariant.bodySm},n("copyPrivateKey")),o.default.createElement(s.default,{className:"export-private-key-modal__private-key-display",width:d.BLOCK_SIZES.FULL,borderStyle:d.BorderStyle.solid,borderColor:d.BorderColor.borderDefault,borderRadius:d.BorderRadius.XS,borderWidth:1,padding:[2,3,2],color:d.Color.errorDefault,onClick:()=>{(0,a.default)(i),t({category:u.MetaMetricsEventCategory.Keys,event:u.MetaMetricsEventName.KeyExportCopied,properties:{key_type:u.MetaMetricsEventKeyType.Pkey,copy_method:"clipboard"}},{})}},i))};g.propTypes={privateKey:i.default.string.isRequired};var h=g;n.default=h}}},{package:"$root$",file:"ui/components/app/modals/export-private-key-modal/private-key.js"}],[4537,{"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a};function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let l,u=0;const c=e=>{const t=`anim_${++u}${Number(new Date)}`;let n=`@keyframes ${t} {`;return Object.keys(e).forEach((t=>{n+=`${t} {`,Object.keys(e[t]).forEach((a=>{const r=`:${e[t][a]};`;n+=a+r})),n+="}"})),n+="}",(e=>{l||(l=document.createElement("style"),document.getElementsByTagName("head")[0].appendChild(l),l=l.sheet||l.styleSheet),l.insertRule(e,(l.cssRules||l.rules).length)})(n),t},d={show:{animationDuration:"0.3s",animationTimingFunction:"ease-out"},hide:{animationDuration:"0.3s",animationTimingFunction:"ease-out"},showContentAnimation:c({"0%":{opacity:0},"100%":{opacity:1}}),hideContentAnimation:c({"0%":{opacity:1},"100%":{opacity:0}}),showBackdropAnimation:c({"0%":{opacity:0},"100%":{opacity:.9}}),hideBackdropAnimation:c({"0%":{opacity:.9},"100%":{opacity:0}})},p=["transitionend","animationend"];class f extends r.Component{constructor(...e){super(...e),s(this,"content",null),s(this,"state",{willHide:!0,hidden:!0}),s(this,"addTransitionListener",((e,t)=>{if(e){const n=function(a){a&&a.target!==e||(((e,t)=>{0!==p.length&&p.forEach((function(n){!function(e,t,n){e.removeEventListener(t,n,!1)}(e,n,t)}))})(e,n),t())};((e,t)=>{0!==p.length?p.forEach((function(n){!function(e,t,n){e.addEventListener(t,n,!1)}(e,n,t)})):window.setTimeout(t,0)})(e,n)}})),s(this,"handleBackdropClick",(()=>{this.props.closeOnClick&&this.hide()})),s(this,"hasHidden",(()=>this.state.hidden)),s(this,"leave",(()=>{this.setState({hidden:!0}),this.props.onHide(this.state.hideSource)})),s(this,"enter",(()=>{this.props.onShow()})),s(this,"show",(()=>{this.state.hidden&&(this.setState({willHide:!1,hidden:!1}),setTimeout(function(){this.addTransitionListener(this.content,this.enter)}.bind(this),0))})),s(this,"hide",(()=>{this.hasHidden()||this.setState({willHide:!0})})),s(this,"listenKeyboard",(e=>{"function"==typeof this.props.keyboard?this.props.keyboard(e):this.closeOnEsc(e)})),s(this,"closeOnEsc",(e=>{!this.props.keyboard||"Escape"!==e.key&&27!==e.keyCode||this.hide()})),s(this,"UNSAFE_componentDidMount",(()=>{window.addEventListener("keydown",this.listenKeyboard,!0)})),s(this,"UNSAFE_componentWillUnmount",(()=>{window.removeEventListener("keydown",this.listenKeyboard,!0)}))}render(){if(this.state.hidden)return null;const{willHide:e}=this.state,{modalStyle:t}=this.props,n={animationName:e?d.hideBackdropAnimation:d.showBackdropAnimation,animationTimingFunction:(e?d.hide:d.show).animationTimingFunction,...this.props.backdropStyle},a={animationDuration:(e?d.hide:d.show).animationDuration,animationName:e?d.hideContentAnimation:d.showContentAnimation,animationTimingFunction:(e?d.hide:d.show).animationTimingFunction,...this.props.contentStyle},o=this.props.backdrop?r.default.createElement("div",{className:"modal__backdrop",style:n,onClick:this.props.closeOnClick?this.handleBackdropClick:null}):undefined;return e&&this.addTransitionListener(this.content,this.leave),r.default.createElement("span",null,r.default.createElement("div",{className:"modal",style:t},r.default.createElement("div",{className:"modal__content",ref:e=>this.content=e,tabIndex:"-1",style:a},this.props.children)),o)}}s(f,"propTypes",{backdrop:o.default.bool,backdropStyle:o.default.object,closeOnClick:o.default.bool,contentStyle:o.default.object,keyboard:o.default.bool,modalStyle:o.default.object,onShow:o.default.func,onHide:o.default.func,children:o.default.node}),s(f,"defaultProps",{onShow:()=>undefined,onHide:()=>undefined,keyboard:!0,backdrop:!0,closeOnClick:!0,modalStyle:{},backdropStyle:{},contentStyle:{},children:[]});var m=f;n.default=m}}},{package:"$root$",file:"ui/components/app/modals/fade-modal.js"}],[4538,{"../../../../helpers/constants/routes":5057,"../../../../store/actions":5456,"../../../ui/button":4893,"../../../ui/identicon":4945,"prop-types":3766,react:4043,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=p(e("prop-types")),r=d(e("react")),o=e("react-redux"),i=d(e("../../../../store/actions")),s=p(e("../../../ui/identicon")),l=p(e("../../../ui/button")),u=e("../../../../helpers/constants/routes");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends r.Component{constructor(...e){super(...e),f(this,"state",{})}render(){const{token:e,hideToken:t,hideModal:n,history:a}=this.props,{symbol:o,address:i,image:c}=e;return r.default.createElement("div",{className:"hide-token-confirmation"},r.default.createElement("div",{className:"hide-token-confirmation__container"},r.default.createElement("div",{className:"hide-token-confirmation__title"},this.context.t("hideTokenPrompt")),r.default.createElement(s.default,{className:"hide-token-confirmation__identicon",diameter:45,address:i,image:c}),r.default.createElement("div",{className:"hide-token-confirmation__symbol"},o),r.default.createElement("div",{className:"hide-token-confirmation__copy"},this.context.t("readdToken")),r.default.createElement("div",{className:"hide-token-confirmation__buttons"},r.default.createElement(l.default,{type:"secondary",className:"hide-token-confirmation__button","data-testid":"hide-token-confirmation__cancel",onClick:()=>n()},this.context.t("cancel")),r.default.createElement(l.default,{type:"primary",className:"hide-token-confirmation__button","data-testid":"hide-token-confirmation__hide",onClick:()=>{t(i),a.push(u.DEFAULT_ROUTE)}},this.context.t("hide")))))}}f(m,"contextTypes",{t:a.default.func}),f(m,"propTypes",{hideToken:a.default.func.isRequired,hideModal:a.default.func.isRequired,token:a.default.shape({symbol:a.default.string,address:a.default.string,image:a.default.string}),history:a.default.object});var g=(0,o.connect)((function(e){return{token:e.appState.modal.modalState.props.token,history:e.appState.modal.modalState.props.history}}),(function(e){return{hideModal:()=>e(i.hideModal()),hideToken:t=>{e(i.ignoreTokens({tokensToIgnore:t})).then((()=>{e(i.hideModal())}))}}}))(m);n.default=g}}},{package:"$root$",file:"ui/components/app/modals/hide-token-confirmation-modal/hide-token-confirmation-modal.js"}],[4539,{"./hide-token-confirmation-modal":4538},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./hide-token-confirmation-modal"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/hide-token-confirmation-modal/index.js"}],[4540,{"../../../../../shared/constants/metametrics":4323,"../../../../contexts/metametrics":5030,"../../../../helpers/constants/design-system":5052,"../../../../helpers/constants/zendesk-url":5062,"../../../../helpers/higher-order-components/with-modal-props":5070,"../../../../hooks/useI18nContext":5116,"../../../component-library":4792,"../../../component-library/text/deprecated":4826,"../../../ui/box":4889,"../../hold-to-reveal-button":4491,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=h(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=h(e("../../../../helpers/higher-order-components/with-modal-props")),i=h(e("../../../ui/box")),s=e("../../../component-library"),l=e("../../../component-library/text/deprecated"),u=e("../../../../helpers/constants/design-system"),c=h(e("../../hold-to-reveal-button")),d=e("../../../../hooks/useI18nContext"),p=h(e("../../../../helpers/constants/zendesk-url")),f=e("../../../../contexts/metametrics"),m=e("../../../../../shared/constants/metametrics");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h(e){return e&&e.__esModule?e:{default:e}}const y=({onLongPressed:e,hideModal:t,willHide:n=!0,holdToRevealType:a="SRP"})=>{const o=(0,d.useI18nContext)(),g="SRP"===a?"holdToRevealSRPTitle":"holdToRevealPrivateKeyTitle",h="SRP"===a?"holdToRevealSRP":"holdToRevealPrivateKey",y=(0,r.useContext)(f.MetaMetricsContext);return r.default.createElement(i.default,{className:"hold-to-reveal-modal",display:u.Display.Flex,flexDirection:u.FlexDirection.Column,justifyContent:u.JustifyContent.flexStart,padding:6},r.default.createElement(i.default,{display:u.Display.Flex,flexDirection:u.FlexDirection.Row,alignItems:u.AlignItems.center,justifyContent:u.JustifyContent.spaceBetween,marginBottom:6},r.default.createElement(l.Text,{variant:u.TextVariant.headingSm},o(g)),n&&r.default.createElement(s.ButtonIcon,{className:"hold-to-reveal-modal__close",iconName:s.IconName.Close,size:u.Size.SM,onClick:()=>{y({category:m.MetaMetricsEventCategory.Keys,event:m.MetaMetricsEventName.SrpHoldToRevealCloseClicked,properties:{key_type:m.MetaMetricsEventKeyType.Srp}}),t()},ariaLabel:o("close")})),"SRP"===a?r.default.createElement(i.default,{display:u.Display.Flex,flexDirection:u.FlexDirection.Column,gap:4,marginBottom:6},r.default.createElement(l.Text,{variant:u.TextVariant.bodyMd},o("holdToRevealContent1",[r.default.createElement(l.Text,{key:"hold-to-reveal-2",variant:u.TextVariant.bodyMdBold,as:"span"},o("holdToRevealContent2"))])),r.default.createElement(l.Text,{variant:u.TextVariant.bodyMdBold},o("holdToRevealContent3",[r.default.createElement(l.Text,{key:"hold-to-reveal-4",variant:u.TextVariant.bodyMd,as:"span",display:u.Display.Inline},o("holdToRevealContent4")),r.default.createElement(s.Button,{key:"hold-to-reveal-5",variant:s.BUTTON_VARIANT.LINK,size:u.Size.auto,href:p.default.NON_CUSTODIAL_WALLET,target:"_blank",rel:"noopener noreferrer"},o("holdToRevealContent5"))]))):r.default.createElement(i.default,{display:u.Display.Flex,flexDirection:u.FlexDirection.Column,gap:4,marginBottom:6},r.default.createElement(l.Text,{variant:u.TextVariant.bodyMd},o("holdToRevealContentPrivateKey1",[r.default.createElement(l.Text,{key:"hold-to-reveal-2",variant:u.TextVariant.bodyMdBold,as:"span"},o("holdToRevealContentPrivateKey2"))])),r.default.createElement(l.Text,{variant:u.TextVariant.bodyMdBold},o("holdToRevealContent3",[r.default.createElement(l.Text,{key:"hold-to-reveal-4",variant:u.TextVariant.bodyMd,as:"span",display:u.Display.Inline},o("holdToRevealContent4")),r.default.createElement(s.Button,{key:"hold-to-reveal-5",variant:s.BUTTON_VARIANT.LINK,size:s.BUTTON_SIZES.INHERIT,href:p.default.NON_CUSTODIAL_WALLET,target:"_blank",rel:"noopener noreferrer"},o("holdToRevealContent5"))]))),r.default.createElement(c.default,{buttonText:o(h),onLongPressed:()=>{e(),n&&t()},marginLeft:"auto",marginRight:"auto"}))};y.propTypes={onLongPressed:a.default.func.isRequired,hideModal:a.default.func,willHide:a.default.bool,holdToRevealType:a.default.oneOf(["SRP","PrivateKey"]).isRequired};var v=(0,o.default)(y);n.default=v}}},{package:"$root$",file:"ui/components/app/modals/hold-to-reveal-modal/hold-to-reveal-modal.js"}],[4541,{"./hold-to-reveal-modal":4540},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./hold-to-reveal-modal"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/hold-to-reveal-modal/index.js"}],[4542,{"./modal":4543},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Modal",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./modal"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/index.js"}],[4543,{"../../../../app/scripts/lib/util":82,"../../../../shared/constants/app":4316,"../../../helpers/utils/is-mobile-view":5082,"../../../pages/onboarding-flow/add-network-modal":5235,"../../../store/actions":5456,"./account-details-modal":4511,"./confirm-delete-network":4517,"./confirm-remove-account":4520,"./confirm-reset-account":4523,"./convert-token-to-nft-modal/convert-token-to-nft-modal":4525,"./customize-nonce":4527,"./edit-approval-permission":4530,"./eth-sign-modal/eth-sign-modal":4531,"./export-private-key-modal":4534,"./fade-modal":4537,"./hide-token-confirmation-modal":4539,"./hold-to-reveal-modal":4541,"./new-account-modal":4544,"./qr-scanner":4549,"./reject-transactions":4552,"./transaction-confirmed":4555,"prop-types":3766,react:4043,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=S(e("prop-types")),r=P(e("react")),o=e("react-redux"),i=e("../../../../app/scripts/lib/util"),s=e("../../../../shared/constants/app"),l=S(e("../../../helpers/utils/is-mobile-view")),u=P(e("../../../store/actions")),c=S(e("../../../pages/onboarding-flow/add-network-modal")),d=S(e("./account-details-modal")),p=S(e("./export-private-key-modal")),f=S(e("./hide-token-confirmation-modal")),m=S(e("./qr-scanner")),g=S(e("./confirm-remove-account")),h=S(e("./confirm-reset-account")),y=S(e("./hold-to-reveal-modal")),v=S(e("./transaction-confirmed")),b=S(e("./confirm-delete-network")),_=S(e("./convert-token-to-nft-modal/convert-token-to-nft-modal")),T=S(e("./customize-nonce")),x=S(e("./edit-approval-permission")),w=S(e("./eth-sign-modal/eth-sign-modal")),E=S(e("./fade-modal")),k=S(e("./new-account-modal")),C=S(e("./reject-transactions"));function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}function S(e){return e&&e.__esModule?e:{default:e}}const O={transform:"translate3d(-50%, 0, 0px)",border:"1px solid var(--color-border-default)",borderRadius:"8px",backgroundColor:"var(--color-background-default)",boxShadow:"var(--shadow-size-sm) var(--color-shadow-default)"},j={...O,width:"344px",top:"15%"},N={...O,width:"309px",top:"12.5%"},I={mobileModalStyle:{width:"95%",boxShadow:"var(--shadow-size-xs) var(--color-shadow-default)",borderRadius:"4px",top:"10%",transform:"none",left:"0",right:"0",margin:"0 auto"},laptopModalStyle:{width:"335px",boxShadow:"var(--shadow-size-xs) var(--color-shadow-default)",borderRadius:"4px",top:"10%",transform:"none",left:"0",right:"0",margin:"0 auto"},contentStyle:{borderRadius:"4px"}},R={ONBOARDING_ADD_NETWORK:{contents:r.default.createElement(c.default,null),...I},NEW_ACCOUNT:{contents:r.default.createElement(k.default,null),mobileModalStyle:{width:"95%",top:"10%",boxShadow:"var(--shadow-size-xs) var(--color-shadow-default)",transform:"none",left:"0",right:"0",margin:"0 auto",borderRadius:"10px"},laptopModalStyle:{width:"375px",top:"10%",boxShadow:"var(--shadow-size-xs) var(--color-shadow-default)",transform:"none",left:"0",right:"0",margin:"0 auto",borderRadius:"10px"},contentStyle:{borderRadius:"10px"}},ACCOUNT_DETAILS:{contents:r.default.createElement(d.default,null),...I},EXPORT_PRIVATE_KEY:{contents:r.default.createElement(p.default,null),...I},HOLD_TO_REVEAL_SRP:{contents:r.default.createElement(y.default,null),mobileModalStyle:{...N},laptopModalStyle:{...j},contentStyle:{borderRadius:"8px"}},HIDE_TOKEN_CONFIRMATION:{contents:r.default.createElement(f.default,null),mobileModalStyle:{width:"95%",top:(0,i.getEnvironmentType)()===s.ENVIRONMENT_TYPE_POPUP?"52vh":"36.5vh"},laptopModalStyle:{width:(0,i.getEnvironmentType)()===s.ENVIRONMENT_TYPE_POPUP?"357px":"449px",top:"calc(33% + 45px)",paddingLeft:(0,i.getEnvironmentType)()===s.ENVIRONMENT_TYPE_POPUP?"16px":null,paddingRight:(0,i.getEnvironmentType)()===s.ENVIRONMENT_TYPE_POPUP?"16px":null}},CONFIRM_RESET_ACCOUNT:{contents:r.default.createElement(h.default,null),mobileModalStyle:{...N},laptopModalStyle:{...j},contentStyle:{borderRadius:"8px"}},ETH_SIGN:{contents:r.default.createElement(w.default,null),mobileModalStyle:{...N},laptopModalStyle:{...j},contentStyle:{borderRadius:"8px"}},CONFIRM_REMOVE_ACCOUNT:{contents:r.default.createElement(g.default,null),mobileModalStyle:{...N},laptopModalStyle:{...j},contentStyle:{borderRadius:"8px"}},CONVERT_TOKEN_TO_NFT:{contents:r.default.createElement(_.default,null),mobileModalStyle:{...N},laptopModalStyle:{...j},contentStyle:{borderRadius:"8px"}},CONFIRM_DELETE_NETWORK:{contents:r.default.createElement(b.default,null),mobileModalStyle:{...N},laptopModalStyle:{...j},contentStyle:{borderRadius:"8px"}},EDIT_APPROVAL_PERMISSION:{contents:r.default.createElement(x.default,null),mobileModalStyle:{width:"95vw",height:"100vh",top:"50px",transform:"none",left:"0",right:"0",margin:"0 auto"},laptopModalStyle:{width:"auto",height:"0px",top:"80px",left:"0px",transform:"none",margin:"0 auto",position:"relative"},contentStyle:{borderRadius:"8px"}},TRANSACTION_CONFIRMED:{disableBackdropClick:!0,contents:r.default.createElement(v.default,null),mobileModalStyle:{...N},laptopModalStyle:{...j},contentStyle:{borderRadius:"8px"}},QR_SCANNER:{contents:r.default.createElement(m.default,null),mobileModalStyle:{...N},laptopModalStyle:{...j},contentStyle:{borderRadius:"8px"}},REJECT_TRANSACTIONS:{contents:r.default.createElement(C.default,null),mobileModalStyle:{...N},laptopModalStyle:{...j},contentStyle:{borderRadius:"8px"}},CUSTOMIZE_NONCE:{contents:r.default.createElement(T.default,null),mobileModalStyle:{...N},laptopModalStyle:{...j},contentStyle:{borderRadius:"8px"}},DEFAULT:{contents:[],mobileModalStyle:{},laptopModalStyle:{}}},D={backgroundColor:"var(--color-overlay-default)"};class A extends r.Component{hide(){this.modalRef.hide()}show(){this.modalRef.show()}UNSAFE_componentWillReceiveProps(e,t){e.active?this.show():this.props.active&&this.hide()}render(){const e=R[this.props.modalState.name||"DEFAULT"],{contents:t,disableBackdropClick:n=!1}=e,a=e[(0,l.default)()?"mobileModalStyle":"laptopModalStyle"],o=e.contentStyle||{};return r.default.createElement(E.default,{keyboard:!1,onHide:()=>{e.onHide&&e.onHide({hideWarning:this.props.hideWarning}),this.props.hideModal(e.customOnHideOpts)},ref:e=>{this.modalRef=e},modalStyle:a,contentStyle:o,backdropStyle:D,closeOnClick:!n},t)}}var L,F,W;L=A,F="propTypes",W={active:a.default.bool.isRequired,hideModal:a.default.func.isRequired,hideWarning:a.default.func.isRequired,modalState:a.default.object.isRequired},(F=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(F))in L?Object.defineProperty(L,F,{value:W,enumerable:!0,configurable:!0,writable:!0}):L[F]=W;var q=(0,o.connect)((function(e){return{active:e.appState.modal.open,modalState:e.appState.modal.modalState}}),(function(e){return{hideModal:t=>{e(u.hideModal()),t&&t.action&&e(t.action(...t.args))},hideWarning:()=>{e(u.hideWarning())}}}))(A);n.default=q}}},{package:"$root$",file:"ui/components/app/modals/modal.js"}],[4544,{"./new-account-modal.container":4546},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./new-account-modal.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/new-account-modal/index.js"}],[4545,{"../../../component-library":4792,"../../../ui/button/button.component":4892,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=s(e("prop-types")),o=s(e("../../../ui/button/button.component")),i=e("../../../component-library");function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends a.Component{constructor(...e){super(...e),u(this,"state",{alias:this.context.t("newAccountNumberName",[this.props.newAccountNumber])}),u(this,"onChange",(e=>{this.setState({alias:e.target.value})})),u(this,"onSubmit",(()=>{this.props.onSave(this.state.alias).then(this.props.hideModal)})),u(this,"onKeyPress",(e=>{"Enter"===e.key&&this.state.alias&&this.onSubmit()}))}render(){const{t:e}=this.context;return a.default.createElement("div",{className:"new-account-modal"},a.default.createElement("div",{className:"new-account-modal__content"},a.default.createElement("div",{className:"new-account-modal__content__header"},e("newAccount"),a.default.createElement(i.ButtonIcon,{className:"new-account-modal__content__header-close",ariaLabel:e("close"),onClick:this.props.hideModal,iconName:i.IconName.Close})),a.default.createElement("div",{className:"new-account-modal__input-label"},e("accountName")),a.default.createElement("input",{type:"text",className:"new-account-modal__input",onChange:this.onChange,onKeyPress:this.onKeyPress,value:this.state.alias,autoFocus:!0})),a.default.createElement("div",{className:"new-account-modal__footer"},a.default.createElement(o.default,{type:"secondary",onClick:this.props.hideModal},e("cancel")),a.default.createElement(o.default,{type:"primary",onClick:this.onSubmit,disabled:!this.state.alias},e("save"))))}}n.default=c,u(c,"contextTypes",{t:r.default.func}),u(c,"propTypes",{hideModal:r.default.func.isRequired,newAccountNumber:r.default.number.isRequired,onSave:r.default.func.isRequired})}}},{package:"$root$",file:"ui/components/app/modals/new-account-modal/new-account-modal.component.js"}],[4546,{"../../../../store/actions":5456,"./new-account-modal.component":4545,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("../../../../store/actions")),i=(a=e("./new-account-modal.component"))&&a.__esModule?a:{default:a};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var l=(0,r.connect)((function(e){return{...e.appState.modal.modalState.props||{}}}),(function(e){return{hideModal:()=>e(o.hideModal()),createAccount:t=>e(o.addNewAccount()).then((n=>(t&&e(o.setAccountLabel(n,t)),n)))}}),(function(e,t){const{onCreateNewAccount:n}=e,{createAccount:a}=t;return{...e,...t,onSave:e=>a(e).then((e=>n(e)))}}))(i.default);n.default=l}}},{package:"$root$",file:"ui/components/app/modals/new-account-modal/new-account-modal.container.js"}],[4547,{"./nickname-popovers.component":4548},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./nickname-popovers.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/nickname-popovers/index.js"}],[4548,{"../../../../selectors":5449,"../../../../store/actions":5456,"../../../ui/nickname-popover":4970,"../../../ui/update-nickname-popover/update-nickname-popover":5025,"@metamask/etherscan-link":1274,"prop-types":3766,react:4043,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),o=d(e("prop-types")),i=e("@metamask/etherscan-link"),s=e("../../../../store/actions"),l=e("../../../../selectors"),u=d(e("../../../ui/nickname-popover")),c=d(e("../../../ui/update-nickname-popover/update-nickname-popover"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f="SHOW_NICKNAME_POPOVER",m="ADD_NICKNAME_POPOVER",g=({address:e,onClose:t})=>{const n=(0,r.useDispatch)(),[o,d]=(0,a.useState)(f),p=(0,r.useSelector)(l.getAddressBook),g=(0,r.useSelector)(l.getCurrentChainId),h=p.find((t=>t.address===e)),y=null==h?void 0:h.name,v=(0,r.useSelector)(l.getRpcPrefsForCurrentProvider),b=(0,i.getAccountLink)(e,g,{blockExplorerUrl:(null==v?void 0:v.blockExplorerUrl)??null},null);return o===m?a.default.createElement(c.default,{address:e,nickname:y||null,memo:(null==h?void 0:h.memo)||null,onClose:()=>d(f),onAdd:(e,t,a)=>n((0,s.addToAddressBook)(e,t,a))}):a.default.createElement(u.default,{address:e,nickname:y||null,onClose:t,onAdd:()=>d(m),explorerLink:b})};g.propTypes={address:o.default.string,onClose:o.default.func};var h=g;n.default=h}}},{package:"$root$",file:"ui/components/app/modals/nickname-popovers/nickname-popovers.component.js"}],[4549,{"./qr-scanner.container":4551},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=((a=e("./qr-scanner.container"))&&a.__esModule?a:{default:a}).default;n.default=r}}},{package:"$root$",file:"ui/components/app/modals/qr-scanner/index.js"}],[4550,{"../../../../../app/scripts/lib/util":82,"../../../../../shared/constants/app":4316,"../../../../../shared/constants/time":4334,"../../../../helpers/utils/util":5093,"../../../../helpers/utils/webcam-utils":5094,"../../../ui/page-container/page-container-footer/page-container-footer.component":4976,"../../../ui/spinner":4998,"@zxing/library":2146,loglevel:3629,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=m(e("prop-types")),o=m(e("loglevel")),i=e("@zxing/library"),s=e("../../../../../app/scripts/lib/util"),l=e("../../../../../shared/constants/app"),u=e("../../../../../shared/constants/time"),c=m(e("../../../ui/spinner")),d=m(e("../../../../helpers/utils/webcam-utils")),p=e("../../../../helpers/utils/util"),f=m(e("../../../ui/page-container/page-container-footer/page-container-footer.component"));function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const y="ACCESSING_CAMERA",v="NEED_TO_ALLOW_ACCESS",b="READY";class _ extends a.Component{constructor(e){super(e),h(this,"checkEnvironment",(async()=>{try{const{environmentReady:e}=await d.default.checkStatus();if(!e&&(0,s.getEnvironmentType)()!==l.ENVIRONMENT_TYPE_FULLSCREEN){const e=(0,p.getURL)(window.location.href),t=null==e?void 0:e.hash,n=t?t.substring(1):null;global.platform.openExtensionInBrowser(n)}}catch(e){this.mounted&&this.setState({error:e})}this.initCamera()})),h(this,"checkPermissions",(async()=>{try{const{permissions:e}=await d.default.checkStatus();if(e){if(await new Promise((e=>setTimeout(e,2*u.SECOND))),!this.mounted)return;this.setState({ready:b})}else this.mounted&&(this.permissionChecker=setTimeout(this.checkPermissions,u.SECOND))}catch(e){this.mounted&&this.setState({error:e})}})),h(this,"initCamera",(async()=>{this.codeReader||(this.codeReader=new i.BrowserQRCodeReader);try{await this.codeReader.getVideoInputDevices(),this.checkPermissions();const e=await this.codeReader.decodeFromInputVideoDevice(undefined,"video"),t=this.parseContent(e.text);if(!this.mounted)return;"unknown"===t.type?this.setState({error:new Error(this.context.t("unknownQrCode"))}):(this.props.qrCodeDetected(t),this.stopAndClose())}catch(e){if(!this.mounted)return;"NotAllowedError"===e.name?(o.default.info(`Permission denied: '${e}'`),this.setState({ready:v})):this.setState({error:e})}})),h(this,"stopAndClose",(()=>{this.codeReader&&this.teardownCodeReader(),this.props.hideModal()})),h(this,"tryAgain",(()=>{clearTimeout(this.permissionChecker),this.codeReader&&this.teardownCodeReader(),this.setState(this.getInitialState(),(()=>{this.checkEnvironment()}))})),this.state=this.getInitialState(),this.codeReader=null,this.permissionChecker=null,this.mounted=!1,this.props.qrCodeDetected(null)}componentDidMount(){this.mounted=!0,this.checkEnvironment()}componentDidUpdate(e,t){const{ready:n}=this.state;t.ready!==n&&(n===b?this.initCamera():n===v&&this.checkPermissions())}getInitialState(){return{ready:y,error:null}}componentWillUnmount(){this.mounted=!1,clearTimeout(this.permissionChecker),this.teardownCodeReader()}teardownCodeReader(){this.codeReader&&(this.codeReader.reset(),this.codeReader.stop(),this.codeReader=null)}parseContent(e){let t="unknown",n={};return e.split("ethereum:").length>1?(t="address",n={address:e.split("ethereum:")[1]}):"0x"===e.substring(0,2).toLowerCase()&&(t="address",n={address:e}),{type:t,values:n}}renderError(){const{t:e}=this.context,{error:t}=this.state;let n,r;return"NO_WEBCAM_FOUND"===t.type?(n=e("noWebcamFoundTitle"),r=e("noWebcamFound")):t.message===e("unknownQrCode")?r=e("unknownQrCode"):(n=e("unknownCameraErrorTitle"),r=e("unknownCameraError")),a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"qr-scanner__image"},a.default.createElement("img",{src:"images/webcam.svg",width:"70",height:"70",alt:""})),n?a.default.createElement("div",{className:"qr-scanner__title"},n):null,a.default.createElement("div",{className:"qr-scanner__error"},r),a.default.createElement(f.default,{onCancel:this.stopAndClose,onSubmit:this.tryAgain,cancelText:e("cancel"),submitText:e("tryAgain")}))}renderVideo(){const{t:e}=this.context,{ready:t}=this.state;let n;return t===y?n=e("accessingYourCamera"):t===b?n=e("scanInstructions"):t===v&&(n=e("youNeedToAllowCameraAccess")),a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"qr-scanner__title"},`${e("scanQrCode")}`),a.default.createElement("div",{className:"qr-scanner__content"},a.default.createElement("div",{className:"qr-scanner__content__video-wrapper"},a.default.createElement("video",{id:"video",style:{display:t===b?"block":"none"}}),t===b?null:a.default.createElement(c.default,{color:"var(--color-warning-default)"}))),a.default.createElement("div",{className:"qr-scanner__status"},n))}render(){const{error:e}=this.state;return a.default.createElement("div",{className:"qr-scanner"},a.default.createElement("div",{className:"qr-scanner__close",onClick:this.stopAndClose}),e?this.renderError():this.renderVideo())}}n.default=_,h(_,"propTypes",{hideModal:r.default.func.isRequired,qrCodeDetected:r.default.func.isRequired}),h(_,"contextTypes",{t:r.default.func})}}},{package:"$root$",file:"ui/components/app/modals/qr-scanner/qr-scanner.component.js"}],[4551,{"../../../../store/actions":5456,"./qr-scanner.component":4550,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../../../store/actions"),i=(a=e("./qr-scanner.component"))&&a.__esModule?a:{default:a};var s=(0,r.connect)(null,(e=>({hideModal:()=>e((0,o.hideModal)()),qrCodeDetected:t=>e((0,o.qrCodeDetected)(t))})))(i.default);n.default=s}}},{package:"$root$",file:"ui/components/app/modals/qr-scanner/qr-scanner.container.js"}],[4552,{"./reject-transactions.container":4554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./reject-transactions.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/reject-transactions/index.js"}],[4553,{"../../modal":4505,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=s(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=s(e("../../modal"));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends r.PureComponent{constructor(...e){super(...e),l(this,"onSubmit",(async()=>{const{onSubmit:e,hideModal:t}=this.props;await e(),t()}))}render(){const{t:e}=this.context,{hideModal:t,unapprovedTxCount:n,isRequestType:a}=this.props;return r.default.createElement(o.default,{headerText:e(a?"rejectRequestsN":"rejectTxsN",[n]),onClose:t,onSubmit:this.onSubmit,onCancel:t,submitText:e("rejectAll"),cancelText:e("cancel")},r.default.createElement("div",null,r.default.createElement("div",{className:"reject-transactions__description"},e(a?"rejectRequestsDescription":"rejectTxsDescription",[n]))))}}n.default=u,l(u,"contextTypes",{t:a.default.func.isRequired}),l(u,"propTypes",{onSubmit:a.default.func.isRequired,hideModal:a.default.func.isRequired,unapprovedTxCount:a.default.number.isRequired,isRequestType:a.default.bool})}}},{package:"$root$",file:"ui/components/app/modals/reject-transactions/reject-transactions.component.js"}],[4554,{"../../../../helpers/higher-order-components/with-modal-props":5070,"./reject-transactions.component":4553,"react-redux":4008,redux:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),r=e("redux"),o=s(e("../../../../helpers/higher-order-components/with-modal-props")),i=s(e("./reject-transactions.component"));function s(e){return e&&e.__esModule?e:{default:e}}var l=(0,r.compose)(o.default,(0,a.connect)(((e,t)=>{const{unapprovedTxCount:n}=t;return{unapprovedTxCount:n}})))(i.default);n.default=l}}},{package:"$root$",file:"ui/components/app/modals/reject-transactions/reject-transactions.container.js"}],[4555,{"./transaction-confirmed.container":4557},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./transaction-confirmed.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/transaction-confirmed/index.js"}],[4556,{"../../../../helpers/constants/design-system":5052,"../../../component-library":4792,"../../modal":4505,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=l(e("prop-types")),o=l(e("../../modal")),i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system");function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends a.PureComponent{constructor(...e){super(...e),c(this,"handleSubmit",(()=>{const{hideModal:e,onSubmit:t}=this.props;e(),t&&"function"==typeof t&&t()}))}render(){const{t:e}=this.context;return a.default.createElement(o.default,{onSubmit:this.handleSubmit,submitText:e("ok")},a.default.createElement("div",{className:"transaction-confirmed__content"},a.default.createElement(i.Icon,{name:i.IconName.Check,color:s.IconColor.successDefault,size:i.IconSize.Xl}),a.default.createElement("div",{className:"transaction-confirmed__title"},`${e("confirmed")}!`),a.default.createElement("div",{className:"transaction-confirmed__description"},e("initialTransactionConfirmed"))))}}n.default=d,c(d,"contextTypes",{t:r.default.func}),c(d,"propTypes",{onSubmit:r.default.func,hideModal:r.default.func})}}},{package:"$root$",file:"ui/components/app/modals/transaction-confirmed/transaction-confirmed.component.js"}],[4557,{"../../../../helpers/higher-order-components/with-modal-props":5070,"./transaction-confirmed.component":4556},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(e("../../../../helpers/higher-order-components/with-modal-props")),r=o(e("./transaction-confirmed.component"));function o(e){return e&&e.__esModule?e:{default:e}}var i=(0,a.default)(r.default);n.default=i}}},{package:"$root$",file:"ui/components/app/modals/transaction-confirmed/transaction-confirmed.container.js"}],[4558,{"./multi-layer-fee-message":4559},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./multi-layer-fee-message"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/multilayer-fee-message/index.js"}],[4559,{"../../../../shared/constants/common":4318,"../../../../shared/modules/Numeric":4346,"../../../../shared/modules/conversion.utils":4350,"../../../contexts/i18n":5029,"../../../helpers/constants/common":5050,"../../../helpers/utils/optimism/fetchEstimatedL1Fee":5086,"../../../selectors":5449,"../transaction-detail-item/transaction-detail-item.component":4704,"../user-preferenced-currency-display":4718,"@sentry/browser":1752,"prop-types":3766,react:4043,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),o=h(e("prop-types")),i=e("@sentry/browser"),s=h(e("../transaction-detail-item/transaction-detail-item.component")),l=h(e("../user-preferenced-currency-display")),u=h(e("../../../helpers/utils/optimism/fetchEstimatedL1Fee")),c=e("../../../helpers/constants/common"),d=e("../../../contexts/i18n"),p=e("../../../../shared/modules/conversion.utils"),f=e("../../../../shared/constants/common"),m=e("../../../../shared/modules/Numeric"),g=e("../../../selectors");function h(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function v({transaction:e,layer2fee:t,nativeCurrency:n,plainStyle:o}){var h;const y=(0,a.useContext)(d.I18nContext),[v,b]=(0,a.useState)(null),_=(0,r.useSelector)(g.getUseCurrencyRateCheck);if((0,a.useEffect)((()=>{if(null==e||!e.txParams)return;(async()=>{try{const t=await(0,u.default)(null==e?void 0:e.chainId,e);b(t)}catch(e){(0,i.captureException)(e),b(null)}})()}),[e]),null==e||!e.txParams)return null;let T=y("unknown"),x=y("unknown");if(null!==v){T=`${new m.Numeric(v,16,f.EtherDenomination.WEI).toDenomination(f.EtherDenomination.ETH).toFixed(12)} ${n}`,x=_?a.default.createElement(l.default,{type:c.SECONDARY,value:v,showFiat:!0,hideLabel:!0}):null}const w=(0,p.sumHexes)(t||"0x0",v||"0x0",(null==e||null===(h=e.txParams)||void 0===h?void 0:h.value)||"0x0"),E=`${new m.Numeric(w,16,f.EtherDenomination.WEI).toDenomination(f.EtherDenomination.ETH).toFixed(12)} ${n}`,k=_?a.default.createElement(l.default,{type:c.SECONDARY,value:w,showFiat:!0,hideLabel:!0}):null;return a.default.createElement("div",{className:"multi-layer-fee-message"},a.default.createElement(s.default,{key:"multi-layer-fee-message-total-item-gas-fee",detailTitle:y("layer1Fees"),detailTotal:T,detailText:_&&x,noBold:o,flexWidthValues:o}),a.default.createElement(s.default,{key:"multi-layer-fee-message-total-item-total",detailTitle:y("total"),detailTotal:E,detailText:k,subTitle:y("transactionDetailMultiLayerTotalSubtitle"),noBold:o,flexWidthValues:o}))}v.propTypes={transaction:o.default.object,layer2fee:o.default.string,nativeCurrency:o.default.string,plainStyle:o.default.bool}}}},{package:"$root$",file:"ui/components/app/multilayer-fee-message/multi-layer-fee-message.js"}],[4560,{"./multiple-notifications.component":4561},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./multiple-notifications.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/multiple-notifications/index.js"}],[4561,{classnames:2376,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=i(e("classnames")),o=i(e("prop-types"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends a.PureComponent{constructor(...e){super(...e),l(this,"state",{showAll:!1})}render(){const{showAll:e}=this.state,{children:t,classNames:n}=this.props,o=t.filter(Boolean);return 0===o.length?null:a.default.createElement("div",{className:(0,r.default)(...n,{"home-notification-wrapper--show-all":e,"home-notification-wrapper--show-first":!e})},o,a.default.createElement("div",{className:"home-notification-wrapper__i-container",onClick:()=>this.setState({showAll:!e})},o.length>1?a.default.createElement("i",{className:(0,r.default)("fa fa-sm fa-sort-amount",{flipped:!e})}):null))}}n.default=u,l(u,"defaultProps",{children:[],classNames:[]}),l(u,"propTypes",{children:o.default.array,classNames:o.default.array})}}},{package:"$root$",file:"ui/components/app/multiple-notifications/multiple-notifications.component.js"}],[4562,{"./network-account-balance-header":4563},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./network-account-balance-header"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/network-account-balance-header/index.js"}],[4563,{"../../../../shared/constants/network":4324,"../../../contexts/i18n":5029,"../../../helpers/constants/design-system":5052,"../../component-library/text/deprecated":4826,"../../ui/box/box":4888,"../../ui/icon-with-fallback":4932,"../../ui/identicon":4945,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=p(e("prop-types")),o=p(e("../../ui/icon-with-fallback")),i=p(e("../../ui/identicon")),s=e("../../../helpers/constants/design-system"),l=p(e("../../ui/box/box")),u=e("../../../contexts/i18n"),c=e("../../../../shared/constants/network"),d=e("../../component-library/text/deprecated");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m({networkName:e,accountName:t,accountBalance:n,tokenName:r,accountAddress:p,chainId:f}){const m=(0,a.useContext)(u.I18nContext),g=c.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[f],h=g?"network-account-balance-header__network-account__ident-icon-ethereum":"network-account-balance-header__network-account__ident-icon-ethereum--gray";return a.default.createElement(l.default,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,padding:4,className:"network-account-balance-header",alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.spaceBetween},a.default.createElement(l.default,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,alignItems:s.AlignItems.center,gap:2},a.default.createElement(l.default,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,alignItems:s.AlignItems.center},a.default.createElement(i.default,{address:p,diameter:32}),a.default.createElement(o.default,{name:e,size:16,icon:g,wrapperClassName:h})),a.default.createElement(l.default,{display:s.Display.Flex,alignItems:s.AlignItems.flexStart,flexDirection:s.FlexDirection.Column},a.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textAlternative},e),a.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textDefault,fontWeight:s.FontWeight.Bold},t))),a.default.createElement(l.default,{display:s.Display.Flex,alignItems:s.AlignItems.flexEnd,flexDirection:s.FlexDirection.Column},a.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textAlternative},m("balance")),a.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textDefault,fontWeight:s.FontWeight.Bold,align:s.TextAlign.End},n," ",r)))}m.propTypes={networkName:r.default.string,accountName:r.default.string,accountBalance:r.default.string,tokenName:r.default.string,accountAddress:r.default.string,chainId:r.default.string}}}},{package:"$root$",file:"ui/components/app/network-account-balance-header/network-account-balance-header.js"}],[4564,{"./network-display":4565},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./network-display"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/network-display/index.js"}],[4565,{"../../../../shared/constants/network":4324,"../../../ducks/metamask/metamask":5044,"../../../helpers/constants/design-system":5052,"../../../helpers/utils/i18n-helper":5080,"../../../hooks/useI18nContext":5116,"../../../selectors":5449,"../../component-library":4792,"../../ui/chip/chip":4899,"../../ui/color-indicator":4902,"../../ui/loading-indicator":4952,classnames:2376,"prop-types":3766,react:4043,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var a=y(e("react")),r=y(e("prop-types")),o=y(e("classnames")),i=e("react-redux"),s=e("../../../../shared/constants/network"),l=y(e("../../ui/loading-indicator")),u=y(e("../../ui/color-indicator")),c=e("../../../helpers/constants/design-system"),d=y(e("../../ui/chip/chip")),p=e("../../../hooks/useI18nContext"),f=e("../../../selectors"),m=e("../../component-library"),g=e("../../../ducks/metamask/metamask"),h=e("../../../helpers/utils/i18n-helper");function y(e){return e&&e.__esModule?e:{default:e}}function v({indicatorSize:e,disabled:t,labelProps:n,targetNetwork:r,onClick:y}){const v=(0,i.useSelector)(f.isNetworkLoading),b=(0,i.useSelector)(g.getProviderConfig),_=(0,p.useI18nContext)(),{nickname:T,type:x}=r??b;return a.default.createElement(d.default,{dataTestId:"network-display",borderColor:y?c.BorderColor.borderDefault:c.BorderColor.borderMuted,onClick:y,leftIcon:a.default.createElement(l.default,{alt:_("attemptingConnect"),title:_("attemptingConnect"),isLoading:v},a.default.createElement(u.default,{color:x===s.NETWORK_TYPES.RPC?c.IconColor.iconMuted:x,size:e,type:u.default.TYPES.FILLED,iconClassName:x===s.NETWORK_TYPES.RPC&&e!==c.Size.XS?"fa fa-question":undefined})),rightIcon:y?a.default.createElement(m.Icon,{name:m.IconName.ArrowDown,size:m.IconSize.Xs}):null,label:x===s.NETWORK_TYPES.RPC?T??_("privateNetwork"):_((0,h.getNetworkLabelKey)(x)),className:(0,o.default)("network-display",{"network-display--disabled":t,"network-display--clickable":"function"==typeof y}),labelProps:{variant:c.TypographyVariant.H7,...n}})}v.propTypes={indicatorSize:r.default.oneOf(Object.values(c.Size)),labelProps:d.default.propTypes.labelProps,targetNetwork:r.default.shape({type:r.default.oneOf([...Object.keys(s.BUILT_IN_NETWORKS),s.NETWORK_TYPES.RPC]),nickname:r.default.string}),disabled:r.default.bool,onClick:r.default.func},v.defaultProps={indicatorSize:c.Size.LG}}}},{package:"$root$",file:"ui/components/app/network-display/network-display.js"}],[4566,{"../../../helpers/constants/design-system":5052,"../../../hooks/useI18nContext":5116,"../../component-library/text/deprecated":4826,"../../ui/box/box":4888,classnames:2376,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var a=c(e("react")),r=c(e("prop-types")),o=c(e("classnames")),i=e("../../../helpers/constants/design-system"),s=e("../../../hooks/useI18nContext"),l=e("../../component-library/text/deprecated"),u=c(e("../../ui/box/box"));function c(e){return e&&e.__esModule?e:{default:e}}function d({name:e,tokenId:t,className:n,clickable:r=!1}){const c=(0,s.useI18nContext)();return a.default.createElement(u.default,{tabIndex:0,"data-testid":"nft-default-image",className:(0,o.default)(n,"nft-default",{"nft-default--clickable":r}),display:i.Display.Flex,alignItems:i.AlignItems.Center,justifyContent:i.JustifyContent.Center,backgroundColor:i.BackgroundColor.backgroundAlternative,width:i.BlockSize.Full,borderRadius:i.BorderRadius.LG},a.default.createElement(l.Text,{variant:i.TextVariant.bodySm,textAlign:i.TextAlign.Center,ellipsis:!0,as:"h6",className:"nft-default__text"},e??c("unknownCollection")," ",a.default.createElement("br",null)," #",t))}d.propTypes={name:r.default.string,tokenId:r.default.string,clickable:r.default.bool,className:r.default.string}}}},{package:"$root$",file:"ui/components/app/nft-default-image/nft-default-image.js"}],[4567,{"../../../../app/scripts/lib/util":82,"../../../../shared/constants/app":4316,"../../../../shared/constants/network":4324,"../../../../shared/constants/transaction":4336,"../../../../shared/modules/conversion.utils":4350,"../../../../shared/modules/string-utils":4363,"../../../ducks/metamask/metamask":5044,"../../../ducks/send":5046,"../../../helpers/constants/design-system":5052,"../../../helpers/constants/routes":5057,"../../../helpers/utils/nfts":5084,"../../../helpers/utils/util":5093,"../../../hooks/useCopyToClipboard":5109,"../../../hooks/useI18nContext":5116,"../../../hooks/usePrevious":5120,"../../../pages/asset/components/asset-navigation":5144,"../../../selectors":5449,"../../../store/actions":5456,"../../component-library":4792,"../../component-library/text/deprecated":4826,"../../multichain/nft-item":4876,"../../ui/box":4889,"../../ui/button":4893,"../../ui/info-tooltip":4946,"../../ui/tooltip":5017,"../nft-options/nft-options":4568,lodash:3617,"prop-types":3766,react:4043,"react-redux":4008,"react-router-dom":4028},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=A;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=R(e("prop-types")),o=e("react-redux"),i=e("react-router-dom"),s=e("lodash"),l=R(e("../../ui/box")),u=e("../../../helpers/constants/design-system"),c=e("../../../hooks/useI18nContext"),d=e("../../../helpers/utils/util"),p=e("../../../helpers/utils/nfts"),f=e("../../../selectors"),m=R(e("../../../pages/asset/components/asset-navigation")),g=e("../../../ducks/metamask/metamask"),h=e("../../../helpers/constants/routes"),y=e("../../../store/actions"),v=e("../../../../shared/constants/network"),b=e("../../../../app/scripts/lib/util"),_=e("../../../../shared/constants/app"),T=R(e("../nft-options/nft-options")),x=R(e("../../ui/button")),w=e("../../../ducks/send"),E=R(e("../../ui/info-tooltip")),k=e("../../../hooks/usePrevious"),C=e("../../../hooks/useCopyToClipboard"),M=e("../../../../shared/modules/string-utils"),P=e("../../../../shared/constants/transaction"),S=e("../../component-library"),O=e("../../component-library/text/deprecated"),j=R(e("../../ui/tooltip")),N=e("../../../../shared/modules/conversion.utils"),I=e("../../multichain/nft-item");function R(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function A({nft:e}){var t,n;const{image:r,imageOriginal:R,name:D,description:A,address:L,tokenId:F,standard:W,isCurrentlyOwned:q,lastSale:$,imageThumbnail:B}=e,G=(0,c.useI18nContext)(),U=(0,i.useHistory)(),V=(0,o.useDispatch)(),H=(0,o.useSelector)(f.getIpfsGateway),z=(0,o.useSelector)(g.getNftContracts),K=(0,o.useSelector)(f.getCurrentChainId),Y=(0,o.useSelector)(f.getCurrentNetwork),[X,Q]=(0,C.useCopyToClipboard)(),J=null===(t=z.find((({address:e})=>(0,M.isEqualCaseInsensitive)(e,L))))||void 0===t?void 0:t.name,Z=(0,o.useSelector)((e=>(0,f.getSelectedIdentity)(e).name)),ee=(0,p.getNftImageAlt)(e),te=(0,d.getAssetImageURL)(R??r,H),ne=te.startsWith("data:"),ae=(0,d.formatDate)(new Date(null==$?void 0:$.event_timestamp).getTime(),"M/d/y"),re=(0,k.usePrevious)(e);(0,a.useEffect)((()=>{(0,s.isEqual)(re,e)||(0,y.checkAndUpdateSingleNftOwnershipStatus)(e)}),[e,re]);const oe=(()=>{switch(K){case v.CHAIN_IDS.MAINNET:return`https://opensea.io/assets/ethereum/${L}/${F}`;case v.CHAIN_IDS.POLYGON:return`https://opensea.io/assets/matic/${L}/${F}`;case v.CHAIN_IDS.GOERLI:return`https://testnets.opensea.io/assets/goerli/${L}/${F}`;case v.CHAIN_IDS.SEPOLIA:return`https://testnets.opensea.io/assets/sepolia/${L}/${F}`;default:return null}})(),ie=W!==P.TokenStandard.ERC721,se=(0,b.getEnvironmentType)()===_.ENVIRONMENT_TYPE_POPUP,le=async()=>{await V((0,w.startNewDraftTransaction)({type:P.AssetType.NFT,details:e})),U.push(h.SEND_ROUTE)},ue=()=>!1===q?a.default.createElement("div",{style:{height:"30px"}}):a.default.createElement(l.default,{display:u.Display.Flex,width:se?u.BlockSize.Full:u.BlockSize.Half,margin:se?[4,0]:null},a.default.createElement(x.default,{type:"primary",onClick:le,disabled:ie,className:"nft-details__send-button","data-testid":"nft-send-button"},G("send")),ie?a.default.createElement(E.default,{position:"top",contentText:G("sendingDisabled")}):null);return a.default.createElement(a.default.Fragment,null,a.default.createElement(m.default,{accountName:Z,assetName:J,onBack:()=>U.push(h.DEFAULT_ROUTE),optionsButton:a.default.createElement(T.default,{onViewOnOpensea:oe?()=>global.platform.openTab({url:oe}):null,onRemove:()=>{V((0,y.removeAndIgnoreNft)(L,F)),V((0,y.setNewNftAddedMessage)("")),V((0,y.setRemoveNftMessage)("success")),U.push(h.DEFAULT_ROUTE)}})}),a.default.createElement(l.default,{className:"nft-details"},a.default.createElement(l.default,{className:"nft-details__top-section",gap:6,flexDirection:u.FlexDirection.Column},a.default.createElement(l.default,{className:"nft-details__nft-item"},a.default.createElement(I.NftItem,{src:r?te:"",alt:r?ee:"",name:D,tokenId:F,networkName:Y.nickname,networkSrc:null===(n=Y.rpcPrefs)||void 0===n?void 0:n.imageUrl})),a.default.createElement(l.default,{flexDirection:u.FlexDirection.Column,className:"nft-details__info",justifyContent:u.JustifyContent.spaceBetween},a.default.createElement("div",null,a.default.createElement(O.Text,{color:u.TextColor.textDefault,variant:u.TextVariant.headingSm,as:"h4",fontWeight:u.FontWeight.Bold,marginBottom:2},D),a.default.createElement(O.Text,{color:u.TextColor.textMuted,variant:u.TextVariant.bodyMd,as:"h5",marginBottom:4,overflowWrap:u.OverflowWrap.BreakWord},"#",F)),A?a.default.createElement("div",null,a.default.createElement(O.Text,{color:u.TextColor.textDefault,variant:u.TextVariant.bodySmBold,as:"h6",marginBottom:2,className:"nft-details__description"},G("description")),a.default.createElement(O.Text,{color:u.TextColor.textAlternative,variant:u.TextVariant.bodySm,as:"h6",overflowWrap:u.OverflowWrap.BreakWord,marginBottom:4},A)):null,se?null:ue())),a.default.createElement(l.default,{marginBottom:2},$?a.default.createElement(a.default.Fragment,null,a.default.createElement(l.default,{display:u.Display.Flex,flexDirection:u.FlexDirection.Row},a.default.createElement(O.Text,{color:u.TextColor.textDefault,variant:u.TextVariant.bodySmBold,as:"h6",marginBottom:4,marginRight:2,className:"nft-details__link-title"},G("lastSold")),a.default.createElement(l.default,{display:u.Display.Flex,flexDirection:u.FlexDirection.Row,className:"nft-details__contract-wrapper"},a.default.createElement(O.Text,{color:u.TextColor.textAlternative,variant:u.TextVariant.bodySm,as:"h6",overflowWrap:u.OverflowWrap.BreakWord,marginBottom:4},ae))),a.default.createElement(l.default,{display:u.Display.Flex,flexDirection:u.FlexDirection.Row},a.default.createElement(O.Text,{color:u.TextColor.textDefault,variant:u.TextVariant.bodySmBold,as:"h6",marginBottom:4,marginRight:2,className:"nft-details__link-title"},G("lastPriceSold")),a.default.createElement(l.default,{display:u.Display.Flex,flexDirection:u.FlexDirection.Row,className:"nft-details__contract-wrapper"},a.default.createElement(O.Text,{color:u.TextColor.textAlternative,variant:u.TextVariant.bodySm,as:"h6",overflowWrap:u.OverflowWrap.BreakWord,marginBottom:4},`${Number((0,N.decWEIToDecETH)($.total_price))} ${$.payment_token.symbol}`)))):null,a.default.createElement(l.default,{display:u.Display.Flex,flexDirection:u.FlexDirection.Row},a.default.createElement(O.Text,{color:u.TextColor.textDefault,variant:u.TextVariant.bodySmBold,as:"h6",marginBottom:4,marginRight:2,className:"nft-details__link-title"},G("source")),a.default.createElement(O.Text,{variant:u.TextVariant.bodySm,as:"h6",marginBottom:4,className:"nft-details__image-source",color:ne?u.TextColor.textDefault:u.TextColor.primaryDefault},ne?a.default.createElement(a.default.Fragment,null,te):a.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:te,title:te},te))),B?a.default.createElement(l.default,{display:u.Display.Flex,flexDirection:u.FlexDirection.Row},a.default.createElement(O.Text,{color:u.TextColor.textDefault,variant:u.TextVariant.bodySmBold,as:"h6",marginBottom:4,marginRight:2,className:"nft-details__link-title"},G("link")),a.default.createElement(O.Text,{variant:u.TextVariant.bodySm,as:"h6",marginBottom:4,className:"nft-details__image-source",color:ne?u.TextColor.textDefault:u.TextColor.primaryDefault},a.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:te,title:te},B))):null,a.default.createElement(l.default,{display:u.Display.Flex,flexDirection:u.FlexDirection.Row},a.default.createElement(O.Text,{color:u.TextColor.textDefault,variant:u.TextVariant.bodySmBold,as:"h6",marginBottom:4,marginRight:2,className:"nft-details__link-title"},G("contractAddress")),a.default.createElement(l.default,{display:u.Display.Flex,flexDirection:u.FlexDirection.Row,className:"nft-details__contract-wrapper"},a.default.createElement(O.Text,{color:u.TextColor.textAlternative,variant:u.TextVariant.bodySm,as:"h6",overflowWrap:u.OverflowWrap.BreakWord,marginBottom:4},(0,d.shortenAddress)(L)),a.default.createElement(j.default,{wrapperClassName:"nft-details__tooltip-wrapper",position:"bottom",title:G(X?"copiedExclamation":"copyToClipboard")},a.default.createElement(S.ButtonIcon,{ariaLabel:"copy",color:u.IconColor.iconAlternative,className:"nft-details__contract-copy-button","data-testid":"nft-address-copy",onClick:()=>{Q(L)},iconName:X?S.IconName.CopySuccess:S.IconName.Copy})))),se?ue():null,a.default.createElement(O.Text,{color:u.TextColor.textAlternative,variant:u.TextVariant.bodySm,as:"h6"},G("nftDisclaimer")))))}A.propTypes={nft:r.default.shape({address:r.default.string.isRequired,tokenId:r.default.string.isRequired,isCurrentlyOwned:r.default.bool,name:r.default.string,description:r.default.string,image:r.default.string,standard:r.default.string,imageThumbnail:r.default.string,imagePreview:r.default.string,imageOriginal:r.default.string,creator:r.default.shape({address:r.default.string,config:r.default.string,profile_img_url:r.default.string}),lastSale:r.default.shape({event_timestamp:r.default.string,total_price:r.default.string,payment_token:r.default.shape({symbol:r.default.string})})})}}}},{package:"$root$",file:"ui/components/app/nft-details/nft-details.js"}],[4568,{"../../../contexts/i18n":5029,"../../../helpers/constants/design-system":5052,"../../component-library":4792,"../../ui/menu":4962,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},i=e("../../../contexts/i18n"),s=e("../../ui/menu"),l=e("../../component-library"),u=e("../../../helpers/constants/design-system");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const d=({onRemove:e,onViewOnOpensea:t})=>{const n=(0,r.useContext)(i.I18nContext),[a,o]=(0,r.useState)(!1),c=(0,r.useRef)(!1);return r.default.createElement("div",{ref:c},r.default.createElement(l.ButtonIcon,{iconName:l.IconName.MoreVertical,className:"nft-options__button","data-testid":"nft-options__button",onClick:()=>o(!0),color:u.Color.textDefault,size:l.ButtonIconSize.Sm,ariaLabel:n("nftOptions")}),a?r.default.createElement(s.Menu,{"data-testid":"close-nft-options-menu",anchorElement:c.current,onHide:()=>o(!1)},t?r.default.createElement(s.MenuItem,{iconName:l.IconName.Export,"data-testid":"nft-options__view-on-opensea",onClick:()=>{o(!1),t()}},n("viewOnOpensea")):null,r.default.createElement(s.MenuItem,{iconName:l.IconName.Trash,"data-testid":"nft-item-remove",onClick:()=>{o(!1),e()}},n("removeNFT"))):null)};d.propTypes={onRemove:o.default.func.isRequired,onViewOnOpensea:o.default.func};var p=d;n.default=p}}},{package:"$root$",file:"ui/components/app/nft-options/nft-options.js"}],[4569,{"./nfts-detection-notice":4570},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./nfts-detection-notice"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/nfts-detection-notice/index.js"}],[4570,{"../../../helpers/constants/routes":5057,"../../../hooks/useI18nContext":5116,"../../component-library":4792,react:4043,"react-router-dom":4028},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,s.useI18nContext)(),t=(0,o.useHistory)();return r.default.createElement(i.BannerAlert,{className:"nfts-detection-notice",title:e("newNFTsDetected"),actionButtonLabel:e("selectNFTPrivacyPreference"),actionButtonOnClick:e=>{e.preventDefault(),t.push(`${l.EXPERIMENTAL_ROUTE}#autodetect-nfts`)}},e("newNFTDetectedMessage"))};var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("react-router-dom"),i=e("../../component-library"),s=e("../../../hooks/useI18nContext"),l=e("../../../helpers/constants/routes")}}},{package:"$root$",file:"ui/components/app/nfts-detection-notice/nfts-detection-notice.js"}],[4571,{"./nfts-items":4572},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./nfts-items"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/nfts-items/index.js"}],[4572,{"../../../../app/scripts/lib/util":82,"../../../../shared/constants/app":4316,"../../../ducks/metamask/metamask":5044,"../../../helpers/constants/design-system":5052,"../../../helpers/constants/routes":5057,"../../../helpers/utils/nfts":5084,"../../../helpers/utils/util":5093,"../../../hooks/useI18nContext":5116,"../../../hooks/usePrevious":5120,"../../../selectors":5449,"../../../store/actions":5456,"../../component-library":4792,"../../multichain/nft-item":4876,"../../ui/box":4889,"../../ui/typography/typography":5022,lodash:3617,"prop-types":3766,react:4043,"react-redux":4008,"react-router-dom":4028},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=M;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=w(e("prop-types")),o=e("react-redux"),i=e("react-router-dom"),s=e("lodash"),l=w(e("../../ui/box")),u=w(e("../../ui/typography/typography")),c=e("../../../helpers/constants/design-system"),d=e("../../../../shared/constants/app"),p=e("../../../../app/scripts/lib/util"),f=e("../../../selectors"),m=e("../../../helpers/constants/routes"),g=e("../../../helpers/utils/util"),h=e("../../../helpers/utils/nfts"),y=e("../../../store/actions"),v=e("../../../hooks/usePrevious"),b=e("../../../ducks/metamask/metamask"),_=e("../../../hooks/useI18nContext"),T=e("../../component-library"),x=e("../../multichain/nft-item");function w(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}const k=(0,p.getEnvironmentType)()===d.ENVIRONMENT_TYPE_POPUP?c.BLOCK_SIZES.ONE_THIRD:c.BLOCK_SIZES.ONE_SIXTH,C="previouslyOwned";function M({collections:e={},previouslyOwnedCollection:t={}}){var n;const r=(0,o.useDispatch)(),d=Object.keys(e),p=(0,o.useSelector)(b.getNftsDropdownState),w=(0,v.usePrevious)(d),E=(0,o.useSelector)(f.getSelectedAddress),M=(0,o.useSelector)(f.getCurrentChainId),P=(0,o.useSelector)(f.getCurrentNetwork),S=(0,_.useI18nContext)();(0,a.useEffect)((()=>{var e,t;if(M!==undefined&&E!==undefined&&!(0,s.isEqual)(w,d)&&((null==p||null===(e=p[E])||void 0===e?void 0:e[M])===undefined||0===Object.keys(null==p||null===(t=p[E])||void 0===t?void 0:t[M]).length)){const e={};d.forEach((t=>{e[t]=!0}));const t={...p,[E]:{...null==p?void 0:p[E],[M]:e}};r((0,y.updateNftDropDownState)(t))}}),[d,w,p,E,M,r]);const O=(0,o.useSelector)(f.getIpfsGateway),j=(0,i.useHistory)(),N=({nfts:e,collectionName:t,collectionImage:n,key:o})=>{var i,s;if(!e.length)return null;const d=null===(i=p[E])||void 0===i||null===(s=i[M])||void 0===s?void 0:s[o];return a.default.createElement("div",{className:"nfts-items__collection",key:`collection-${o}`},a.default.createElement("button",{className:"nfts-items__collection-wrapper","data-testid":"collection-expander-button",onClick:()=>{((e,t)=>{const n={...p[E][M],[e]:!t},a={...p,[E]:{[M]:n}};r((0,y.updateNftDropDownState)(a))})(o,d)}},a.default.createElement(l.default,{marginBottom:2,display:c.DISPLAY.FLEX,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.spaceBetween,className:"nfts-items__collection-accordion-title"},a.default.createElement(l.default,{alignItems:c.AlignItems.center,className:"nfts-items__collection-header"},((e,t)=>{var n;return e?a.default.createElement("img",{alt:t,src:(0,g.getAssetImageURL)(e,O),className:"nfts-items__collection-image"}):a.default.createElement("div",{className:"nfts-items__collection-image-alt"},(null==t||null===(n=t[0])||void 0===n?void 0:n.toUpperCase())??null)})(n,t),a.default.createElement(u.default,{color:c.Color.textDefault,variant:c.TypographyVariant.H5,margin:2},`${t??S("unknownCollection")} (${e.length})`)),a.default.createElement(l.default,{alignItems:c.AlignItems.flexEnd},a.default.createElement(T.Icon,{name:d?T.IconName.ArrowDown:T.IconName.ArrowRight,color:c.Color.iconDefault})))),d?a.default.createElement(l.default,{display:c.DISPLAY.FLEX,flexWrap:c.FLEX_WRAP.WRAP,gap:4},e.map(((e,t)=>{var n;const{image:r,address:o,tokenId:i,name:s}=e,u=(0,g.getAssetImageURL)(r,O),c=(0,h.getNftImageAlt)(e);return a.default.createElement(l.default,{"data-testid":"nft-wrapper",width:k,key:`nft-${t}`,className:"nfts-items__item-wrapper"},a.default.createElement(x.NftItem,{src:u,alt:c,name:s,tokenId:i,networkName:P.nickname,networkSrc:null===(n=P.rpcPrefs)||void 0===n?void 0:n.imageUrl,onClick:()=>j.push(`${m.ASSET_ROUTE}/${o}/${i}`),clickable:!0}))}))):null)};return a.default.createElement("div",{className:"nfts-items"},a.default.createElement(l.default,{paddingTop:6,paddingBottom:6,paddingLeft:4,paddingRight:4,flexDirection:c.FLEX_DIRECTION.COLUMN},a.default.createElement(a.default.Fragment,null,d.map((t=>{const{nfts:n,collectionName:a,collectionImage:r}=e[t];return N({nfts:n,collectionName:a,collectionImage:r,key:t,isPreviouslyOwnedCollection:!1})})),N({nfts:t.nfts,collectionName:t.collectionName,collectionImage:null===(n=t.nfts[0])||void 0===n?void 0:n.image,isPreviouslyOwnedCollection:!0,key:C}))))}M.propTypes={previouslyOwnedCollection:r.default.shape({nfts:r.default.arrayOf(r.default.shape({address:r.default.string.isRequired,tokenId:r.default.string.isRequired,name:r.default.string,description:r.default.string,image:r.default.string,standard:r.default.string,imageThumbnail:r.default.string,imagePreview:r.default.string,creator:r.default.shape({address:r.default.string,config:r.default.string,profile_img_url:r.default.string})})),collectionName:r.default.string,collectionImage:r.default.string}),collections:r.default.shape({nfts:r.default.arrayOf(r.default.shape({address:r.default.string.isRequired,tokenId:r.default.string.isRequired,name:r.default.string,description:r.default.string,image:r.default.string,standard:r.default.string,imageThumbnail:r.default.string,imagePreview:r.default.string,creator:r.default.shape({address:r.default.string,config:r.default.string,profile_img_url:r.default.string})})),collectionImage:r.default.string,collectionName:r.default.string})}}}},{package:"$root$",file:"ui/components/app/nfts-items/nfts-items.js"}],[4573,{"./nfts-tab":4574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./nfts-tab"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/nfts-tab/index.js"}],[4574,{"../../../helpers/constants/design-system":5052,"../../../helpers/constants/routes":5057,"../../../helpers/constants/zendesk-url":5062,"../../../hooks/useI18nContext":5116,"../../../hooks/useNftsCollections":5118,"../../../selectors":5449,"../../../store/actions":5456,"../../component-library":4792,"../../component-library/text/deprecated":4826,"../nfts-detection-notice":4569,"../nfts-items":4571,react:4043,"react-redux":4008,"react-router-dom":4028},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,r.useSelector)(u.getUseNftDetection),t=(0,r.useSelector)(u.getIsMainnet),n=(0,o.useHistory)(),y=(0,l.useI18nContext)(),v=(0,r.useDispatch)(),{nftsLoading:b,collections:_,previouslyOwnedCollection:T}=(0,p.useNftsCollections)();if(b)return a.default.createElement("div",{className:"nfts-tab__loading"},y("loadingNFTs"));return a.default.createElement(f.Box,{className:"nfts-tab"},Object.keys(_).length>0||T.nfts.length>0?a.default.createElement(i.default,{collections:_,previouslyOwnedCollection:T}):a.default.createElement(a.default.Fragment,null,t&&!e?a.default.createElement(f.Box,{padding:4},a.default.createElement(g.default,null)):null,a.default.createElement(f.Box,{padding:12,display:s.Display.Flex,flexDirection:s.FlexDirection.Column,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center},a.default.createElement(f.Box,{justifyContent:s.JustifyContent.center},a.default.createElement("img",{src:"./images/no-nfts.svg"})),a.default.createElement(f.Box,{marginTop:4,marginBottom:12,display:s.Display.Flex,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center,flexDirection:s.FlexDirection.Column,className:"nfts-tab__link"},a.default.createElement(m.Text,{color:s.TextColor.textMuted,variant:s.TextVariant.headingSm,align:s.TextAlign.Center,as:"h4"},y("noNFTs")),a.default.createElement(f.ButtonLink,{size:s.Size.MD,href:h.default.NFT_TOKENS,externalLink:!0},y("learnMoreUpperCase"))))),a.default.createElement(f.Box,{className:"nfts-tab__buttons",display:s.Display.Flex,flexDirection:s.FlexDirection.Column,alignItems:s.AlignItems.flexStart,margin:4,gap:2,marginBottom:2},a.default.createElement(f.ButtonLink,{size:s.Size.MD,"data-testid":"import-nft-button",startIconName:f.IconName.Add,onClick:()=>{v((0,d.showImportNftsModal)())}},y("importNFT")),!t&&Object.keys(_).length<1?null:a.default.createElement(a.default.Fragment,null,a.default.createElement(f.Box,{className:"nfts-tab__link",justifyContent:s.JustifyContent.flexEnd},t&&!e?a.default.createElement(f.ButtonLink,{size:s.Size.MD,startIconName:f.IconName.Setting,"data-testid":"refresh-list-button",onClick:()=>{n.push(c.EXPERIMENTAL_ROUTE)}},y("enableAutoDetect")):a.default.createElement(f.ButtonLink,{size:s.Size.MD,startIconName:f.IconName.Refresh,"data-testid":"refresh-list-button",onClick:()=>{t&&v((0,d.detectNfts)()),(0,d.checkAndUpdateAllNftsOwnershipStatus)()}},y("refreshList"))))))};var a=y(e("react")),r=e("react-redux"),o=e("react-router-dom"),i=y(e("../nfts-items")),s=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext"),u=e("../../../selectors"),c=e("../../../helpers/constants/routes"),d=e("../../../store/actions"),p=e("../../../hooks/useNftsCollections"),f=e("../../component-library"),m=e("../../component-library/text/deprecated"),g=y(e("../nfts-detection-notice")),h=y(e("../../../helpers/constants/zendesk-url"));function y(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/app/nfts-tab/nfts-tab.js"}],[4575,{"./permission-cell":4577},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./permission-cell"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/permission-cell/index.js"}],[4576,{"../../../../shared/constants/snaps/permissions":4330,"../../../helpers/constants/design-system":5052,"../../../hooks/useI18nContext":5116,"../../../store/actions":5456,"../../component-library":4792,"../../component-library/text/deprecated":4826,"../../ui/box":4889,"../../ui/menu":4962,"../../ui/popover/popover.component":4981,"prop-types":3766,react:4043,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PermissionCellOptions=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=g(e("prop-types")),o=e("react-redux"),i=g(e("../../ui/box")),s=e("../../../hooks/useI18nContext"),l=e("../../component-library"),u=e("../../component-library/text/deprecated"),c=e("../../ui/menu"),d=e("../../../helpers/constants/design-system"),p=g(e("../../ui/popover/popover.component")),f=e("../../../../shared/constants/snaps/permissions"),m=e("../../../store/actions");function g(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const y=({snapId:e,permissionName:t,description:n})=>{const r=(0,s.useI18nContext)(),g=(0,o.useDispatch)(),h=(0,a.useRef)(!1),[y,v]=(0,a.useState)(!1),[b,_]=(0,a.useState)(!1),T=f.DynamicSnapPermissions.includes(t);return a.default.createElement(i.default,{ref:h},a.default.createElement(l.ButtonIcon,{iconName:l.IconName.MoreVertical,ariaLabel:r("options"),onClick:()=>{v(!0)}}),y&&a.default.createElement(c.Menu,{anchorElement:h.current,onHide:()=>{v(!1)}},a.default.createElement(c.MenuItem,{onClick:()=>{v(!1),_(!0)}},a.default.createElement(u.Text,{variant:d.TextVariant.bodySm,style:{whiteSpace:"nowrap"}},r("details"))),T&&a.default.createElement(c.MenuItem,{onClick:()=>{v(!1),g((0,m.revokeDynamicSnapPermissions)(e,[t]))}},a.default.createElement(u.Text,{variant:d.TextVariant.bodySm,color:d.TextColor.errorDefault,style:{whiteSpace:"nowrap"}},r("revokePermission")))),b&&a.default.createElement(p.default,{title:r("details"),onClose:()=>{v(!1),_(!1)}},a.default.createElement(i.default,{marginLeft:4,marginRight:4,marginBottom:4},a.default.createElement(u.Text,null,n))))};n.PermissionCellOptions=y,y.propTypes={snapId:r.default.string.isRequired,permissionName:r.default.string.isRequired,description:r.default.oneOfType([r.default.string,r.default.object])}}}},{package:"$root$",file:"ui/components/app/permission-cell/permission-cell-options.js"}],[4577,{"../../../helpers/constants/design-system":5052,"../../../helpers/utils/util":5093,"../../../hooks/useI18nContext":5116,"../../component-library":4792,"../../component-library/text/deprecated":4826,"../../ui/box":4889,"../../ui/tooltip":5017,"./permission-cell-options":4576,classnames:2376,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=m(e("react")),r=m(e("prop-types")),o=m(e("classnames")),i=m(e("../../ui/box")),s=e("../../../helpers/constants/design-system"),l=e("../../component-library"),u=e("../../component-library/text/deprecated"),c=e("../../../helpers/utils/util"),d=e("../../../hooks/useI18nContext"),p=m(e("../../ui/tooltip")),f=e("./permission-cell-options");function m(e){return e&&e.__esModule?e:{default:e}}const g=({snapId:e,permissionName:t,title:n,description:r,weight:m,avatarIcon:g,dateApproved:h,revoked:y,showOptions:v})=>{var b;const _=(0,d.useI18nContext)();let T=s.IconColor.iconMuted,x=l.IconName.Info,w=s.IconColor.primaryDefault,E=s.Color.primaryMuted;y||1!==m||(w=s.IconColor.warningDefault,E=s.Color.warningMuted,T=s.IconColor.warningDefault,x=l.IconName.Danger),h&&(w=s.IconColor.iconMuted,E=s.Color.backgroundAlternative),y&&(w=s.IconColor.iconMuted,E=s.Color.backgroundAlternative);let k=g;return"string"!=typeof g&&null!=g&&null!==(b=g.props)&&void 0!==b&&b.iconName&&(k=g.props.iconName),a.default.createElement(i.default,{className:"permission-cell",justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.flexStart,marginLeft:4,marginRight:4,paddingTop:2,paddingBottom:2},a.default.createElement(i.default,null,"string"==typeof k?a.default.createElement(l.AvatarIcon,{iconName:k,size:l.IconSize.Md,iconProps:{size:l.IconSize.Sm},color:w,backgroundColor:E}):k),a.default.createElement(i.default,{width:"full",marginLeft:4,marginRight:4},a.default.createElement(u.Text,{size:s.Size.MD,variant:s.TextVariant.bodyMd,className:(0,o.default)("permission-cell__title",{"permission-cell__title-revoked":y})},n),a.default.createElement(u.Text,{className:"permission-cell__status",variant:s.TextVariant.bodySm,color:s.TextColor.textAlternative},!y&&(h?_("approvedOn",[(0,c.formatDate)(h,"yyyy-MM-dd")]):_("permissionRequested")),y?_("permissionRevoked"):"")),a.default.createElement(i.default,null,v&&e?a.default.createElement(f.PermissionCellOptions,{snapId:e,permissionName:t,description:r}):a.default.createElement(p.default,{html:a.default.createElement("div",null,r),position:"bottom"},a.default.createElement(l.Icon,{color:T,name:x,size:l.IconSize.Sm}))))};g.propTypes={snapId:r.default.string,permissionName:r.default.string.isRequired,title:r.default.oneOfType([r.default.string.isRequired,r.default.object.isRequired]),description:r.default.oneOfType([r.default.string,r.default.object]),weight:r.default.number,avatarIcon:r.default.any.isRequired,dateApproved:r.default.number,revoked:r.default.bool,showOptions:r.default.bool};var h=g;n.default=h}}},{package:"$root$",file:"ui/components/app/permission-cell/permission-cell.js"}],[4578,{"./permission-page-container-content":4579,"./permission-page-container.container":4582},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"PermissionPageContainerContent",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var a=o(e("./permission-page-container.container")),r=o(e("./permission-page-container-content"));function o(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/app/permission-page-container/index.js"}],[4579,{"./permission-page-container-content.component":4580},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./permission-page-container-content.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container-content/index.js"}],[4580,{"../../../ui/tooltip":5017,"../../permissions-connect-header":4585,"../../permissions-connect-permission-list":4587,"@metamask/permission-controller":1336,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=c(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=e("@metamask/permission-controller"),i=c(e("../../permissions-connect-header")),s=c(e("../../../ui/tooltip")),l=c(e("../../permissions-connect-permission-list"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends r.PureComponent{renderRequestedPermissions(){const{selectedPermissions:e,subjectMetadata:t}=this.props;return r.default.createElement("div",{className:"permission-approval-container__content__requested"},r.default.createElement(l.default,{permissions:e,targetSubjectMetadata:t}))}renderAccountTooltip(e){const{selectedIdentities:t}=this.props,{t:n}=this.context;return r.default.createElement(s.default,{key:"all-account-connect-tooltip",position:"bottom",wrapperClassName:"permission-approval-container__bold-title-elements",html:r.default.createElement("div",{style:{display:"flex",flexDirection:"column"}},t.slice(0,6).map(((e,t)=>r.default.createElement("div",{key:`tooltip-identity-${t}`},e.addressLabel))),t.length>6?n("plusXMore",[t.length-6]):null)},e)}getTitle(){var e;const{subjectMetadata:t,selectedIdentities:n,allIdentitiesSelected:a,selectedPermissions:r}=this.props,{t:o}=this.context;return t.extensionId?o("externalExtension",[t.extensionId]):r.eth_accounts?a?o("connectToAll",[this.renderAccountTooltip(o("connectToAllAccounts"))]):n.length>1?o("connectToMultiple",[this.renderAccountTooltip(o("connectToMultipleNumberOfAccounts",[n.length]))]):o("connectTo",[null===(e=n[0])||void 0===e?void 0:e.addressLabel]):o("permissionRequestCapitalized")}getHeaderText(){const{subjectMetadata:e}=this.props,{t:t}=this.context;return e.subjectType===o.SubjectType.Snap?t("allowThisSnapTo"):e.extensionId?t("allowExternalExtensionTo",[e.extensionId]):t("allowThisSiteTo")}render(){const{subjectMetadata:e}=this.props,t=this.getTitle(),n=this.getHeaderText();return r.default.createElement("div",{className:"permission-approval-container__content"},r.default.createElement("div",{className:"permission-approval-container__content-container"},r.default.createElement(i.default,{iconUrl:e.iconUrl,iconName:e.name,headerTitle:t,headerText:n,siteOrigin:e.origin,subjectType:e.subjectType}),r.default.createElement("section",{className:"permission-approval-container__permissions-container"},this.renderRequestedPermissions())))}}n.default=p,d(p,"propTypes",{subjectMetadata:a.default.shape({name:a.default.string.isRequired,origin:a.default.string.isRequired,subjectType:a.default.string.isRequired,extensionId:a.default.string,iconUrl:a.default.string}),selectedPermissions:a.default.object.isRequired,selectedIdentities:a.default.array,allIdentitiesSelected:a.default.bool}),d(p,"defaultProps",{selectedIdentities:[],allIdentitiesSelected:!1}),d(p,"contextTypes",{t:a.default.func})}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container-content/permission-page-container-content.component.js"}],[4581,{".":4578,"../../../../shared/constants/metametrics":4323,"../../../../shared/constants/permissions":4325,"../../../helpers/utils/util":5093,"../../ui/page-container":4973,"../permissions-connect-footer":4583,"../snaps/snap-privacy-warning":4646,"@metamask/permission-controller":1336,"@metamask/rpc-methods":1373,lodash:3617,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=h(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=e("lodash"),i=e("@metamask/rpc-methods"),s=e("@metamask/permission-controller"),l=e("../../../../shared/constants/metametrics"),u=e("../../ui/page-container"),c=h(e("../permissions-connect-footer")),d=e("../../../../shared/constants/permissions"),p=h(e("../snaps/snap-privacy-warning")),f=e("../../../helpers/utils/util"),m=e(".");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class v extends r.Component{constructor(...e){super(...e),y(this,"state",{selectedPermissions:this.getRequestedMethodState(this.getRequestedMethodNames(this.props))}),y(this,"onCancel",(()=>{const{request:e,rejectPermissionsRequest:t}=this.props;t(e.metadata.id)})),y(this,"onSubmit",(()=>{const{request:e,approvePermissionsRequest:t,rejectPermissionsRequest:n,selectedIdentities:a}=this.props,r={...e,permissions:{...e.permissions},approvedAccounts:a.map((e=>e.address))};Object.keys(this.state.selectedPermissions).forEach((e=>{this.state.selectedPermissions[e]||delete r.permissions[e]})),Object.keys(r.permissions).length>0?t(r):n(r.metadata.id)}))}componentDidUpdate(){const e=this.getRequestedMethodNames(this.props);(0,o.isEqual)(Object.keys(this.state.selectedPermissions),e)||this.setState({selectedPermissions:this.getRequestedMethodState(e)})}getRequestedMethodState(e){return e.reduce(((e,t)=>t===d.RestrictedMethods.wallet_snap?(e[t]=this.getDedupedSnapPermissions(),e):(e[t]=!0,e)),{})}getDedupedSnapPermissions(){var e;const{request:t,currentPermissions:n}=this.props,a=(0,f.getDedupedSnaps)(t,n);return{...(null==t||null===(e=t.permissions)||void 0===e?void 0:e[i.WALLET_SNAP_PERMISSION_KEY])||{},caveats:[{type:i.SnapCaveatType.SnapIds,value:a.reduce(((e,t)=>(e[t]={},e)),{})}]}}showSnapsPrivacyWarning(){this.setState({isShowingSnapsPrivacyWarning:!0})}getRequestedMethodNames(e){return Object.keys(e.request.permissions||{})}componentDidMount(){this.context.trackEvent({category:l.MetaMetricsEventCategory.Auth,event:"Tab Opened",properties:{action:"Connect",legacy_event:!0}}),this.props.request.permissions[i.WALLET_SNAP_PERMISSION_KEY]&&!1===this.props.snapsInstallPrivacyWarningShown&&this.showSnapsPrivacyWarning()}render(){const{requestMetadata:e,targetSubjectMetadata:t,selectedIdentities:n,allIdentitiesSelected:a}=this.props,o=e=>{this.setState({isShowingSnapsPrivacyWarning:e})},i=()=>{o(!1),this.props.setSnapsInstallPrivacyWarningShownStatus(!0)};return r.default.createElement(r.default.Fragment,null,r.default.createElement(r.default.Fragment,null,this.state.isShowingSnapsPrivacyWarning&&r.default.createElement(p.default,{onAccepted:()=>i(),onCanceled:()=>this.onCancel()})),r.default.createElement(m.PermissionPageContainerContent,{requestMetadata:e,subjectMetadata:t,selectedPermissions:this.state.selectedPermissions,selectedIdentities:n,allIdentitiesSelected:a}),r.default.createElement("div",{className:"permission-approval-container__footers"},(null==t?void 0:t.subjectType)!==s.SubjectType.Snap&&r.default.createElement(c.default,null),r.default.createElement(u.PageContainerFooter,{cancelButtonType:"default",onCancel:()=>this.onCancel(),cancelText:this.context.t("cancel"),onSubmit:()=>this.onSubmit(),submitText:this.context.t("connect"),buttonSizeLarge:!1})))}}n.default=v,y(v,"propTypes",{approvePermissionsRequest:a.default.func.isRequired,rejectPermissionsRequest:a.default.func.isRequired,selectedIdentities:a.default.array,allIdentitiesSelected:a.default.bool,currentPermissions:a.default.object,snapsInstallPrivacyWarningShown:a.default.bool.isRequired,setSnapsInstallPrivacyWarningShownStatus:a.default.func,request:a.default.object,requestMetadata:a.default.object,targetSubjectMetadata:a.default.shape({name:a.default.string,origin:a.default.string.isRequired,subjectType:a.default.string.isRequired,extensionId:a.default.string,iconUrl:a.default.string})}),y(v,"defaultProps",{request:{},requestMetadata:{},selectedIdentities:[],allIdentitiesSelected:!1,currentPermissions:{}}),y(v,"contextTypes",{t:a.default.func,trackEvent:a.default.func})}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container.component.js"}],[4582,{"../../../selectors":5449,"./permission-page-container.component":4581,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../../selectors"),i=(a=e("./permission-page-container.component"))&&a.__esModule?a:{default:a};var s=(0,r.connect)(((e,t)=>{var n;const{selectedIdentities:a}=t,r=(0,o.getPermissions)(e,null===(n=t.request.metadata)||void 0===n?void 0:n.origin),i=(0,o.getMetaMaskIdentities)(e);return{allIdentitiesSelected:Object.keys(a).length===Object.keys(i).length&&a.length>1,currentPermissions:r}}))(i.default);n.default=s}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container.container.js"}],[4583,{"./permissions-connect-footer.component":4584},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./permissions-connect-footer.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/permissions-connect-footer/index.js"}],[4584,{"../../../helpers/constants/zendesk-url":5062,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r,o,i=c(e("prop-types")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),l=c(e("../../../helpers/constants/zendesk-url"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}class d extends s.Component{render(){const{t:e}=this.context;return s.default.createElement("div",{className:"permissions-connect-footer"},s.default.createElement("div",{className:"permissions-connect-footer__text"},s.default.createElement("div",null,e("onlyConnectTrust")),s.default.createElement("div",{className:"permissions-connect-footer__text--link",onClick:()=>{global.platform.openTab({url:l.default.USER_GUIDE_DAPPS})}},e("learnMoreUpperCase"))))}}n.default=d,a=d,r="contextTypes",o={t:i.default.func},(r=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o}}},{package:"$root$",file:"ui/components/app/permissions-connect-footer/permissions-connect-footer.component.js"}],[4585,{"./permissions-connect-header.component":4586},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./permissions-connect-header.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/permissions-connect-header/index.js"}],[4586,{"../../../helpers/constants/design-system":5052,"../../ui/box":4889,"../../ui/site-origin":4996,"@metamask/subject-metadata-controller":1637,classnames:2376,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=d(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=d(e("classnames")),i=e("@metamask/subject-metadata-controller"),s=d(e("../../ui/site-origin")),l=d(e("../../ui/box")),u=e("../../../helpers/constants/design-system");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},p.apply(this,arguments)}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends r.Component{renderHeaderIcon(){const{iconUrl:e,iconName:t,siteOrigin:n,leftIcon:a,rightIcon:o,subjectType:l}=this.props;return l===i.SubjectType.Snap?null:r.default.createElement("div",{className:"permissions-connect-header__icon"},r.default.createElement(s.default,{chip:!0,siteOrigin:n,title:n,iconSrc:e,name:t,leftIcon:a,rightIcon:o}))}render(){const{boxProps:e,className:t,headerTitle:n,headerText:a}=this.props;return r.default.createElement(l.default,p({className:(0,o.default)("permissions-connect-header",t),flexDirection:u.FLEX_DIRECTION.COLUMN,justifyContent:u.JustifyContent.center},e),this.renderHeaderIcon(),r.default.createElement("div",{className:"permissions-connect-header__title"},n),r.default.createElement("div",{className:"permissions-connect-header__subtitle"},a))}}n.default=m,f(m,"propTypes",{className:a.default.string,iconUrl:a.default.string,iconName:a.default.string.isRequired,siteOrigin:a.default.string.isRequired,headerTitle:a.default.node,boxProps:a.default.shape({...l.default.propTypes}),headerText:a.default.string,leftIcon:a.default.node,rightIcon:a.default.node,subjectType:a.default.string}),f(m,"defaultProps",{iconUrl:null,headerTitle:"",headerText:"",boxProps:{}})}}},{package:"$root$",file:"ui/components/app/permissions-connect-header/permissions-connect-header.component.js"}],[4587,{"./permissions-connect-permission-list":4588},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./permissions-connect-permission-list"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/permissions-connect-permission-list/index.js"}],[4588,{"../../../helpers/utils/permission":5087,"../../../hooks/useI18nContext":5116,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var a=s(e("react")),r=s(e("prop-types")),o=e("../../../helpers/utils/permission"),i=e("../../../hooks/useI18nContext");function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){const{label:n,leftIcon:r,permissionName:i}=e;return a.default.createElement("div",{className:"permission",key:`${i}-${t}`},"string"==typeof r?a.default.createElement("i",{className:r}):r,n,(0,o.getRightIcon)(e))}function u({permissions:e,targetSubjectMetadata:t}){const n=(0,i.useI18nContext)();return a.default.createElement("div",{className:"permissions-connect-permission-list"},(0,o.getWeightedPermissions)(n,e,t).map(l))}u.propTypes={permissions:r.default.object.isRequired,targetSubjectMetadata:r.default.object.isRequired}}}},{package:"$root$",file:"ui/components/app/permissions-connect-permission-list/permissions-connect-permission-list.js"}],[4589,{"../../../../app/scripts/lib/util":82,"../../../../shared/constants/app":4316,"../../../../shared/constants/time":4334,"../../../helpers/utils/webcam-utils":5094,"../../../hooks/useI18nContext":5116,"../../ui/page-container/page-container-footer/page-container-footer.component":4976,"./enhanced-reader":4590,"@ngraveio/bc-ur":1671,loglevel:3629,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=m(e("loglevel")),o=e("@ngraveio/bc-ur"),i=m(e("prop-types")),s=e("../../../../app/scripts/lib/util"),l=e("../../../../shared/constants/app"),u=m(e("../../../helpers/utils/webcam-utils")),c=m(e("../../ui/page-container/page-container-footer/page-container-footer.component")),d=e("../../../hooks/useI18nContext"),p=e("../../../../shared/constants/time"),f=m(e("./enhanced-reader"));function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}const h="ACCESSING_CAMERA",y="NEED_TO_ALLOW_ACCESS",v="READY",b=({isReadingWallet:e,handleCancel:t,handleSuccess:n,setErrorTitle:i})=>{const m=(0,d.useI18nContext)(),[g,b]=(0,a.useState)(h),[_,T]=(0,a.useState)(null),[x,w]=(0,a.useState)(new o.URDecoder);let E=null;const k=(0,a.useRef)(!1),C=async()=>{try{const{environmentReady:e}=await u.default.checkStatus();if(!e&&(0,s.getEnvironmentType)()!==l.ENVIRONMENT_TYPE_FULLSCREEN){const e=new URL(window.location.href).hash,t=e?e.substring(1):null;global.platform.openExtensionInBrowser(t)}}catch(e){k.current&&T(e)}return S()},M=async()=>{try{const{permissions:e}=await u.default.checkStatus();if(e){if(await new Promise((e=>setTimeout(e,2*p.SECOND))),!k.current)return;b(v)}else k.current&&(E=setTimeout(M,p.SECOND),b(y))}catch(e){k.current&&T(e)}},P=t=>{try{if(!t)return;if(x.receivePart(t),x.isComplete()){const e=x.resultUR();n(e).catch(T)}}catch(t){i(m(e?"QRHardwareUnknownQRCodeTitle":"QRHardwareInvalidTransactionTitle")),T(new Error(m("unknownQrCode")))}},S=()=>{try{M()}catch(e){if(!k.current)return;"NotAllowedError"===e.name?(r.default.info(`Permission denied: '${e}'`),b(y)):T(e)}};(0,a.useEffect)((()=>(k.current=!0,C(),()=>{k.current=!1,clearTimeout(E)})),[]),(0,a.useEffect)((()=>{g===v?S():g===y&&M()}),[g]);const O=()=>{clearTimeout(E),b(h),T(null),w(new o.URDecoder),C()};return a.default.createElement("div",{className:"qr-scanner"},_?(()=>{let n,r;return"NO_WEBCAM_FOUND"===_.type?(n=m("noWebcamFoundTitle"),r=m("noWebcamFound")):_.message===m("unknownQrCode")?r=m(e?"QRHardwareUnknownWalletQRCode":"unknownQrCode"):_.message===m("QRHardwareMismatchedSignId")?r=m("QRHardwareMismatchedSignId"):(n=m("unknownCameraErrorTitle"),r=m("unknownCameraError")),a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"qr-scanner__image"},a.default.createElement("img",{src:"images/webcam.svg",width:"70",height:"70",alt:""})),n?a.default.createElement("div",{className:"qr-scanner__title"},n):null,a.default.createElement("div",{className:"qr-scanner__error"},r),a.default.createElement(c.default,{onCancel:()=>{i(""),t()},onSubmit:()=>{i(""),O()},cancelText:m("cancel"),submitText:m("tryAgain"),submitButtonType:"confirm"}))})():(()=>{let e;return g===h?e=m("accessingYourCamera"):g===v?e=m("QRHardwareScanInstructions"):g===y&&(e=m("youNeedToAllowCameraAccess")),a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"qr-scanner__content"},a.default.createElement(f.default,{handleScan:P})),e&&a.default.createElement("div",{className:"qr-scanner__status"},e))})())};b.propTypes={isReadingWallet:i.default.bool.isRequired,handleCancel:i.default.func.isRequired,handleSuccess:i.default.func.isRequired,setErrorTitle:i.default.func.isRequired};var _=b;n.default=_}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/base-reader.js"}],[4590,{"../../../../shared/constants/time":4334,"../../ui/spinner":4998,"@zxing/browser":2135,"@zxing/library":2146,loglevel:3629,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("@zxing/library"),o=e("@zxing/browser"),i=c(e("loglevel")),s=c(e("prop-types")),l=e("../../../../shared/constants/time"),u=c(e("../../ui/spinner"));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const p=({handleScan:e})=>{const[t,n]=(0,a.useState)(!1),s=(0,a.useMemo)((()=>{const e=new Map;return e.set(r.DecodeHintType.POSSIBLE_FORMATS,[r.BarcodeFormat.QR_CODE]),new o.BrowserQRCodeReader(e,{delayBetweenScanAttempts:100*l.MILLISECOND,delayBetweenScanSuccess:100*l.MILLISECOND})}),[]);return(0,a.useEffect)((()=>{const t=document.getElementById("video"),a=()=>{n(!0)};t.addEventListener("canplay",a);const r=s.decodeFromVideoDevice(undefined,"video",(t=>{t&&e(t.getText())}));return()=>{t.removeEventListener("canplay",a),r.then((e=>{e&&e.stop()})).catch(i.default.info)}}),[]),a.default.createElement("div",{className:"qr-scanner__content__video-wrapper"},a.default.createElement("video",{id:"video",style:{display:t?"block":"none",width:"100%",filter:"blur(4px)"}}),t?null:a.default.createElement(u.default,{color:"var(--color-warning-default)"}))};p.propTypes={handleScan:s.default.func.isRequired};var f=p;n.default=f}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/enhanced-reader.js"}],[4591,{"./qr-hardware-popover":4592},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=((a=e("./qr-hardware-popover"))&&a.__esModule?a:{default:a}).default;n.default=r}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/index.js"}],[4592,{"../../../hooks/useI18nContext":5116,"../../../selectors":5449,"../../../store/actions":5456,"../../ui/popover":4980,"./qr-hardware-sign-request":4593,"./qr-hardware-wallet-importer":4597,"eth-rpc-errors":2738,react:4043,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),o=e("eth-rpc-errors"),i=e("../../../selectors"),s=p(e("../../ui/popover")),l=e("../../../hooks/useI18nContext"),u=e("../../../store/actions"),c=p(e("./qr-hardware-wallet-importer")),d=p(e("./qr-hardware-sign-request"));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var m=()=>{var e;const t=(0,l.useI18nContext)(),n=(0,r.useSelector)(i.getCurrentQRHardwareState),{sync:p,sign:f}=n,m=null==p?void 0:p.reading,g=null==f?void 0:f.request,h=m||g,[y,v]=(0,a.useState)(""),{txData:b}=(0,r.useSelector)((e=>e.confirmTransaction)),_=(0,a.useMemo)((()=>b),[null==f||null===(e=f.request)||void 0===e?void 0:e.requestId]),T=(0,r.useDispatch)(),x=(0,a.useCallback)((()=>T((0,u.cancelSyncQRHardware)())),[T]),w=(0,a.useCallback)((()=>{T((0,u.rejectPendingApproval)(_.id,(0,o.serializeError)(o.ethErrors.provider.userRejectedRequest()))),T((0,u.cancelTx)(_)),T((0,u.cancelQRHardwareSignRequest)())}),[T,_]),E=(0,a.useMemo)((()=>{let e="";return g?e=t("QRHardwareSignRequestTitle"):m&&(e=t("QRHardwareWalletImporterTitle")),""!==y&&(e=y),e}),[g,m,t,y]);return h?a.default.createElement(s.default,{title:E,onClose:m?x:w},m&&a.default.createElement(c.default,{handleCancel:x,setErrorTitle:v}),g&&a.default.createElement(d.default,{setErrorTitle:v,handleCancel:w,request:f.request})):null};n.default=m}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-popover.js"}],[4593,{"./qr-hardware-sign-request.component":4595},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=((a=e("./qr-hardware-sign-request.component"))&&a.__esModule?a:{default:a}).default;n.default=r}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-sign-request/index.js"}],[4594,{"../../../../helpers/constants/design-system":5052,"../../../../hooks/useI18nContext":5116,"../../../component-library/text/deprecated":4826,"../../../ui/box":4889,"../../../ui/page-container":4973,"@ngraveio/bc-ur":1671,buffer:2335,"prop-types":3766,"qrcode.react":3852,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=p(e("qrcode.react")),o=e("@ngraveio/bc-ur"),i=p(e("prop-types")),s=p(e("../../../ui/box")),l=e("../../../../hooks/useI18nContext"),u=e("../../../../helpers/constants/design-system"),c=e("../../../ui/page-container"),d=e("../../../component-library/text/deprecated");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const m=({type:e,cbor:n,cancelQRHardwareSignRequest:i,toRead:p})=>{const f=(0,l.useI18nContext)(),m=(0,a.useMemo)((()=>new o.UREncoder(new o.UR(t.from(n,"hex"),e),400)),[n,e]),[g,h]=(0,a.useState)(m.nextPart());return(0,a.useEffect)((()=>{const e=setInterval((()=>{h(m.nextPart())}),100);return()=>{clearInterval(e)}}),[m]),a.default.createElement(a.default.Fragment,null,a.default.createElement(s.default,null,a.default.createElement(d.Text,{align:u.TextAlign.Center},f("QRHardwareSignRequestSubtitle"))),a.default.createElement(s.default,{paddingTop:4,paddingBottom:4,display:u.DISPLAY.FLEX,alignItems:u.AlignItems.center,flexDirection:u.FLEX_DIRECTION.COLUMN},a.default.createElement("div",{style:{padding:20,backgroundColor:"var(--qr-code-white-background)"}},a.default.createElement(r.default,{value:g.toUpperCase(),size:250}))),a.default.createElement(s.default,{paddingBottom:4,paddingLeft:4,paddingRight:4},a.default.createElement(d.Text,{align:u.TextAlign.Center},f("QRHardwareSignRequestDescription"))),a.default.createElement(c.PageContainerFooter,{onCancel:i,onSubmit:p,cancelText:f("QRHardwareSignRequestCancel"),submitText:f("QRHardwareSignRequestGetSignature"),submitButtonType:"confirm"}))};m.propTypes={type:i.default.string.isRequired,cbor:i.default.string.isRequired,cancelQRHardwareSignRequest:i.default.func.isRequired,toRead:i.default.func.isRequired};var g=m;n.default=g}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-sign-request/player.js"}],[4595,{"../../../../store/actions":5456,"./player":4594,"./reader":4596,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=l(e("prop-types")),o=e("../../../../store/actions"),i=l(e("./player")),s=l(e("./reader"));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}const c=({request:e,handleCancel:t,setErrorTitle:n})=>{const[r,l]=(0,a.useState)("play"),u=(0,a.useCallback)((()=>l("read")),[]);return"play"===r?(()=>{const{payload:n}=e;return a.default.createElement(i.default,{type:n.type,cbor:n.cbor,cancelQRHardwareSignRequest:t,toRead:u})})():a.default.createElement(s.default,{cancelQRHardwareSignRequest:t,submitQRHardwareSignature:o.submitQRHardwareSignature,requestId:e.requestId,setErrorTitle:n})};c.propTypes={request:r.default.object.isRequired,handleCancel:r.default.func.isRequired,setErrorTitle:r.default.func.isRequired};var d=c;n.default=d}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-sign-request/qr-hardware-sign-request.component.js"}],[4596,{"../../../../hooks/useI18nContext":5116,"../base-reader":4589,"@keystonehq/bc-ur-registry-eth":568,"prop-types":3766,react:4043,uuid:4260},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=c(e("react")),r=e("@keystonehq/bc-ur-registry-eth"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("uuid")),i=c(e("prop-types")),s=c(e("../base-reader")),l=e("../../../../hooks/useI18nContext");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}const d=({submitQRHardwareSignature:e,cancelQRHardwareSignRequest:t,requestId:n,setErrorTitle:i})=>{const u=(0,l.useI18nContext)();return a.default.createElement(s.default,{isReadingWallet:!1,handleCancel:()=>{t()},handleSuccess:async t=>{if("eth-signature"===t.type){const a=r.ETHSignature.fromCBOR(t.cbor).getRequestId(),s=o.stringify(a);if(s===n)return await e(s,t.cbor.toString("hex"));throw i(u("QRHardwareInvalidTransactionTitle")),new Error(u("QRHardwareMismatchedSignId"))}throw i(u("QRHardwareInvalidTransactionTitle")),new Error(u("unknownQrCode"))},setErrorTitle:i})};d.propTypes={submitQRHardwareSignature:i.default.func.isRequired,cancelQRHardwareSignRequest:i.default.func.isRequired,requestId:i.default.string.isRequired,setErrorTitle:i.default.func.isRequired};var p=d;n.default=p}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-sign-request/reader.js"}],[4597,{"./qr-hardware-wallet-importer.component":4598},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=((a=e("./qr-hardware-wallet-importer.component"))&&a.__esModule?a:{default:a}).default;n.default=r}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-wallet-importer/index.js"}],[4598,{"../../../../hooks/useI18nContext":5116,"../../../../store/actions":5456,"../base-reader":4589,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=l(e("react")),r=l(e("prop-types")),o=e("../../../../store/actions"),i=l(e("../base-reader")),s=e("../../../../hooks/useI18nContext");function l(e){return e&&e.__esModule?e:{default:e}}const u=({handleCancel:e,setErrorTitle:t})=>{const n=(0,s.useI18nContext)();return a.default.createElement(i.default,{isReadingWallet:!0,handleCancel:e,handleSuccess:async e=>{if("crypto-hdkey"===e.type)return await(0,o.submitQRHardwareCryptoHDKey)(e.cbor.toString("hex"));if("crypto-account"===e.type)return await(0,o.submitQRHardwareCryptoAccount)(e.cbor.toString("hex"));throw t(n("QRHardwareUnknownQRCodeTitle")),new Error(n("unknownQrCode"))},setErrorTitle:t})};u.propTypes={handleCancel:r.default.func.isRequired,setErrorTitle:r.default.func.isRequired};var c=u;n.default=c}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-wallet-importer/qr-hardware-wallet-importer.component.js"}],[4599,{"./recovery-phrase-reminder":4600},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./recovery-phrase-reminder"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/recovery-phrase-reminder/index.js"}],[4600,{"../../../helpers/constants/design-system":5052,"../../../helpers/constants/routes":5057,"../../../hooks/useI18nContext":5116,"../../component-library/text/deprecated":4826,"../../ui/box":4889,"../../ui/button":4893,"../../ui/popover":4980,"prop-types":3766,react:4043,"react-router-dom":4028},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var a=f(e("react")),r=f(e("prop-types")),o=e("react-router-dom"),i=e("../../../hooks/useI18nContext"),s=f(e("../../ui/box")),l=f(e("../../ui/button")),u=f(e("../../ui/popover")),c=e("../../../helpers/constants/design-system"),d=e("../../../helpers/constants/routes"),p=e("../../component-library/text/deprecated");function f(e){return e&&e.__esModule?e:{default:e}}function m({onConfirm:e,hasBackedUp:t}){const n=(0,i.useI18nContext)(),r=(0,o.useHistory)();return a.default.createElement(u.default,{centerTitle:!0,title:n("recoveryPhraseReminderTitle")},a.default.createElement(s.default,{paddingRight:4,paddingBottom:6,paddingLeft:4,className:"recovery-phrase-reminder"},a.default.createElement(p.Text,{color:c.TextColor.textDefault,align:c.TextAlign.Center,variant:c.TextVariant.bodyMd,marginBottom:4},n("recoveryPhraseReminderSubText")),a.default.createElement(s.default,{marginTop:4,marginBottom:8},a.default.createElement("ul",{className:"recovery-phrase-reminder__list"},a.default.createElement(p.Text,{as:"li",color:c.TextColor.textDefault,fontWeight:c.FontWeight.Bold},n("recoveryPhraseReminderItemOne")),a.default.createElement(p.Text,{as:"li"},n("recoveryPhraseReminderItemTwo")),a.default.createElement(p.Text,{as:"li"},t?n("recoveryPhraseReminderHasBackedUp"):a.default.createElement(a.default.Fragment,null,n("recoveryPhraseReminderHasNotBackedUp"),a.default.createElement(s.default,{display:c.DISPLAY.INLINE_BLOCK,marginLeft:1},a.default.createElement(l.default,{type:"link",onClick:()=>{r.push(d.ONBOARDING_UNLOCK_ROUTE)},style:{fontSize:"inherit",padding:0}},n("recoveryPhraseReminderBackupStart"))))))),a.default.createElement(s.default,{justifyContent:c.JustifyContent.center},a.default.createElement(s.default,{width:c.BLOCK_SIZES.TWO_FIFTHS},a.default.createElement(l.default,{type:"primary",onClick:e},n("recoveryPhraseReminderConfirm"))))))}m.propTypes={hasBackedUp:r.default.bool.isRequired,onConfirm:r.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/recovery-phrase-reminder/recovery-phrase-reminder.js"}],[4601,{"../../../../.storybook/i18n":1,"../../../../shared/constants/security-provider":4327,"../../../helpers/constants/design-system":5052,"../../component-library":4792,"../../component-library/text/deprecated":4826,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},i=e("../../../helpers/constants/design-system"),s=e("../../../../shared/constants/security-provider"),l=e("../../../../.storybook/i18n"),u=e("../../component-library"),c=e("../../component-library/text/deprecated");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p({securityProviderResponse:e}){const t=(0,r.useContext)(l.I18nContext);let n,a,o;return e.flagAsDangerous===s.SECURITY_PROVIDER_MESSAGE_SEVERITY.MALICIOUS?(n=""===e.reason_header?t("requestFlaggedAsMaliciousFallbackCopyReasonTitle"):e.reason_header,a=""===e.reason?t("requestFlaggedAsMaliciousFallbackCopyReason"):e.reason,o=i.SEVERITIES.DANGER):e.flagAsDangerous===s.SECURITY_PROVIDER_MESSAGE_SEVERITY.NOT_SAFE?(n=t("requestMayNotBeSafe"),a=t("requestMayNotBeSafeError"),o=i.SEVERITIES.WARNING):(n=t("requestNotVerified"),a=t("requestNotVerifiedError"),o=i.SEVERITIES.WARNING),r.default.createElement(u.BannerAlert,{marginTop:4,marginRight:4,marginLeft:4,title:n,severity:o},r.default.createElement(c.Text,{variant:i.TextVariant.bodySm,as:"h6"},a),r.default.createElement(c.Text,{variant:i.TextVariant.bodySm,as:"h6",color:i.Color.textAlternative},t("securityAlert",[r.default.createElement(u.ButtonLink,{key:"opensea_link",size:i.Size.inherit,href:"https://opensea.io/",target:"_blank"},t("openSeaNew")),r.default.createElement(u.ButtonLink,{key:"blockaid_link",size:i.Size.inherit,href:"https://blockaid.io/",target:"_blank"},t("blockaid"))])))}p.propTypes={securityProviderResponse:o.default.object}}}},{package:"$root$",file:"ui/components/app/security-provider-banner-message/security-provider-banner-message.js"}],[4602,{"./set-approval-for-all-warning":4603},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./set-approval-for-all-warning"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/set-approval-for-all-warning/index.js"}],[4603,{"../../../helpers/constants/design-system":5052,"../../../helpers/utils/util":5093,"../../../hooks/useI18nContext":5116,"../../component-library":4792,"../../component-library/text/deprecated":4826,"../../ui/box":4889,"../../ui/identicon":4945,"../../ui/popover":4980,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=f(e("react")),r=f(e("prop-types")),o=e("../../../hooks/useI18nContext"),i=f(e("../../ui/popover")),s=f(e("../../ui/box")),l=e("../../../helpers/constants/design-system"),u=f(e("../../ui/identicon")),c=e("../../../helpers/utils/util"),d=e("../../component-library"),p=e("../../component-library/text/deprecated");function f(e){return e&&e.__esModule?e:{default:e}}const m=({collectionName:e,senderAddress:t,name:n,total:r,isERC721:f,onSubmit:m,onCancel:g})=>{const h=(0,o.useI18nContext)(),y=a.default.createElement(s.default,{display:l.DISPLAY.FLEX,flexDirection:l.FLEX_DIRECTION.COLUMN,justifyContent:l.JustifyContent.SPACE_BETWEEN,className:"set-approval-for-all-warning__footer",gap:4},a.default.createElement(d.Button,{className:"set-approval-for-all-warning__footer__approve-button",variant:d.BUTTON_VARIANT.PRIMARY,danger:!0,onClick:m},h("approveButtonText")),a.default.createElement(d.Button,{className:"set-approval-for-all-warning__footer__cancel-button",variant:d.BUTTON_VARIANT.SECONDARY,onClick:g},h("reject")));return a.default.createElement(i.default,{className:"set-approval-for-all-warning__content",footer:y},a.default.createElement(s.default,{display:l.DISPLAY.FLEX,flexDirection:l.FLEX_DIRECTION.ROW,padding:4,className:"set-approval-for-all-warning__content__header"},a.default.createElement(d.Icon,{name:d.IconName.Danger,className:"set-approval-for-all-warning__content__header__warning-icon"}),a.default.createElement(p.Text,{variant:l.TextVariant.headingSm,as:"h4"},h("yourNFTmayBeAtRisk"))),a.default.createElement(s.default,{display:l.DISPLAY.FLEX,padding:4,justifyContent:l.JustifyContent.spaceBetween,className:"set-approval-for-all-warning__content__account"},a.default.createElement(s.default,{display:l.DISPLAY.FLEX},a.default.createElement(u.default,{address:t,diameter:32}),a.default.createElement(p.Text,{variant:l.TextVariant.bodyMd,as:"h5",marginLeft:2,className:"set-approval-for-all-warning__content__account-name"},a.default.createElement("strong",null,n)," ",` (${(0,c.shortenAddress)(t)})`)),f&&r&&a.default.createElement(p.Text,null,`${h("total")}: ${r}`)),a.default.createElement(p.Text,{margin:4,marginTop:4,marginBottom:4,variant:l.TextVariant.bodySm,as:"h6"},h("nftWarningContent",[a.default.createElement("strong",{key:"non_custodial_bold"},h("nftWarningContentBold",[e||""])),a.default.createElement("strong",{key:"non_custodial_grey"},h("nftWarningContentGrey"))])))};m.propTypes={collectionName:r.default.string,senderAddress:r.default.string,name:r.default.string,total:r.default.string,isERC721:r.default.bool,onSubmit:r.default.func,onCancel:r.default.func};var g=m;n.default=g}}},{package:"$root$",file:"ui/components/app/set-approval-for-all-warning/set-approval-for-all-warning.js"}],[4604,{"./signature-request-header":4605},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-header"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/signature-request-header/index.js"}],[4605,{"../../../../shared/constants/common":4318,"../../../../shared/modules/Numeric":4346,"../../../../shared/modules/conversion.utils":4350,"../../../ducks/metamask/metamask":5044,"../../../helpers/utils/confirm-tx.util":5075,"../../../helpers/utils/util":5093,"../../../hooks/useI18nContext":5116,"../../../selectors":5449,"../network-account-balance-header":4562,"prop-types":3766,react:4043,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=g(e("react")),r=g(e("prop-types")),o=e("react-redux"),i=e("../../../hooks/useI18nContext"),s=e("../../../ducks/metamask/metamask"),l=e("../../../selectors"),u=e("../../../helpers/utils/confirm-tx.util"),c=e("../../../helpers/utils/util"),d=e("../../../../shared/constants/common"),p=e("../../../../shared/modules/conversion.utils"),f=e("../../../../shared/modules/Numeric"),m=g(e("../network-account-balance-header"));function g(e){return e&&e.__esModule?e:{default:e}}const h=({txData:e})=>{const t=(0,i.useI18nContext)(),{msgParams:{from:n}}=e,r=(0,o.useSelector)(l.accountsWithSendEtherInfoSelector),g=(0,c.getAccountByAddress)(r,n),h=(0,o.useSelector)(s.getNativeCurrency),y=(0,o.useSelector)(l.getCurrentCurrency),v=(0,o.useSelector)(l.getCurrentChainId),b=(0,o.useSelector)(s.getProviderConfig),_=(0,c.getNetworkNameFromProviderType)(b.type),{useNativeCurrencyAsPrimaryCurrency:T}=(0,o.useSelector)(l.getPreferences),x=(0,o.useSelector)(l.conversionRateSelector),w=T?null:x,E=""===_?b.nickname||t("unknownNetwork"):t(_),k=w?(0,u.formatCurrency)((0,p.getValueFromWeiHex)({value:g.balance,fromCurrency:h,toCurrency:y,conversionRate:w,numberOfDecimals:6,toDenomination:d.EtherDenomination.ETH}),y):new f.Numeric(g.balance,16,d.EtherDenomination.WEI).toDenomination(d.EtherDenomination.ETH).round(6).toBase(10).toString();return a.default.createElement(m.default,{networkName:E,accountName:g.name,accountBalance:k,tokenName:w?null==y?void 0:y.toUpperCase():h,accountAddress:g.address,chainId:v})};h.propTypes={txData:r.default.object.isRequired};var y=h;n.default=y}}},{package:"$root$",file:"ui/components/app/signature-request-header/signature-request-header.js"}],[4606,{"./signature-request-original.container":4610},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-original.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/signature-request-original/index.js"}],[4607,{"./signature-request-original-warning":4608},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-original-warning"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/signature-request-original/signature-request-original-warning/index.js"}],[4608,{"../../../../helpers/constants/design-system":5052,"../../../../helpers/utils/util":5093,"../../../../hooks/useI18nContext":5116,"../../../component-library":4792,"../../../ui/box":4889,"../../../ui/button":4893,"../../../ui/identicon":4945,"../../../ui/popover":4980,"../../../ui/typography":5021,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=m(e("react")),r=m(e("prop-types")),o=e("../../../../hooks/useI18nContext"),i=m(e("../../../ui/popover")),s=m(e("../../../ui/box")),l=m(e("../../../ui/button")),u=m(e("../../../ui/typography")),c=e("../../../../helpers/constants/design-system"),d=m(e("../../../ui/identicon")),p=e("../../../../helpers/utils/util"),f=e("../../../component-library");function m(e){return e&&e.__esModule?e:{default:e}}const g=({senderAddress:e,name:t,onSubmit:n,onCancel:r})=>{const m=(0,o.useI18nContext)();return a.default.createElement(i.default,{className:"signature-request-warning__content"},a.default.createElement(s.default,{display:c.DISPLAY.FLEX,flexDirection:c.FLEX_DIRECTION.ROW,padding:4,className:"signature-request-warning__content__header"},a.default.createElement(f.Icon,{name:f.IconName.Danger,color:c.IconColor.errorDefault,className:"signature-request-warning__content__header__warning-icon"}),a.default.createElement(u.default,{variant:c.TypographyVariant.H4,fontWeight:c.FONT_WEIGHT.BOLD},m("yourFundsMayBeAtRisk"))),a.default.createElement(s.default,{display:c.DISPLAY.FLEX,padding:4,justifyContent:c.JustifyContent.spaceBetween,className:"signature-request-warning__content__account"},a.default.createElement(s.default,{display:c.DISPLAY.FLEX},a.default.createElement(d.default,{address:e,diameter:32}),a.default.createElement(u.default,{variant:c.TypographyVariant.H5,marginLeft:2,className:"signature-request-warning__content__account-name"},a.default.createElement("b",null,t)," ",` (${(0,p.shortenAddress)(e)})`))),a.default.createElement(u.default,{color:c.TextColor.textAlternative,margin:4,marginTop:4,marginBottom:4,variant:c.TypographyVariant.H6},m("signatureRequestWarning",[a.default.createElement("a",{href:"https://consensys.net/blog/metamask/the-seal-of-approval-know-what-youre-consenting-to-with-permissions-and-approvals-in-metamask/",target:"_blank",type:"link",key:"non_custodial_link",rel:"noopener noreferrer",style:{color:"var(--color-primary-default)"}},m("learnMoreUpperCase"))])),a.default.createElement(s.default,{display:c.DISPLAY.FLEX,flexDirection:c.FLEX_DIRECTION.COLUMN,justifyContent:c.JustifyContent.spaceBetween,padding:4,className:"signature-request-warning__footer"},a.default.createElement(l.default,{className:"signature-request-warning__footer__sign-button",type:"danger-primary","data-testid":"signature-warning-sign-button",onClick:n},m("sign")),a.default.createElement(l.default,{className:"signature-request-warning__footer__reject-button",type:"secondary",onClick:r},m("reject"))))};g.propTypes={senderAddress:r.default.string,name:r.default.string,onSubmit:r.default.func,onCancel:r.default.func};var h=g;n.default=h}}},{package:"$root$",file:"ui/components/app/signature-request-original/signature-request-original-warning/signature-request-original-warning.js"}],[4609,{"../../../../shared/constants/app":4316,"../../../../shared/modules/hexstring-utils":4354,"../../../../shared/modules/security-provider.utils":4361,"../../../helpers/constants/design-system":5052,"../../../helpers/utils/util":5093,"../../ui/button":4893,"../../ui/page-container":4973,"../../ui/site-origin":4996,"../../ui/typography/typography":5022,"../confirm-page-container/confirm-page-container-navigation":4427,"../ledger-instruction-field":4494,"../security-provider-banner-message/security-provider-banner-message":4601,"../signature-request-header":4604,"../snaps/snap-legacy-authorship-header":4642,"./signature-request-original-warning":4607,"@metamask/permission-controller":1336,buffer:2335,classnames:2376,"eth-rpc-errors":2738,"prop-types":3766,react:4043,"react-inspector":3880},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=E(e("prop-types")),o=E(e("classnames")),i=e("react-inspector"),s=e("eth-rpc-errors"),l=e("@metamask/permission-controller"),u=E(e("../ledger-instruction-field")),c=e("../../../../shared/constants/app"),d=e("../../../helpers/utils/util"),p=e("../../../../shared/modules/hexstring-utils"),f=e("../../../../shared/modules/security-provider.utils"),m=E(e("../../ui/button")),g=E(e("../../ui/site-origin")),h=E(e("../../ui/typography/typography")),y=e("../../ui/page-container"),v=e("../../../helpers/constants/design-system"),b=E(e("../confirm-page-container/confirm-page-container-navigation")),_=E(e("../security-provider-banner-message/security-provider-banner-message")),T=E(e("../signature-request-header")),x=E(e("../snaps/snap-legacy-authorship-header")),w=E(e("./signature-request-original-warning"));function E(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function C(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class M extends a.Component{constructor(...e){super(...e),C(this,"state",{showSignatureRequestWarning:!1}),C(this,"msgHexToText",(e=>{try{const n=(0,p.stripHexPrefix)(e),a=t.from(n,"hex");return 32===a.length?e:a.toString("utf8")}catch(t){return e}})),C(this,"renderTypedData",(e=>{const{t:t}=this.context,{domain:n,message:r}=JSON.parse(e);return a.default.createElement("div",{className:"request-signature__typed-container"},n?a.default.createElement("div",null,a.default.createElement("h1",null,t("domain")),a.default.createElement(i.ObjectInspector,{data:n,expandLevel:1,name:"domain"})):"",r?a.default.createElement("div",null,a.default.createElement("h1",null,t("message")),a.default.createElement(i.ObjectInspector,{data:r,expandLevel:1,name:"message"})):"")})),C(this,"renderBody",(()=>{let e;const t=`${this.context.t("youSign")}:`,{txData:n,subjectMetadata:r}=this.props,{type:i,msgParams:{data:s}}=n;i===c.MESSAGE_TYPE.PERSONAL_SIGN?e=[{name:this.context.t("message"),value:this.msgHexToText(s)}]:i===c.MESSAGE_TYPE.ETH_SIGN_TYPED_DATA?e=s:i===c.MESSAGE_TYPE.ETH_SIGN&&(e=[{name:this.context.t("message"),value:s}]);const u=n.msgParams.origin?null==r?void 0:r[n.msgParams.origin]:null;return a.default.createElement("div",{className:"request-signature__body"},(0,f.isSuspiciousResponse)(null==n?void 0:n.securityProviderResponse)&&a.default.createElement(_.default,{securityProviderResponse:n.securityProviderResponse}),a.default.createElement("div",{className:"request-signature__origin"},(null==u?void 0:u.subjectType)===l.SubjectType.Snap?a.default.createElement(x.default,{snapId:u.origin,marginLeft:4,marginRight:4}):a.default.createElement(g.default,{title:n.msgParams.origin,siteOrigin:n.msgParams.origin,iconSrc:null==u?void 0:u.iconUrl,iconName:(0,d.getURLHostName)(null==u?void 0:u.origin)||(null==u?void 0:u.origin),chip:!0})),a.default.createElement(h.default,{className:"request-signature__content__title",variant:v.TypographyVariant.H3,fontWeight:v.FontWeight.Bold},this.context.t("sigRequest")),a.default.createElement(h.default,{className:"request-signature__content__subtitle",variant:v.TypographyVariant.H7,color:v.TextColor.textAlternative,align:v.TextAlign.Center,margin:12,marginTop:3},this.context.t("signatureRequestGuidance")),a.default.createElement("div",{className:(0,o.default)("request-signature__notice")},t),a.default.createElement("div",{className:"request-signature__rows"},e.map((({name:e,value:t},n)=>("boolean"==typeof t&&(t=t.toString()),a.default.createElement("div",{className:"request-signature__row",key:`request-signature-row-${n}`},a.default.createElement("div",{className:"request-signature__row-title"},(0,d.sanitizeString)(`${e}:`)),a.default.createElement("div",{className:"request-signature__row-value"},(0,d.sanitizeString)(t))))))))})),C(this,"onSubmit",(async()=>{const{clearConfirmTransaction:e,history:t,mostRecentOverviewPage:n,resolvePendingApproval:a,completedTx:r,txData:{id:o}}=this.props;await a(o),r(o),e(),t.push(n)})),C(this,"onCancel",(async()=>{const{clearConfirmTransaction:e,history:t,mostRecentOverviewPage:n,rejectPendingApproval:a,txData:{id:r}}=this.props;await a(r,(0,s.serializeError)(s.ethErrors.provider.userRejectedRequest())),e(),t.push(n)})),C(this,"renderFooter",(()=>{const{clearConfirmTransaction:e,history:t,mostRecentOverviewPage:n,txData:r,hardwareWalletRequiresConnection:o,rejectPendingApproval:i,resolvePendingApproval:l}=this.props,{t:u}=this.context;return a.default.createElement(y.PageContainerFooter,{cancelText:u("reject"),submitText:u("sign"),onCancel:async()=>{await i(r.id,(0,s.serializeError)(s.ethErrors.provider.userRejectedRequest())),e(),t.push(n)},onSubmit:async()=>{r.type===c.MESSAGE_TYPE.ETH_SIGN?this.setState({showSignatureRequestWarning:!0}):(await l(r.id),e(),t.push(n))},disabled:o})})),C(this,"handleCancelAll",(()=>{const{clearConfirmTransaction:e,history:t,mostRecentOverviewPage:n,showRejectTransactionsConfirmationModal:a,messagesCount:r,cancelAllApprovals:o}=this.props;a({unapprovedTxCount:r,onSubmit:async()=>{await o(),e(),t.push(n)}})})),C(this,"render",(()=>{const{messagesCount:e,fromAccount:{address:t,name:n},txData:r}=this.props,{showSignatureRequestWarning:o}=this.state,{t:i}=this.context,s=i("rejectRequestsN",[e]);return a.default.createElement("div",{className:"request-signature__container"},a.default.createElement("div",{className:"request-signature__navigation"},a.default.createElement(b.default,null)),a.default.createElement("div",{className:"request-signature__account"},a.default.createElement(T.default,{txData:r})),this.renderBody(),this.props.isLedgerWallet?a.default.createElement("div",{className:"confirm-approve-content__ledger-instruction-wrapper"},a.default.createElement(u.default,{showDataInstruction:!0})):null,o&&a.default.createElement(w.default,{senderAddress:t,name:n,onSubmit:async e=>await this.onSubmit(e),onCancel:async e=>await this.onCancel(e)}),this.renderFooter(),e>1?a.default.createElement(m.default,{type:"link",className:"request-signature__container__reject",onClick:()=>this.handleCancelAll()},s):null)}))}}n.default=M,C(M,"contextTypes",{t:r.default.func.isRequired}),C(M,"propTypes",{fromAccount:r.default.shape({address:r.default.string.isRequired,name:r.default.string}).isRequired,clearConfirmTransaction:r.default.func.isRequired,history:r.default.object.isRequired,mostRecentOverviewPage:r.default.string.isRequired,txData:r.default.object.isRequired,subjectMetadata:r.default.object,hardwareWalletRequiresConnection:r.default.bool,isLedgerWallet:r.default.bool,messagesCount:r.default.number,showRejectTransactionsConfirmationModal:r.default.func.isRequired,cancelAllApprovals:r.default.func.isRequired,rejectPendingApproval:r.default.func.isRequired,resolvePendingApproval:r.default.func.isRequired,completedTx:r.default.func.isRequired})}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$",file:"ui/components/app/signature-request-original/signature-request-original.component.js"}],[4610,{"../../../ducks/confirm-transaction/confirm-transaction.duck":5037,"../../../ducks/history/history":5041,"../../../ducks/metamask/metamask":5044,"../../../helpers/utils/util":5093,"../../../selectors":5449,"../../../store/actions":5456,"./signature-request-original.component":4609,"react-redux":4008,"react-router-dom":4028,redux:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("redux"),i=e("react-router-dom"),s=e("../../../store/actions"),l=e("../../../selectors"),u=e("../../../helpers/utils/util"),c=e("../../../ducks/confirm-transaction/confirm-transaction.duck"),d=e("../../../ducks/history/history"),p=e("../../../ducks/metamask/metamask"),f=(a=e("./signature-request-original.component"))&&a.__esModule?a:{default:a};let m=null;m=function(e){return{goHome:()=>e((0,s.goHome)()),clearConfirmTransaction:()=>e((0,c.clearConfirmTransaction)()),showRejectTransactionsConfirmationModal:({onSubmit:t,unapprovedTxCount:n})=>e((0,s.showModal)({name:"REJECT_TRANSACTIONS",onSubmit:t,unapprovedTxCount:n,isRequestType:!0})),completedTx:t=>e((0,s.completedTx)(t)),resolvePendingApproval:t=>{e((0,s.resolvePendingApproval)(t))},rejectPendingApproval:(t,n)=>e((0,s.rejectPendingApproval)(t,n)),cancelAllApprovals:t=>{e((0,s.rejectAllMessages)(t))}}};var g=(0,o.compose)(i.withRouter,(0,r.connect)((function(e,t){const{msgParams:{from:n}}=t.txData,a=(0,l.doesAddressRequireLedgerHidConnection)(e,n),r=(0,p.isAddressLedger)(e,n),o=(0,l.unconfirmedMessagesHashSelector)(e),i=(0,l.getTotalUnapprovedMessagesCount)(e);return{requester:null,requesterAddress:null,mostRecentOverviewPage:(0,d.getMostRecentOverviewPage)(e),hardwareWalletRequiresConnection:a,isLedgerWallet:r,allAccounts:(0,l.accountsWithSendEtherInfoSelector)(e),subjectMetadata:(0,l.getSubjectMetadata)(e),messagesList:o,messagesCount:i}}),m,(function(e,t,n){const{txData:a}=n,{allAccounts:r,messagesList:o,...i}=e,{msgParams:{from:s}}=a,l=(0,u.getAccountByAddress)(r,s),{cancelAllApprovals:c}=t;return{...n,...i,...t,fromAccount:l,txData:a,cancelAllApprovals:()=>c((0,u.valuesFor)(o))}})))(f.default);n.default=g}}},{package:"$root$",file:"ui/components/app/signature-request-original/signature-request-original.container.js"}],[4611,{"./signature-request-siwe":4618},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-siwe"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/signature-request-siwe/index.js"}],[4612,{"./signature-request-siwe-header":4613},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-siwe-header"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/signature-request-siwe/signature-request-siwe-header/index.js"}],[4613,{"../../../../contexts/i18n":5029,"../../../ui/tooltip":5017,"../../account-list-item":4369,"../../permissions-connect-header":4585,"../signature-request-siwe-icon":4614,"../signature-request-siwe-tag":4617,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=d(e("prop-types")),o=d(e("../../account-list-item")),i=e("../../../../contexts/i18n"),s=d(e("../../permissions-connect-header")),l=d(e("../signature-request-siwe-icon")),u=d(e("../signature-request-siwe-tag")),c=d(e("../../../ui/tooltip"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f({fromAccount:e,domain:t,isSIWEDomainValid:n,subjectMetadata:r}){const d=(0,a.useContext)(i.I18nContext);return a.default.createElement("div",{className:"signature-request-siwe-header"},a.default.createElement(s.default,{iconUrl:r.iconUrl,iconName:r.name,headerTitle:d("SIWESiteRequestTitle"),headerText:d("SIWESiteRequestSubtitle"),siteOrigin:t,className:n?"":"bad-domain",leftIcon:!n&&a.default.createElement(c.default,{position:"bottom",html:a.default.createElement("p",null,d("SIWEDomainWarningBody",[t]))},a.default.createElement(l.default,null)),rightIcon:!n&&a.default.createElement(c.default,{position:"bottom",html:a.default.createElement("p",null,d("SIWEDomainWarningBody",[t]))},a.default.createElement(u.default,{text:d("SIWEDomainWarningLabel")}))}),e&&a.default.createElement(o.default,{account:e,className:"signature-request-siwe-header__account-list-item"}))}f.propTypes={fromAccount:r.default.object,domain:r.default.string,isSIWEDomainValid:r.default.bool,subjectMetadata:r.default.object}}}},{package:"$root$",file:"ui/components/app/signature-request-siwe/signature-request-siwe-header/signature-request-siwe-header.js"}],[4614,{"../../../../helpers/constants/design-system":5052,"../../../component-library":4792,"../../../ui/box":4889,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=s(e("react")),r=e("../../../../helpers/constants/design-system"),o=s(e("../../../ui/box")),i=e("../../../component-library");function s(e){return e&&e.__esModule?e:{default:e}}var l=()=>a.default.createElement(o.default,{className:"signature-request-siwe-icon",display:r.DISPLAY.INLINE_FLEX,alignItems:r.AlignItems.center,backgroundColor:r.Color.errorDefault,justifyContent:r.JustifyContent.center},a.default.createElement(i.Icon,{name:i.IconName.Danger,color:r.Color.errorInverse}));n.default=l}}},{package:"$root$",file:"ui/components/app/signature-request-siwe/signature-request-siwe-icon/index.js"}],[4615,{"./signature-request-siwe-message":4616},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-siwe-message"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/signature-request-siwe/signature-request-siwe-message/index.js"}],[4616,{"../../../../helpers/constants/design-system":5052,"../../../component-library/text/deprecated":4826,"../../../ui/box":4889,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=l(e("react")),r=l(e("prop-types")),o=l(e("../../../ui/box")),i=e("../../../component-library/text/deprecated"),s=e("../../../../helpers/constants/design-system");function l(e){return e&&e.__esModule?e:{default:e}}const u=({data:e})=>a.default.createElement(o.default,{className:"signature-request-siwe-message"},a.default.createElement(o.default,{flexDirection:s.FLEX_DIRECTION.COLUMN},e.map((({label:e,value:t},n)=>a.default.createElement(o.default,{key:n.toString(),marginTop:2,marginBottom:2},a.default.createElement(i.Text,{as:"h4",variant:s.TextVariant.bodyLgMedium,marginTop:2,marginBottom:2},e),a.default.createElement(i.Text,{className:"signature-request-siwe-message__sub-text",overflowWrap:s.OVERFLOW_WRAP.BREAK_WORD,marginTop:2,marginBottom:2},t))))));u.propTypes={data:r.default.arrayOf(r.default.shape({label:r.default.string,value:r.default.oneOfType([r.default.string,r.default.number])}))};var c=a.default.memo(u);n.default=c}}},{package:"$root$",file:"ui/components/app/signature-request-siwe/signature-request-siwe-message/signature-request-siwe-message.js"}],[4617,{"../../../../helpers/constants/design-system":5052,"../../../component-library/text/deprecated":4826,"../../../ui/box":4889,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=l(e("react")),r=l(e("prop-types")),o=e("../../../../helpers/constants/design-system"),i=l(e("../../../ui/box")),s=e("../../../component-library/text/deprecated");function l(e){return e&&e.__esModule?e:{default:e}}const u=({text:e})=>a.default.createElement(i.default,{className:"signature-request-siwe-tag",marginRight:1,display:o.DISPLAY.INLINE_FLEX,alignItems:o.AlignItems.center,backgroundColor:o.BackgroundColor.errorDefault,borderRadius:o.Size.XL,paddingLeft:4,paddingRight:4},a.default.createElement(s.Text,{margin:0,variant:o.TextVariant.bodySmBold,as:"h6",color:o.TextColor.errorInverse},e));var c=u;n.default=c,u.propTypes={text:r.default.string}}}},{package:"$root$",file:"ui/components/app/signature-request-siwe/signature-request-siwe-tag/index.js"}],[4618,{"../../../../shared/modules/security-provider.utils":4361,"../../../../shared/modules/siwe":4362,"../../../contexts/i18n":5029,"../../../ducks/confirm-transaction/confirm-transaction.duck":5037,"../../../ducks/history/history":5041,"../../../ducks/metamask/metamask":5044,"../../../helpers/constants/design-system":5052,"../../../helpers/utils/util":5093,"../../../selectors":5449,"../../../store/actions":5456,"../../component-library":4792,"../../component-library/text/deprecated":4826,"../../ui/button":4893,"../../ui/check-box":4897,"../../ui/page-container":4973,"../../ui/popover":4980,"../confirm-page-container/confirm-page-container-navigation":4427,"../ledger-instruction-field":4494,"../security-provider-banner-message/security-provider-banner-message":4601,"../signature-request-header":4604,"./signature-request-siwe-header":4612,"./signature-request-siwe-message":4615,"@metamask/controller-utils":1095,"eth-rpc-errors":2738,loglevel:3629,"prop-types":3766,react:4043,"react-redux":4008,"react-router-dom":4028},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=R;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=N(e("prop-types")),o=e("react-redux"),i=e("react-router-dom"),s=N(e("loglevel")),l=e("@metamask/controller-utils"),u=e("eth-rpc-errors"),c=e("../../component-library"),d=e("../../component-library/text/deprecated"),p=N(e("../../ui/popover")),f=N(e("../../ui/check-box")),m=N(e("../../ui/button")),g=e("../../../contexts/i18n"),h=e("../../ui/page-container"),y=e("../../../ducks/metamask/metamask"),v=e("../../../selectors"),b=e("../../../helpers/utils/util"),_=e("../../../../shared/modules/security-provider.utils"),T=e("../../../../shared/modules/siwe"),x=e("../../../ducks/confirm-transaction/confirm-transaction.duck"),w=e("../../../helpers/constants/design-system"),E=e("../../../store/actions"),k=N(e("../security-provider-banner-message/security-provider-banner-message")),C=N(e("../confirm-page-container/confirm-page-container-navigation")),M=e("../../../ducks/history/history"),P=N(e("../ledger-instruction-field")),S=N(e("../signature-request-header")),O=N(e("./signature-request-siwe-header")),j=N(e("./signature-request-siwe-message"));function N(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function R({txData:e}){const t=(0,o.useDispatch)(),n=(0,i.useHistory)(),r=(0,a.useContext)(g.I18nContext),N=(0,o.useSelector)(v.accountsWithSendEtherInfoSelector),I=(0,o.useSelector)(v.getSubjectMetadata),R=(0,o.useSelector)(v.getTotalUnapprovedMessagesCount),D=(0,o.useSelector)(v.unconfirmedMessagesHashSelector),A=(0,o.useSelector)(M.getMostRecentOverviewPage),{msgParams:{from:L,origin:F,siwe:{parsedMessage:W}},id:q}=e,$=(0,o.useSelector)((e=>(0,y.isAddressLedger)(e,L))),B=(0,b.getAccountByAddress)(N,L),G=I[F],U=L.toLowerCase()===W.address.toLowerCase(),V=(0,l.isValidSIWEOrigin)(e.msgParams),[H,z]=(0,a.useState)(!1),[K,Y]=(0,a.useState)(!1),X=(0,_.isSuspiciousResponse)(null==e?void 0:e.securityProviderResponse),Q=(0,a.useCallback)((async()=>{try{await t((0,E.resolvePendingApproval)(q,null)),t((0,E.completedTx)(q))}catch(e){s.default.error(e)}}),[q,t]),J=(0,a.useCallback)((async()=>{try{await t((0,E.rejectPendingApproval)(q,(0,u.serializeError)(u.ethErrors.provider.userRejectedRequest())))}catch(e){s.default.error(e)}}),[]),Z=r("rejectRequestsN",[R]);return a.default.createElement("div",{className:"signature-request-siwe"},a.default.createElement("div",{className:"request-signature__navigation"},a.default.createElement(C.default,null)),a.default.createElement(S.default,{txData:e}),a.default.createElement(O.default,{fromAccount:B,domain:F,isSIWEDomainValid:V,subjectMetadata:G}),X&&a.default.createElement(k.default,{securityProviderResponse:e.securityProviderResponse}),a.default.createElement(j.default,{data:(0,T.formatMessageParams)(W,r)}),!U&&a.default.createElement(c.BannerAlert,{severity:w.SEVERITIES.WARNING,marginLeft:4,marginRight:4,marginBottom:4},r("SIWEAddressInvalid",[W.address,B.address])),$&&a.default.createElement("div",{className:"confirm-approve-content__ledger-instruction-wrapper"},a.default.createElement(P.default,{showDataInstruction:!0})),!V&&a.default.createElement(c.BannerAlert,{severity:w.SEVERITIES.DANGER,marginLeft:4,marginRight:4,marginBottom:4},a.default.createElement(d.Text,{variant:w.TextVariant.bodyMdBold},r("SIWEDomainInvalidTitle"))," ",a.default.createElement(d.Text,null,r("SIWEDomainInvalidText"))),a.default.createElement(h.PageContainerFooter,{footerClassName:"signature-request-siwe__page-container-footer",onCancel:J,onSubmit:V?Q:()=>z(!0),cancelText:r("cancel"),submitText:r("signin"),submitButtonType:V?"primary":"danger-primary"}),R>1?a.default.createElement(m.default,{type:"link",className:"request-signature__container__reject",onClick:e=>{e.preventDefault(),(()=>{const e=R;t((0,E.showModal)({name:"REJECT_TRANSACTIONS",unapprovedTxCount:e,onSubmit:async()=>{await t((0,E.rejectAllMessages)((0,b.valuesFor)(D))),t((0,x.clearConfirmTransaction)()),n.push(A)}}))})()}},Z):null,H&&a.default.createElement(p.default,{onClose:()=>z(!1),title:r("SIWEWarningTitle"),subtitle:r("SIWEWarningSubtitle"),className:"signature-request-siwe__warning-popover",footerClassName:"signature-request-siwe__warning-popover__footer",footer:a.default.createElement(h.PageContainerFooter,{footerClassName:"signature-request-siwe__warning-popover__footer__warning-footer",onCancel:()=>z(!1),cancelText:r("cancel"),cancelButtonType:"default",onSubmit:Q,submitText:r("confirm"),submitButtonType:"danger-primary",disabled:!K})},a.default.createElement("div",{className:"signature-request-siwe__warning-popover__checkbox-wrapper"},a.default.createElement(f.default,{id:"signature-request-siwe_domain-checkbox",checked:K,className:"signature-request-siwe__warning-popover__checkbox-wrapper__checkbox",onClick:()=>Y((e=>!e))}),a.default.createElement("label",{className:"signature-request-siwe__warning-popover__checkbox-wrapper__label",htmlFor:"signature-request-siwe_domain-checkbox"},r("SIWEDomainWarningBody",[W.domain])))))}R.propTypes={txData:r.default.object.isRequired}}}},{package:"$root$",file:"ui/components/app/signature-request-siwe/signature-request-siwe.js"}],[4619,{"./signature-request.container":4627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/signature-request/index.js"}],[4620,{"./signature-request-data":4621},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-data"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/signature-request/signature-request-data/index.js"}],[4621,{"../../../../../shared/modules/hexstring-utils":4354,"../../../../helpers/constants/design-system":5052,"../../../../helpers/utils/util":5093,"../../../../selectors":5449,"../../../ui/box":4889,"../../../ui/typography":5021,"../../transaction-decoding/components/decoding/address":4694,lodash:3617,"prop-types":3766,react:4043,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),o=e("lodash"),i=m(e("prop-types")),s=e("../../../../selectors"),l=m(e("../../transaction-decoding/components/decoding/address")),u=e("../../../../../shared/modules/hexstring-utils"),c=m(e("../../../ui/box")),d=m(e("../../../ui/typography")),p=e("../../../../helpers/constants/design-system"),f=e("../../../../helpers/utils/util");function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h({data:e}){const t=(0,r.useSelector)(s.getMemoizedMetaMaskIdentities);return a.default.createElement(c.default,{className:"signature-request-data__node"},Object.entries(e).map((([e,{value:n,type:r}],o)=>a.default.createElement(c.default,{className:"signature-request-data__node",key:`${e}-${o}`,paddingLeft:2,display:"object"!=typeof n||null===n?p.DISPLAY.FLEX:null},a.default.createElement(d.default,{as:"span",color:p.TextColor.textDefault,marginLeft:4,fontWeight:"object"==typeof n?p.FONT_WEIGHT.BOLD:p.FONT_WEIGHT.NORMAL},(0,f.sanitizeString)(e.charAt(0).toUpperCase()+e.slice(1)),":"," "),"object"==typeof n&&null!==n?a.default.createElement(h,{data:n}):a.default.createElement(d.default,{as:"span",color:p.TextColor.textDefault,marginLeft:4,className:"signature-request-data__node__value"},"address"===r&&(0,u.isValidHexAddress)(n,{mixedCaseUseChecksum:!0})?a.default.createElement(d.default,{variant:p.TypographyVariant.H7,color:p.TextColor.infoDefault,className:"signature-request-data__node__value__address"},a.default.createElement(l.default,{addressOnly:!0,checksummedRecipientAddress:(0,u.toChecksumHexAddress)(n),recipientName:(0,s.getAccountName)(t,n)})):(0,f.sanitizeString)(`${n}`))))))}h.propTypes={data:i.default.oneOfType([i.default.object,i.default.array]).isRequired};var y=(0,a.memo)(h,((e,t)=>(0,o.isEqual)(e.data,t.data)));n.default=y}}},{package:"$root$",file:"ui/components/app/signature-request/signature-request-data/signature-request-data.js"}],[4622,{"./signature-request-footer.component":4623},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-footer.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/signature-request/signature-request-footer/index.js"}],[4623,{"../../../ui/page-container":4973,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},i=e("../../../ui/page-container");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends r.PureComponent{render(){const{cancelAction:e,signAction:t,disabled:n=!1}=this.props;return r.default.createElement(i.PageContainerFooter,{cancelText:this.context.t("reject"),submitText:this.context.t("sign"),onCancel:e,onSubmit:t,disabled:n})}}n.default=u,l(u,"propTypes",{cancelAction:o.default.func.isRequired,signAction:o.default.func.isRequired,disabled:o.default.bool}),l(u,"contextTypes",{t:o.default.func})}}},{package:"$root$",file:"ui/components/app/signature-request/signature-request-footer/signature-request-footer.component.js"}],[4624,{"./signature-request-message":4625},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-message"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/signature-request/signature-request-message/index.js"}],[4625,{"../../../../contexts/i18n":5029,"../../../../helpers/constants/design-system":5052,"../../../component-library/text/deprecated":4826,"../../../ui/box":4889,"../signature-request-data":4620,lodash:3617,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=d(e("prop-types")),o=e("lodash"),i=e("../../../../contexts/i18n"),s=d(e("../../../ui/box")),l=e("../../../component-library/text/deprecated"),u=e("../../../../helpers/constants/design-system"),c=d(e("../signature-request-data"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f({data:e,onMessageScrolled:t,setMessageRootRef:n,messageRootRef:r,messageIsScrollable:d,primaryType:p}){const f=(0,a.useContext)(i.I18nContext),[m,g]=(0,a.useState)(!1);return a.default.createElement(s.default,{display:u.Display.Flex,flexDirection:u.FlexDirection.Column,onScroll:(0,o.debounce)((()=>{if(!r||m)return;const{scrollTop:e,offsetHeight:n,scrollHeight:a}=r;Math.round(e)+n>=a&&(g(!0),t())}),25),className:"signature-request-message"},d?a.default.createElement(s.default,{display:u.Display.Flex,alignItems:u.AlignItems.center,justifyContent:u.JustifyContent.center,borderColor:u.BorderColor.borderDefault,backgroundColor:u.BackgroundColor.backgroundDefault,color:u.Color.iconDefault,onClick:()=>{g(!0),t(),null==r||r.scrollTo(0,null==r?void 0:r.scrollHeight)},className:"signature-request-message__scroll-button","data-testid":"signature-request-scroll-button"},a.default.createElement("i",{className:"fa fa-arrow-down","aria-label":f("scrollDown")})):null,a.default.createElement(s.default,{backgroundColor:u.BackgroundColor.backgroundDefault,paddingBottom:3,paddingTop:3,paddingRight:3,margin:2,borderRadius:u.BorderRadius.XL,borderColor:u.BorderColor.borderMuted,className:"signature-request-message__root",ref:n},a.default.createElement(l.Text,{fontWeight:u.FontWeight.Bold,color:u.TextColor.textDefault,marginLeft:4},p),a.default.createElement(c.default,{data:e.value})))}f.propTypes={data:r.default.object.isRequired,onMessageScrolled:r.default.func,setMessageRootRef:r.default.func,messageRootRef:r.default.object,messageIsScrollable:r.default.bool,primaryType:r.default.string}}}},{package:"$root$",file:"ui/components/app/signature-request/signature-request-message/signature-request-message.js"}],[4626,{"../../../../shared/constants/common":4318,"../../../../shared/constants/metametrics":4323,"../../../../shared/modules/Numeric":4346,"../../../../shared/modules/conversion.utils":4350,"../../../../shared/modules/security-provider.utils":4361,"../../../helpers/constants/design-system":5052,"../../../helpers/utils/confirm-tx.util":5075,"../../../helpers/utils/util":5093,"../../component-library":4792,"../../component-library/text/deprecated":4826,"../../ui/button":4893,"../../ui/site-origin":4996,"../confirm-page-container/confirm-page-container-navigation":4427,"../ledger-instruction-field":4494,"../modals/contract-details-modal/contract-details-modal":4524,"../network-account-balance-header":4562,"../security-provider-banner-message/security-provider-banner-message":4601,"./signature-request-footer":4622,"./signature-request-message":4624,"eth-rpc-errors":2738,lodash:3617,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("lodash"),o=k(e("prop-types")),i=e("eth-rpc-errors"),s=k(e("../ledger-instruction-field")),l=e("../../../helpers/utils/util"),u=e("../../../../shared/constants/metametrics"),c=k(e("../../ui/site-origin")),d=k(e("../../ui/button")),p=k(e("../modals/contract-details-modal/contract-details-modal")),f=e("../../../helpers/constants/design-system"),m=k(e("../network-account-balance-header")),g=e("../../../../shared/modules/Numeric"),h=e("../../../../shared/modules/security-provider.utils"),y=e("../../../../shared/constants/common"),v=k(e("../confirm-page-container/confirm-page-container-navigation")),b=k(e("../security-provider-banner-message/security-provider-banner-message")),_=e("../../../helpers/utils/confirm-tx.util"),T=e("../../../../shared/modules/conversion.utils");e("../../component-library");var x=e("../../component-library/text/deprecated"),w=k(e("./signature-request-footer")),E=k(e("./signature-request-message"));function k(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function M(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class P extends a.PureComponent{constructor(...e){super(...e),M(this,"state",{hasScrolledMessage:!1,showContractDetails:!1}),M(this,"memoizedParseMessage",(0,r.memoize)((e=>{const{message:t,domain:n={},primaryType:a,types:r}=JSON.parse(e);return{sanitizedMessage:(0,l.sanitizeMessage)(t,a,r),domain:n,primaryType:a}}))),M(this,"handleCancelAll",(()=>{const{clearConfirmTransaction:e,history:t,mostRecentOverviewPage:n,showRejectTransactionsConfirmationModal:a,unapprovedMessagesCount:r,cancelAllApprovals:o}=this.props;a({unapprovedTxCount:r,onSubmit:async()=>{await o(),e(),t.push(n)}})}))}setMessageRootRef(e){this.messageRootRef=e}formatWallet(e){return`${e.slice(0,8)}...${e.slice(e.length-8,e.length)}`}render(){var e,t;const{providerConfig:n,txData:{msgParams:{data:r,origin:o,version:k},type:C,id:M},fromAccount:{address:P,balance:S,name:O},isLedgerWallet:j,hardwareWalletRequiresConnection:N,chainId:I,rpcPrefs:R,txData:D,subjectMetadata:A,nativeCurrency:L,currentCurrency:F,conversionRate:W,unapprovedMessagesCount:q,resolvePendingApproval:$,rejectPendingApproval:B,completedTx:G}=this.props,{t:U,trackEvent:V}=this.context,{sanitizedMessage:H,domain:{verifyingContract:z},primaryType:K}=this.memoizedParseMessage(r),Y=U("rejectRequestsN",[q]),X=(0,l.getNetworkNameFromProviderType)(n.type),Q=""===X?n.nickname||U("unknownNetwork"):U(X),J=W?(0,_.formatCurrency)((0,T.getValueFromWeiHex)({value:S,fromCurrency:L,toCurrency:F,conversionRate:W,numberOfDecimals:6,toDenomination:y.EtherDenomination.ETH}),F):new g.Numeric(S,16,y.EtherDenomination.WEI).toDenomination(y.EtherDenomination.ETH).round(6).toBase(10).toString(),Z=(null===(e=this.messageRootRef)||void 0===e?void 0:e.scrollHeight)>(null===(t=this.messageRootRef)||void 0===t?void 0:t.clientHeight),ee=D.msgParams.origin?null==A?void 0:A[D.msgParams.origin]:null;return a.default.createElement("div",{className:"signature-request"},a.default.createElement(v.default,null),a.default.createElement("div",{className:"request-signature__account","data-testid":"request-signature-account"},a.default.createElement(m.default,{networkName:Q,accountName:O,accountBalance:J,tokenName:W?null==F?void 0:F.toUpperCase():L,accountAddress:P})),a.default.createElement("div",{className:"signature-request-content"},(0,h.isSuspiciousResponse)(null==D?void 0:D.securityProviderResponse)&&a.default.createElement(b.default,{securityProviderResponse:D.securityProviderResponse}),a.default.createElement("div",{className:"signature-request__origin"},a.default.createElement(c.default,{siteOrigin:o,iconSrc:null==ee?void 0:ee.iconUrl,iconName:(0,l.getURLHostName)(o)||o,chip:!0})),a.default.createElement(x.Text,{className:"signature-request__content__title",variant:f.TextVariant.headingMd,as:"h3",marginTop:4},this.context.t("sigRequest")),a.default.createElement(x.Text,{className:"request-signature__content__subtitle",variant:f.TextVariant.bodySm,as:"h6",color:f.TextColor.textAlternative,align:f.TextAlign.Center,margin:12,marginTop:3},this.context.t("signatureRequestGuidance")),z?a.default.createElement("div",null,a.default.createElement(d.default,{type:"link",onClick:()=>this.setState({showContractDetails:!0}),className:"signature-request-content__verify-contract-details","data-testid":"verify-contract-details"},a.default.createElement(x.Text,{variant:f.TextVariant.bodySm,as:"h6",color:f.TextColor.primaryDefault},this.context.t("verifyContractDetails")))):null),j?a.default.createElement("div",{className:"confirm-approve-content__ledger-instruction-wrapper"},a.default.createElement(s.default,{showDataInstruction:!0})):null,a.default.createElement(E.default,{data:H,onMessageScrolled:()=>this.setState({hasScrolledMessage:!0}),setMessageRootRef:this.setMessageRootRef.bind(this),messageRootRef:this.messageRootRef,messageIsScrollable:Z,primaryType:K}),a.default.createElement(w.default,{cancelAction:async()=>{await B(M,(0,i.serializeError)(i.ethErrors.provider.userRejectedRequest())),V({category:u.MetaMetricsEventCategory.Transactions,event:"Cancel",properties:{action:"Sign Request",legacy_event:!0,type:C,version:k}})},signAction:async()=>{await $(M),G(M),V({category:u.MetaMetricsEventCategory.Transactions,event:"Confirm",properties:{action:"Sign Request",legacy_event:!0,type:C,version:k}})},disabled:N||Z&&!this.state.hasScrolledMessage}),this.state.showContractDetails&&a.default.createElement(p.default,{toAddress:z,chainId:I,rpcPrefs:R,onClose:()=>this.setState({showContractDetails:!1}),isContractRequestingSignature:!0}),q>1?a.default.createElement(d.default,{type:"link",className:"signature-request__reject-all-button","data-testid":"signature-request-reject-all",onClick:e=>{e.preventDefault(),this.handleCancelAll()}},Y):null)}}n.default=P,M(P,"propTypes",{txData:o.default.object.isRequired,fromAccount:o.default.shape({address:o.default.string.isRequired,balance:o.default.string,name:o.default.string}).isRequired,isLedgerWallet:o.default.bool,hardwareWalletRequiresConnection:o.default.bool.isRequired,chainId:o.default.string,rpcPrefs:o.default.object,nativeCurrency:o.default.string,currentCurrency:o.default.string.isRequired,conversionRate:o.default.number,providerConfig:o.default.object,subjectMetadata:o.default.object,unapprovedMessagesCount:o.default.number,clearConfirmTransaction:o.default.func.isRequired,history:o.default.object,mostRecentOverviewPage:o.default.string,showRejectTransactionsConfirmationModal:o.default.func.isRequired,cancelAllApprovals:o.default.func.isRequired,resolvePendingApproval:o.default.func.isRequired,rejectPendingApproval:o.default.func.isRequired,completedTx:o.default.func.isRequired}),M(P,"contextTypes",{t:o.default.func,trackEvent:o.default.func})}}},{package:"$root$",file:"ui/components/app/signature-request/signature-request.component.js"}],[4627,{"../../../../shared/constants/app":4316,"../../../ducks/confirm-transaction/confirm-transaction.duck":5037,"../../../ducks/history/history":5041,"../../../ducks/metamask/metamask":5044,"../../../helpers/utils/util":5093,"../../../selectors":5449,"../../../store/actions":5456,"./signature-request.component":4626,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),r=e("../../../selectors"),o=e("../../../ducks/metamask/metamask"),i=e("../../../helpers/utils/util");e("../../../../shared/constants/app");var s,l=e("../../../store/actions"),u=e("../../../ducks/history/history"),c=e("../../../ducks/confirm-transaction/confirm-transaction.duck"),d=(s=e("./signature-request.component"))&&s.__esModule?s:{default:s};let p=null;p=function(e){return{resolvePendingApproval:t=>e((0,l.resolvePendingApproval)(t)),completedTx:t=>e((0,l.completedTx)(t)),rejectPendingApproval:(t,n)=>e((0,l.rejectPendingApproval)(t,n)),clearConfirmTransaction:()=>e((0,c.clearConfirmTransaction)()),showRejectTransactionsConfirmationModal:({onSubmit:t,unapprovedTxCount:n})=>e((0,l.showModal)({name:"REJECT_TRANSACTIONS",onSubmit:t,unapprovedTxCount:n,isRequestType:!0})),cancelAllApprovals:t=>{e((0,l.rejectAllMessages)(t))}}};var f=(0,a.connect)((function(e,t){const{txData:n}=t,{msgParams:{from:a}}=n,i=(0,o.getProviderConfig)(e),s=(0,r.doesAddressRequireLedgerHidConnection)(e,a),l=(0,o.isAddressLedger)(e,a),c=(0,r.getCurrentChainId)(e),d=(0,r.getRpcPrefsForCurrentProvider)(e),p=(0,r.unconfirmedMessagesHashSelector)(e),f=(0,r.getTotalUnapprovedMessagesCount)(e),{useNativeCurrencyAsPrimaryCurrency:m}=(0,r.getPreferences)(e);return{providerConfig:i,isLedgerWallet:l,hardwareWalletRequiresConnection:s,chainId:c,rpcPrefs:d,unconfirmedMessagesList:p,unapprovedMessagesCount:f,mostRecentOverviewPage:(0,u.getMostRecentOverviewPage)(e),nativeCurrency:(0,o.getNativeCurrency)(e),currentCurrency:(0,r.getCurrentCurrency)(e),conversionRate:m?null:(0,r.conversionRateSelector)(e),subjectMetadata:(0,r.getSubjectMetadata)(e),allAccounts:(0,r.accountsWithSendEtherInfoSelector)(e)}}),p,(function(e,t,n){const{allAccounts:a,isLedgerWallet:r,hardwareWalletRequiresConnection:o,chainId:s,rpcPrefs:l,nativeCurrency:u,currentCurrency:c,conversionRate:d,providerConfig:p,subjectMetadata:f,unconfirmedMessagesList:m,unapprovedMessagesCount:g,mostRecentOverviewPage:h}=e,{txData:y}=n,{cancelAll:v,cancelAllApprovals:b}=t,{msgParams:{from:_}}=y,T=(0,i.getAccountByAddress)(a,_);return{...n,...t,fromAccount:T,txData:y,isLedgerWallet:r,hardwareWalletRequiresConnection:o,chainId:s,rpcPrefs:l,nativeCurrency:u,currentCurrency:c,conversionRate:d,providerConfig:p,subjectMetadata:f,unapprovedMessagesCount:g,mostRecentOverviewPage:h,cancelAll:()=>v((0,i.valuesFor)(m)),cancelAllApprovals:()=>b((0,i.valuesFor)(m))}}))(d.default);n.default=f}}},{package:"$root$",file:"ui/components/app/signature-request/signature-request.container.js"}],[4628,{"../../../../helpers/constants/design-system":5052,"../../../../hooks/useCopyToClipboard":5109,"../../../component-library":4792,"../../../ui/box":4889,"../../../ui/typography":5021,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Copyable=void 0;var a=c(e("react")),r=c(e("prop-types")),o=c(e("../../../ui/box")),i=c(e("../../../ui/typography")),s=e("../../../../helpers/constants/design-system"),l=e("../../../../hooks/useCopyToClipboard"),u=e("../../../component-library");function c(e){return e&&e.__esModule?e:{default:e}}const d=({text:e})=>{const[t,n]=(0,l.useCopyToClipboard)();return a.default.createElement(o.default,{className:"copyable",backgroundColor:s.BackgroundColor.backgroundAlternative,alignItems:s.AlignItems.stretch,justifyContent:s.JustifyContent.spaceBetween,borderRadius:s.BorderRadius.SM,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2},a.default.createElement(i.default,{variant:s.TypographyVariant.H6,color:s.TextColor.textAlternative,marginRight:2,overflowWrap:s.OVERFLOW_WRAP.ANYWHERE},e),a.default.createElement(o.default,{flexDirection:s.FLEX_DIRECTION.COLUMN,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.flexStart,marginTop:2,marginBottom:1},t?a.default.createElement(u.Icon,{name:u.IconName.CopySuccess,size:u.IconSize.Lg,color:s.Color.iconAlternative}):a.default.createElement(u.Icon,{name:u.IconName.Copy,size:u.IconSize.Lg,color:s.Color.iconAlternative,onClick:()=>n(e)})))};n.Copyable=d,d.propTypes={text:r.default.string}}}},{package:"$root$",file:"ui/components/app/snaps/copyable/copyable.js"}],[4629,{"./copyable":4628},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Copyable",{enumerable:!0,get:function(){return a.Copyable}});var a=e("./copyable")}}},{package:"$root$",file:"ui/components/app/snaps/copyable/index.js"}],[4630,{"../../../../helpers/constants/design-system":5052,"../../../component-library":4792,"../../../component-library/text/deprecated":4826,"../../../ui/actionable-message/actionable-message":4885,"../../../ui/box/box":4888,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=c(e("react")),r=c(e("prop-types")),o=c(e("../../../ui/box/box")),i=e("../../../../helpers/constants/design-system"),s=c(e("../../../ui/actionable-message/actionable-message")),l=e("../../../component-library"),u=e("../../../component-library/text/deprecated");function c(e){return e&&e.__esModule?e:{default:e}}const d=({title:e,error:t,description:n,iconName:r})=>a.default.createElement(o.default,{flexDirection:i.FLEX_DIRECTION.COLUMN,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center,height:i.BLOCK_SIZES.FULL,padding:2},r&&a.default.createElement(l.AvatarIcon,{iconName:r,size:l.IconSize.Xl,iconProps:{size:l.IconSize.Xl},color:i.IconColor.errorDefault,backgroundColor:i.BackgroundColor.errorMuted,marginBottom:4}),a.default.createElement(u.Text,{fontWeight:i.FONT_WEIGHT.BOLD,variant:i.TextVariant.headingLg},e),n&&a.default.createElement(u.Text,{textAlign:i.TextAlign.Center},n),t&&a.default.createElement(o.default,{padding:2},a.default.createElement(s.default,{type:"danger",message:t})));d.propTypes={title:r.default.node.isRequired,error:r.default.string,description:r.default.string,iconName:r.default.string};var p=d;n.default=p}}},{package:"$root$",file:"ui/components/app/snaps/install-error/install-error.js"}],[4631,{"./snap-authorship-expanded":4632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./snap-authorship-expanded"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/snaps/snap-authorship-expanded/index.js"}],[4632,{"../../../../helpers/constants/design-system":5052,"../../../../helpers/utils/util":5093,"../../../../hooks/useI18nContext":5116,"../../../../hooks/useOriginMetadata":5119,"../../../../selectors":5449,"../../../../store/actions":5456,"../../../component-library":4792,"../../../component-library/text/deprecated":4826,"../../../ui/box":4889,"../../../ui/toggle-button":5010,"../../../ui/tooltip/tooltip":5018,"../snap-avatar":4635,"../snap-version/snap-version":4656,"@metamask/snaps-utils":1587,classnames:2376,"prop-types":3766,react:4043,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=T(e("react")),r=T(e("prop-types")),o=T(e("classnames")),i=e("@metamask/snaps-utils"),s=e("react-redux"),l=T(e("../../../ui/box")),u=e("../../../../helpers/constants/design-system"),c=e("../../../../helpers/utils/util"),d=e("../../../component-library"),p=e("../../../component-library/text/deprecated"),f=e("../../../../selectors"),m=T(e("../snap-avatar")),g=e("../../../../hooks/useI18nContext"),h=T(e("../../../ui/tooltip/tooltip")),y=T(e("../../../ui/toggle-button")),v=e("../../../../store/actions"),b=e("../../../../hooks/useOriginMetadata"),_=T(e("../snap-version/snap-version"));function T(e){return e&&e.__esModule?e:{default:e}}const x=({snapId:e,className:t,snap:n})=>{const r=(0,g.useI18nContext)(),T=(0,s.useDispatch)(),x=e&&(0,i.getSnapPrefix)(e),w=e&&(0,c.removeSnapIdPrefix)(e),E="npm:"===x?`https://www.npmjs.com/package/${w}`:w,k=(0,s.useSelector)((t=>(0,f.getTargetSubjectMetadata)(t,e))),C=e&&(0,c.getSnapName)(e,k),M=(null==n?void 0:n.versionHistory)??[],P=M.length?M[M.length-1]:undefined,S=(0,b.useOriginMetadata)(null==P?void 0:P.origin);return a.default.createElement(l.default,{className:(0,o.default)("snaps-authorship-expanded",t),backgroundColor:u.BackgroundColor.backgroundDefault,borderColor:u.BorderColor.borderDefault,borderWidth:1,width:u.BLOCK_SIZES.FULL,borderRadius:u.BorderRadius.LG},a.default.createElement(l.default,{alignItems:u.AlignItems.center,display:u.DISPLAY.FLEX,width:u.BLOCK_SIZES.FULL,paddingLeft:4,paddingRight:4,paddingTop:3,paddingBottom:3},a.default.createElement(l.default,null,a.default.createElement(m.default,{snapId:e})),a.default.createElement(l.default,{marginLeft:4,marginRight:0,display:u.DISPLAY.FLEX,flexDirection:u.FLEX_DIRECTION.COLUMN,style:{overflow:"hidden"}},a.default.createElement(p.Text,{ellipsis:!0,fontWeight:u.FontWeight.Medium},C),a.default.createElement(p.Text,{ellipsis:!0,variant:u.TextVariant.bodySm,color:u.TextColor.textAlternative},w))),a.default.createElement(l.default,{flexDirection:u.FLEX_DIRECTION.COLUMN,width:u.BLOCK_SIZES.FULL},a.default.createElement(l.default,{flexDirection:u.FLEX_DIRECTION.ROW,justifyContent:u.JustifyContent.spaceBetween,paddingLeft:4,paddingTop:4,paddingBottom:4,borderColor:u.BorderColor.borderDefault,width:u.BLOCK_SIZES.FULL,style:{borderLeft:u.BorderStyle.none,borderRight:u.BorderStyle.none}},a.default.createElement(p.Text,{variant:u.TextVariant.bodyMd,fontWeight:u.FontWeight.Medium},r("enabled")),a.default.createElement(l.default,{style:{maxWidth:"52px"}},a.default.createElement(h.default,{interactive:!0,position:"left",html:r("snapsToggle")},a.default.createElement(y.default,{value:null==n?void 0:n.enabled,onToggle:()=>{null!=n&&n.enabled?T((0,v.disableSnap)(null==n?void 0:n.id)):T((0,v.enableSnap)(null==n?void 0:n.id))}})))),a.default.createElement(l.default,{flexDirection:u.FLEX_DIRECTION.COLUMN,padding:4,width:u.BLOCK_SIZES.FULL},S&&P&&a.default.createElement(l.default,{flexDirection:u.FLEX_DIRECTION.ROW,justifyContent:u.JustifyContent.spaceBetween,width:u.BLOCK_SIZES.FULL},a.default.createElement(p.Text,{variant:u.TextVariant.bodyMd,fontWeight:u.FontWeight.Medium},r("installOrigin")),a.default.createElement(l.default,{flexDirection:u.FLEX_DIRECTION.COLUMN,alignItems:u.AlignItems.flexEnd},a.default.createElement(d.ButtonLink,{href:S.origin,target:"_blank"},S.host),a.default.createElement(p.Text,{color:u.Color.textMuted},r("installedOn",[(0,c.formatDate)(P.date,"dd MMM yyyy")])))),a.default.createElement(l.default,{flexDirection:u.FLEX_DIRECTION.ROW,justifyContent:u.JustifyContent.spaceBetween,alignItems:u.AlignItems.center,marginTop:4},a.default.createElement(p.Text,{variant:u.TextVariant.bodyMd,fontWeight:u.FontWeight.Medium},r("version")),a.default.createElement(_.default,{version:null==n?void 0:n.version,url:E})))))};x.propTypes={snapId:r.default.string,className:r.default.string,snap:r.default.object};var w=x;n.default=w}}},{package:"$root$",file:"ui/components/app/snaps/snap-authorship-expanded/snap-authorship-expanded.js"}],[4633,{"./snap-authorship-header":4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./snap-authorship-header"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/snaps/snap-authorship-header/index.js"}],[4634,{"../../../../helpers/constants/design-system":5052,"../../../../helpers/utils/util":5093,"../../../../selectors":5449,"../../../component-library/text/deprecated":4826,"../../../ui/box":4889,"../snap-avatar":4635,"../snap-version/snap-version":4656,"@metamask/snaps-utils":1587,classnames:2376,"prop-types":3766,react:4043,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=g(e("react")),r=g(e("prop-types")),o=g(e("classnames")),i=e("@metamask/snaps-utils"),s=e("react-redux"),l=g(e("../../../ui/box")),u=e("../../../../helpers/constants/design-system"),c=e("../../../../helpers/utils/util"),d=e("../../../component-library/text/deprecated"),p=e("../../../../selectors"),f=g(e("../snap-avatar")),m=g(e("../snap-version/snap-version"));function g(e){return e&&e.__esModule?e:{default:e}}const h=({snapId:e,className:t,boxShadow:n="var(--shadow-size-lg) var(--color-shadow-default)"})=>{const r=e&&(0,i.getSnapPrefix)(e),g=e&&(0,c.removeSnapIdPrefix)(e),h="npm:"===r?`https://www.npmjs.com/package/${g}`:g,y=(0,s.useSelector)((t=>(0,p.getTargetSubjectMetadata)(t,e))),v=e&&(0,c.getSnapName)(e,y);return a.default.createElement(l.default,{className:(0,o.default)("snaps-authorship-header",t),backgroundColor:u.BackgroundColor.backgroundDefault,width:u.BLOCK_SIZES.FULL,alignItems:u.AlignItems.center,display:u.DISPLAY.FLEX,padding:4,style:{boxShadow:n}},a.default.createElement(l.default,null,a.default.createElement(f.default,{snapId:e})),a.default.createElement(l.default,{marginLeft:4,marginRight:4,display:u.DISPLAY.FLEX,flexDirection:u.FLEX_DIRECTION.COLUMN,style:{overflow:"hidden"}},a.default.createElement(d.Text,{ellipsis:!0,fontWeight:u.FontWeight.Medium},v),a.default.createElement(d.Text,{ellipsis:!0,variant:u.TextVariant.bodySm,color:u.TextColor.textAlternative},g)),a.default.createElement(l.default,{marginLeft:"auto"},a.default.createElement(m.default,{version:null==y?void 0:y.version,url:h})))};h.propTypes={snapId:r.default.string,className:r.default.string,boxShadow:r.default.string};var y=h;n.default=y}}},{package:"$root$",file:"ui/components/app/snaps/snap-authorship-header/snap-authorship-header.js"}],[4635,{"./snap-avatar":4636},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./snap-avatar"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/snaps/snap-avatar/index.js"}],[4636,{"../../../../helpers/constants/design-system":5052,"../../../../helpers/utils/util":5093,"../../../../selectors":5449,"../../../component-library":4792,classnames:2376,"prop-types":3766,react:4043,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=d(e("react")),r=d(e("prop-types")),o=d(e("classnames")),i=e("react-redux"),s=e("../../../../helpers/constants/design-system"),l=e("../../../../helpers/utils/util"),u=e("../../../component-library"),c=e("../../../../selectors");function d(e){return e&&e.__esModule?e:{default:e}}const p=({snapId:e,badgeSize:t=u.IconSize.Sm,avatarSize:n=u.IconSize.Lg,borderWidth:r=2,className:d})=>{const p=(0,i.useSelector)((t=>(0,c.getTargetSubjectMetadata)(t,e))),f=e&&(0,l.getSnapName)(e,p),m=null==p?void 0:p.iconUrl,g=f&&f[0]?f[0]:"?";return a.default.createElement(u.BadgeWrapper,{className:(0,o.default)("snap-avatar",d),badge:a.default.createElement(u.AvatarIcon,{iconName:u.IconName.Snaps,size:t,backgroundColor:s.IconColor.infoDefault,borderColor:s.BackgroundColor.backgroundDefault,borderWidth:r,iconProps:{size:t,color:s.IconColor.infoInverse}}),position:u.BadgeWrapperPosition.bottomRight},m?a.default.createElement(u.AvatarFavicon,{size:n,src:m,name:f}):a.default.createElement(u.AvatarBase,{size:n,display:s.DISPLAY.FLEX,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center,color:s.TextColor.textAlternative,style:{borderWidth:"0px"}},g))};p.propTypes={snapId:r.default.string,badgeSize:r.default.string,avatarSize:r.default.string,borderWidth:r.default.number,className:r.default.string};var f=p;n.default=f}}},{package:"$root$",file:"ui/components/app/snaps/snap-avatar/snap-avatar.js"}],[4637,{"../../../../helpers/constants/design-system":5052,"../../../../helpers/utils/util":5093,"../../../../hooks/useI18nContext":5116,"../../../../selectors":5449,"../../../component-library":4792,"../../../component-library/text/deprecated":4826,"../../../ui/box":4889,"../../../ui/tooltip/tooltip":5018,"../snap-avatar/snap-avatar":4636,"prop-types":3766,react:4043,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=h;var a=g(e("react")),r=g(e("prop-types")),o=e("react-redux"),i=g(e("../../../ui/box")),s=e("../../../../helpers/constants/design-system"),l=e("../../../../helpers/utils/util"),u=e("../../../component-library"),c=e("../../../component-library/text/deprecated"),d=g(e("../../../ui/tooltip/tooltip")),p=e("../../../../hooks/useI18nContext"),f=g(e("../snap-avatar/snap-avatar")),m=e("../../../../selectors");function g(e){return e&&e.__esModule?e:{default:e}}function h({origin:e,snapId:t}){const n=(0,p.useI18nContext)(),r=(0,o.useSelector)((e=>(0,m.getTargetSubjectMetadata)(e,t))),g=(0,l.getSnapName)(t,r);return a.default.createElement(i.default,{alignItems:s.AlignItems.center,paddingTop:2,paddingBottom:2,display:s.Display.Flex},a.default.createElement(f.default,{snapId:t}),a.default.createElement(i.default,{width:"full",marginLeft:4,marginRight:4},a.default.createElement(c.Text,null,n("connectSnap",[a.default.createElement(c.Text,{as:u.ValidTag.Span,key:"1",fontWeight:s.FontWeight.Bold},g)]))),a.default.createElement(i.default,null,a.default.createElement(d.default,{html:a.default.createElement("div",null,n("snapConnectionWarning",[a.default.createElement("b",{key:"0"},e),a.default.createElement("b",{key:"1"},g)])),position:"bottom"},a.default.createElement(u.Icon,{color:s.IconColor.iconMuted,name:u.IconName.Info,size:u.IconSize.Sm}))))}h.propTypes={origin:r.default.string.isRequired,snapId:r.default.string.isRequired}}}},{package:"$root$",file:"ui/components/app/snaps/snap-connect-cell/snap-connect-cell.js"}],[4638,{"./snap-delineator":4639},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SnapDelineator",{enumerable:!0,get:function(){return a.SnapDelineator}});var a=e("./snap-delineator")}}},{package:"$root$",file:"ui/components/app/snaps/snap-delineator/index.js"}],[4639,{"../../../../helpers/constants/design-system":5052,"../../../../helpers/constants/snaps":5060,"../../../../hooks/useI18nContext":5116,"../../../component-library":4792,"../../../component-library/text/deprecated":4826,"../../../ui/box":4889,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapDelineator=void 0;var a=d(e("react")),r=d(e("prop-types")),o=e("../../../../hooks/useI18nContext"),i=e("../../../../helpers/constants/design-system"),s=d(e("../../../ui/box")),l=e("../../../component-library"),u=e("../../../component-library/text/deprecated"),c=e("../../../../helpers/constants/snaps");function d(e){return e&&e.__esModule?e:{default:e}}const p=({snapName:e,type:t=c.DelineatorType.default,children:n})=>{const r=(0,o.useI18nContext)(),d=t===c.DelineatorType.Error;return a.default.createElement(s.default,{className:"snap-delineator__wrapper",borderStyle:i.BorderStyle.solid,borderColor:i.BorderColor.borderDefault,borderRadius:i.BorderRadius.LG,backgroundColor:d?i.BackgroundColor.errorMuted:i.BackgroundColor.backgroundDefault},a.default.createElement(s.default,{className:"snap-delineator__header",alignItems:i.AlignItems.center,padding:1},a.default.createElement(l.AvatarIcon,{iconName:l.IconName.Snaps,size:l.IconSize.Sm,backgroundColor:d?i.IconColor.errorDefault:i.IconColor.infoDefault,borderColor:i.BackgroundColor.backgroundDefault,borderWidth:2,iconProps:{size:l.IconSize.Sm,color:i.IconColor.infoInverse}}),a.default.createElement(u.Text,{variant:i.TextVariant.bodySm,color:d?i.TextColor.errorDefault:i.TextColor.textAlternative,className:"snap-delineator__header__text",marginLeft:1,marginTop:0,marginBottom:0},r((0,c.getDelineatorTitle)(t),[e]))),a.default.createElement(s.default,{className:"snap-delineator__content",padding:4},n))};n.SnapDelineator=p,p.propTypes={snapName:r.default.string,type:r.default.string,children:r.default.ReactNode}}}},{package:"$root$",file:"ui/components/app/snaps/snap-delineator/snap-delineator.js"}],[4640,{"./snap-install-warning":4641},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./snap-install-warning"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/snaps/snap-install-warning/index.js"}],[4641,{"../../../../helpers/constants/design-system":5052,"../../../../hooks/useI18nContext":5116,"../../../component-library":4792,"../../../component-library/text/deprecated":4826,"../../../ui/box/box":4888,"../../../ui/button":4893,"../../../ui/check-box/check-box.component":4896,"../../../ui/popover":4980,classnames:2376,immer:3380,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=g(e("prop-types")),o=e("immer"),i=g(e("classnames")),s=e("../../../../hooks/useI18nContext"),l=g(e("../../../ui/check-box/check-box.component")),u=e("../../../../helpers/constants/design-system"),c=g(e("../../../ui/popover")),d=g(e("../../../ui/button")),p=e("../../../component-library"),f=e("../../../component-library/text/deprecated"),m=g(e("../../../ui/box/box"));function g(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const y=(0,o.produce)(((e,t)=>{if("check"!==t.type)throw new Error("You must provide a type when dispatching an action for checkboxState");e[t.checkboxId]=!e[t.checkboxId]||!e[t.checkboxId]}));function v({onCancel:e,onSubmit:t,warnings:n,snapName:r}){const o=(0,s.useI18nContext)(),[g,h]=(0,a.useReducer)(y,{}),v=n.every((e=>g[e.id])),b=(0,a.useCallback)((e=>{h({type:"check",checkboxId:e})}),[]),_=()=>a.default.createElement("div",{className:"snap-install-warning__footer"},a.default.createElement(d.default,{className:"snap-install-warning__footer-button",type:"primary",disabled:!v,onClick:t},o("confirm")));return a.default.createElement(c.default,{className:"snap-install-warning",footer:a.default.createElement(_,null),headerProps:{padding:[6,6,0]},contentProps:{paddingLeft:[6,4],paddingRight:[6,4],paddingTop:0,paddingBottom:[6,4]},footerProps:{padding:[4,6]},onClose:e},a.default.createElement(m.default,{justifyContent:u.JustifyContent.center,marginBottom:6},a.default.createElement(p.AvatarIcon,{iconName:p.IconName.Danger,backgroundColor:u.BackgroundColor.warningMuted,color:u.IconColor.warningDefault,size:u.Size.XL})),a.default.createElement(f.Text,{paddingBottom:6,textAlign:u.TextAlign.Center,variant:u.TextVariant.headingMd,as:"h2"},o("snapInstallWarningHeading")),a.default.createElement(f.Text,{paddingBottom:6,textAlign:u.TextAlign.Center},n.length>1?o("snapInstallWarningCheckPlural",[a.default.createElement(f.Text,{key:"snapNameInWarningDescription",fontWeight:u.FontWeight.Medium,as:"span"},r)]):o("snapInstallWarningCheck",[a.default.createElement(f.Text,{key:"snapNameInWarningDescription",fontWeight:u.FontWeight.Medium,as:"span"},r)])),n.map(((e,t)=>a.default.createElement("div",{className:(0,i.default)("checkbox-label",{"checkbox-label--first":0===t}),key:e.id},a.default.createElement(l.default,{checked:g[e.id]??!1,id:e.id,onClick:()=>b(e.id)}),a.default.createElement("label",{htmlFor:e.id},a.default.createElement(f.Text,{variant:u.TextVariant.bodyMd},e.message))))))}v.propTypes={onCancel:r.default.func,onSubmit:r.default.func,warnings:r.default.arrayOf({message:r.default.node,id:r.default.string}),snapName:r.default.string.isRequired}}}},{package:"$root$",file:"ui/components/app/snaps/snap-install-warning/snap-install-warning.js"}],[4642,{"./snap-legacy-authorship-header":4643},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./snap-legacy-authorship-header"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/snaps/snap-legacy-authorship-header/index.js"}],[4643,{"../../../../helpers/constants/design-system":5052,"../../../../helpers/utils/util":5093,"../../../../selectors":5449,"../../../component-library":4792,"../snap-avatar":4635,classnames:2376,"prop-types":3766,react:4043,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=p(e("react")),r=p(e("prop-types")),o=p(e("classnames")),i=e("react-redux"),s=e("../../../../helpers/constants/design-system"),l=e("../../../../helpers/utils/util"),u=e("../../../component-library"),c=e("../../../../selectors"),d=p(e("../snap-avatar"));function p(e){return e&&e.__esModule?e:{default:e}}const f=({snapId:e,className:t,marginLeft:n,marginRight:r})=>{const p=e&&(0,l.removeSnapIdPrefix)(e),f=(0,i.useSelector)((t=>(0,c.getTargetSubjectMetadata)(t,e))),m=e&&(0,l.getSnapName)(e,f);return a.default.createElement(u.Box,{className:(0,o.default)("snap-legacy-authorship-header",t),backgroundColor:s.BackgroundColor.backgroundDefault,width:s.BlockSize.Full,alignItems:s.AlignItems.center,display:s.Display.Flex,padding:2,borderColor:s.BorderColor.borderDefault,borderRadius:s.BorderRadius.pill,marginLeft:n,marginRight:r},a.default.createElement(u.Box,null,a.default.createElement(d.default,{snapId:e})),a.default.createElement(u.Box,{marginLeft:4,marginRight:4,display:s.Display.Flex,flexDirection:s.FlexDirection.Column,style:{overflow:"hidden"}},a.default.createElement(u.Text,{ellipsis:!0,fontWeight:s.FontWeight.Medium},m),a.default.createElement(u.Text,{ellipsis:!0,variant:s.TextVariant.bodySm,color:s.TextColor.textAlternative},p)))};f.propTypes={snapId:r.default.string,className:r.default.string,marginLeft:r.default.number,marginRight:r.default.number};var m=f;n.default=m}}},{package:"$root$",file:"ui/components/app/snaps/snap-legacy-authorship-header/snap-legacy-authorship-header.js"}],[4644,{"./snap-permissions-list":4645},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./snap-permissions-list"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/snaps/snap-permissions-list/index.js"}],[4645,{"../../../../helpers/utils/permission":5087,"../../../../hooks/useI18nContext":5116,"../../../ui/box":4889,"../../permission-cell":4575,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var a=u(e("react")),r=u(e("prop-types")),o=e("../../../../helpers/utils/permission"),i=e("../../../../hooks/useI18nContext"),s=u(e("../../permission-cell")),l=u(e("../../../ui/box"));function u(e){return e&&e.__esModule?e:{default:e}}function c({snapId:e,permissions:t,targetSubjectMetadata:n,showOptions:r}){const u=(0,i.useI18nContext)();return a.default.createElement(l.default,{paddingTop:2,paddingBottom:2,className:"snap-permissions-list"},(0,o.getWeightedPermissions)(u,t,n).map(((t,n)=>{var o;return a.default.createElement(s.default,{snapId:e,permissionName:t.permissionName,title:t.label,description:t.description,weight:t.weight,avatarIcon:t.leftIcon,dateApproved:null==t||null===(o=t.permissionValue)||void 0===o?void 0:o.date,key:`${t.permissionName}-${n}`,showOptions:r})})))}c.propTypes={snapId:r.default.string.isRequired,permissions:r.default.object.isRequired,targetSubjectMetadata:r.default.object.isRequired,showOptions:r.default.bool}}}},{package:"$root$",file:"ui/components/app/snaps/snap-permissions-list/snap-permissions-list.js"}],[4646,{"./snap-privacy-warning":4647},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./snap-privacy-warning"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/snaps/snap-privacy-warning/index.js"}],[4647,{"../../../../../shared/constants/terms":4332,"../../../../helpers/constants/design-system":5052,"../../../../hooks/useI18nContext":5116,"../../../../hooks/useScrollRequired":5123,"../../../component-library":4792,"../../../component-library/text/deprecated":4826,"../../../ui/box/box":4888,"../../../ui/popover":4980,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var a=f(e("react")),r=f(e("prop-types")),o=e("../../../../hooks/useI18nContext"),i=f(e("../../../ui/box/box")),s=f(e("../../../ui/popover")),l=e("../../../component-library"),u=e("../../../component-library/text/deprecated"),c=e("../../../../helpers/constants/design-system"),d=e("../../../../hooks/useScrollRequired"),p=e("../../../../../shared/constants/terms");function f(e){return e&&e.__esModule?e:{default:e}}function m({onAccepted:e,onCanceled:t}){const n=(0,o.useI18nContext)(),{isScrollable:r,isScrolledToBottom:f,scrollToBottom:m,ref:g,onScroll:h}=(0,d.useScrollRequired)();return a.default.createElement(s.default,{className:"snap-privacy-warning"},a.default.createElement(i.default,null,a.default.createElement(i.default,{className:"snap-privacy-warning__header",paddingLeft:4,paddingRight:4},a.default.createElement(i.default,{marginTop:4,className:"snap-privacy-warning__header__info-icon",display:c.DISPLAY.FLEX,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center},a.default.createElement(l.AvatarIcon,{iconName:l.IconName.Info,color:c.IconColor.infoDefault,backgroundColor:c.BackgroundColor.primaryMuted,size:l.IconSize.Md})),a.default.createElement(i.default,{className:"snap-privacy-warning__header__title",marginTop:4,marginBottom:4,display:c.DISPLAY.FLEX,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center},a.default.createElement(u.Text,{variant:c.TextVariant.headingMd,fontWeight:c.FontWeight.Bold},n("thirdPartySoftware")))),a.default.createElement(i.default,{paddingLeft:4,paddingRight:4,className:"snap-privacy-warning__content",ref:g,onScroll:h},a.default.createElement(i.default,{className:"snap-privacy-warning__message"},a.default.createElement(u.Text,{variant:c.TextVariant.bodyMd},n("snapsPrivacyWarningFirstMessage",[a.default.createElement(l.ButtonLink,{key:"privacyNoticeTermsOfUseLink",size:l.BUTTON_LINK_SIZES.INHERIT,href:p.TERMS_OF_USE_LINK,target:"_blank"},"",n("snapsTermsOfUse"),"")])),a.default.createElement(u.Text,{variant:c.TextVariant.bodyMd,paddingTop:6},n("snapsPrivacyWarningSecondMessage")),a.default.createElement(u.Text,{variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Bold,paddingTop:6},n("snapsPrivacyWarningThirdMessage"))),r&&!f?a.default.createElement(l.AvatarIcon,{className:"snap-privacy-warning__content__scroll-button","data-testid":"snap-privacy-warning-scroll",iconName:l.IconName.Arrow2Down,backgroundColor:c.BackgroundColor.infoDefault,color:c.IconColor.primaryInverse,onClick:m,style:{cursor:"pointer"}}):null),a.default.createElement(i.default,{paddingLeft:4,paddingRight:4,paddingBottom:4,className:"snap-privacy-warning__footer"},a.default.createElement(i.default,{className:"snap-privacy-warning__footer",marginTop:6,display:c.DISPLAY.FLEX},a.default.createElement(l.Button,{variant:l.BUTTON_VARIANT.SECONDARY,size:l.BUTTON_PRIMARY_SIZES.LG,width:c.BLOCK_SIZES.FULL,className:"snap-privacy-warning__cancel-button",onClick:t,marginRight:2},n("cancel")),a.default.createElement(l.Button,{variant:l.BUTTON_VARIANT.PRIMARY,size:l.BUTTON_PRIMARY_SIZES.LG,width:c.BLOCK_SIZES.FULL,className:"snap-privacy-warning__ok-button",onClick:e,marginLeft:2,disabled:!f},n("accept"))))))}m.propTypes={onAccepted:r.default.func.isRequired,onCanceled:r.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/snaps/snap-privacy-warning/snap-privacy-warning.js"}],[4648,{"./snap-remove-warning":4649},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./snap-remove-warning"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/snaps/snap-remove-warning/index.js"}],[4649,{"../../../../helpers/constants/design-system":5052,"../../../../hooks/useI18nContext":5116,"../../../ui/box/box":4888,"../../../ui/button":4893,"../../../ui/popover":4980,"../../../ui/typography/typography":5022,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var a=d(e("react")),r=d(e("prop-types")),o=e("../../../../hooks/useI18nContext"),i=d(e("../../../ui/typography/typography")),s=e("../../../../helpers/constants/design-system"),l=d(e("../../../ui/box/box")),u=d(e("../../../ui/popover")),c=d(e("../../../ui/button"));function d(e){return e&&e.__esModule?e:{default:e}}function p({onCancel:e,onSubmit:t,snapName:n}){const r=(0,o.useI18nContext)(),d=()=>a.default.createElement(a.default.Fragment,null,a.default.createElement(c.default,{className:"snap-remove-warning__footer-button",type:"default",onClick:e},r("nevermind")),a.default.createElement(c.default,{id:"popoverRemoveSnapButton",className:"snap-remove-warning__footer-button",type:"danger-primary",onClick:t},r("removeSnap")));return a.default.createElement(u.default,{className:"snap-remove-warning",title:r("pleaseConfirm"),footer:a.default.createElement(d,null),onClose:e,headerProps:{padding:[6,4,0,6]}},a.default.createElement(l.default,{paddingRight:4,paddingBottom:4,paddingLeft:6},a.default.createElement(i.default,{variant:s.TypographyVariant.H4},r("removeSnapConfirmation",[n]))))}p.propTypes={onCancel:r.default.func,onSubmit:r.default.func,snapName:r.default.string}}}},{package:"$root$",file:"ui/components/app/snaps/snap-remove-warning/snap-remove-warning.js"}],[4650,{"./snap-settings-card":4651},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./snap-settings-card"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/snaps/snap-settings-card/index.js"}],[4651,{"../../../../helpers/constants/design-system":5052,"../../../component-library":4792,"../../../component-library/text/deprecated":4826,"../../../ui/box":4889,"../snap-avatar":4635,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=c(e("react")),r=c(e("prop-types")),o=c(e("../../../ui/box")),i=e("../../../../helpers/constants/design-system"),s=e("../../../component-library"),l=e("../../../component-library/text/deprecated"),u=c(e("../snap-avatar"));function c(e){return e&&e.__esModule?e:{default:e}}const d=({name:e,packageName:t,onClick:n,snapId:r})=>a.default.createElement(o.default,{className:"snap-settings-card",display:i.DISPLAY.FLEX,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.spaceBetween,width:i.BLOCK_SIZES.FULL,padding:[4,4,4,4]},a.default.createElement(o.default,{className:"snap-settings-card__inner-wrapper",display:i.DISPLAY.FLEX,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.flexStart,width:i.BLOCK_SIZES.FULL,onClick:n},a.default.createElement(o.default,null,a.default.createElement(u.default,{snapId:r})),a.default.createElement(o.default,{paddingLeft:4,paddingRight:4,width:i.BLOCK_SIZES.FULL},a.default.createElement(l.Text,{className:"snap-settings-card__title",color:i.Color.textDefault,variant:i.TextVariant.bodyMd},e),a.default.createElement(l.Text,{className:"snap-settings-card__url",color:i.Color.textAlternative,variant:i.TextVariant.bodySm},t))),a.default.createElement(o.default,{className:"snap-settings-card__caret",onClick:n},a.default.createElement(s.Icon,{name:s.IconName.ArrowRight,size:s.IconSize.Md,color:i.IconColor.iconMuted})));d.propTypes={name:r.default.string,packageName:r.default.string,onClick:r.default.func,snapId:r.default.string.isRequired};var p=d;n.default=p}}},{package:"$root$",file:"ui/components/app/snaps/snap-settings-card/snap-settings-card.js"}],[4652,{"./snap-ui-markdown":4653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SnapUIMarkdown",{enumerable:!0,get:function(){return a.SnapUIMarkdown}});var a=e("./snap-ui-markdown")}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-markdown/index.js"}]],[],{});