LavaPack.loadBundle([[5265,{"../../../../components/app/snaps/install-error/install-error":4630,"../../../../components/app/snaps/snap-authorship-header":4633,"../../../../components/app/snaps/snap-install-warning":4640,"../../../../components/app/snaps/update-snap-permission-list":4657,"../../../../components/component-library":4792,"../../../../components/component-library/text/deprecated":4826,"../../../../components/ui/box/box":4888,"../../../../components/ui/page-container":4973,"../../../../components/ui/pulse-loader/pulse-loader":4983,"../../../../helpers/constants/design-system":5052,"../../../../helpers/utils/util":5093,"../../../../hooks/useI18nContext":5116,"../../../../hooks/useOriginMetadata":5119,"../../../../hooks/useScrollRequired":5123,"../util":5268,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=w;var a=v(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),s=e("../../../../components/ui/page-container"),o=e("../../../../hooks/useI18nContext"),i=v(e("../../../../components/app/snaps/snap-install-warning")),l=v(e("../../../../components/ui/box/box")),c=e("../../../../helpers/constants/design-system"),u=v(e("../../../../components/app/snaps/update-snap-permission-list")),d=e("../util"),p=v(e("../../../../components/ui/pulse-loader/pulse-loader")),f=v(e("../../../../components/app/snaps/install-error/install-error")),m=v(e("../../../../components/app/snaps/snap-authorship-header")),g=e("../../../../components/component-library"),h=e("../../../../components/component-library/text/deprecated"),_=e("../../../../hooks/useOriginMetadata"),E=e("../../../../helpers/utils/util"),y=e("../../../../hooks/useScrollRequired");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function v(e){return e&&e.__esModule?e:{default:e}}function w({request:e,requestState:t,approveSnapUpdate:n,rejectSnapUpdate:a,targetSubjectMetadata:b}){var v;const w=(0,o.useI18nContext)(),[T,k]=(0,r.useState)(!1),C=(0,_.useOriginMetadata)(null===(v=e.metadata)||void 0===v?void 0:v.dappOrigin)||{},{isScrollable:N,isScrolledToBottom:S,scrollToBottom:O,ref:x,onScroll:R}=(0,y.useScrollRequired)([t]),I=(0,r.useCallback)((()=>a(e.metadata.id)),[e,a]),M=(0,r.useCallback)((()=>n(e.metadata.id)),[e,n]),P=t.approvedPermissions??{},A=t.unusedPermissions??{},j=t.newPermissions??{},{newVersion:D}=t,L=t.loading,U=!L&&t.error,F=(0,d.getSnapInstallWarnings)(j,b,w),W=F.length>0,B=(0,E.getSnapName)(b.origin,b);return r.default.createElement(l.default,{className:"page-container snap-update",justifyContent:c.JustifyContent.spaceBetween,height:c.BLOCK_SIZES.FULL,borderStyle:c.BorderStyle.none,flexDirection:c.FLEX_DIRECTION.COLUMN},r.default.createElement(m.default,{snapId:b.origin}),r.default.createElement(l.default,{ref:x,onScroll:R,className:"snap-update__content",style:{overflowY:"auto",flex:!L&&"1"}},!L&&!U&&r.default.createElement(h.Text,{paddingBottom:4,paddingTop:4,variant:c.TextVariant.headingLg,textAlign:"center"},w("snapUpdate")),L&&r.default.createElement(l.default,{className:"snap-update__content__loader-container",flexDirection:c.FLEX_DIRECTION.COLUMN,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center},r.default.createElement(p.default,null)),U&&r.default.createElement(f.default,{iconName:g.IconName.Warning,error:t.error,title:w("snapUpdateErrorTitle"),description:w("snapUpdateErrorDescription",[r.default.createElement(h.Text,{as:g.ValidTag.Span,key:"1",fontWeight:c.FontWeight.Medium},B)])}),!U&&!L&&r.default.createElement(r.default.Fragment,null,r.default.createElement(h.Text,{className:"snap-update__content__permission-description",paddingBottom:4,paddingLeft:4,paddingRight:4,textAlign:c.TEXT_ALIGN.CENTER},w("snapUpdateRequest",[r.default.createElement(h.Text,{as:g.ValidTag.Span,key:"1",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},null==C?void 0:C.hostname),r.default.createElement(h.Text,{as:g.ValidTag.Span,key:"2",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},B),r.default.createElement(h.Text,{as:g.ValidTag.Span,key:"3",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},D)])),r.default.createElement(u.default,{approvedPermissions:P,revokedPermissions:A,newPermissions:j,targetSubjectMetadata:b}),N&&!S?r.default.createElement(g.AvatarIcon,{className:"snap-install__scroll-button","data-testid":"snap-update-scroll",iconName:g.IconName.Arrow2Down,backgroundColor:c.BackgroundColor.infoDefault,color:c.IconColor.primaryInverse,onClick:O,style:{cursor:"pointer"}}):null)),r.default.createElement(l.default,{className:"snap-update__footer",alignItems:c.AlignItems.center,flexDirection:c.FLEX_DIRECTION.COLUMN,style:{boxShadow:"var(--shadow-size-lg) var(--color-shadow-default)"}},r.default.createElement(s.PageContainerFooter,{cancelButtonType:"default",hideCancel:U,disabled:L||!U&&N&&!S,onCancel:I,cancelText:w("cancel"),onSubmit:()=>{!U&&W?k(!0):U?I():M()},submitText:w(U?"ok":"update")})),T&&r.default.createElement(i.default,{onCancel:()=>k(!1),onSubmit:M,snapName:B,warnings:F}))}w.propTypes={request:a.default.object.isRequired,requestState:a.default.object.isRequired,approveSnapUpdate:a.default.func.isRequired,rejectSnapUpdate:a.default.func.isRequired,targetSubjectMetadata:a.default.shape({iconUrl:a.default.string,name:a.default.string,origin:a.default.string.isRequired,sourceCode:a.default.string,version:a.default.string}).isRequired}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-update/snap-update.js"}],[5266,{"./snaps-connect":5267},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./snaps-connect"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snaps-connect/index.js"}],[5267,{"../../../../components/app/snaps/snap-avatar/snap-avatar":4636,"../../../../components/app/snaps/snap-connect-cell/snap-connect-cell":4637,"../../../../components/app/snaps/snap-privacy-warning/snap-privacy-warning":4647,"../../../../components/component-library":4792,"../../../../components/component-library/text/deprecated":4826,"../../../../components/ui/box":4889,"../../../../components/ui/page-container":4973,"../../../../components/ui/pulse-loader/pulse-loader":4983,"../../../../components/ui/site-origin":4996,"../../../../helpers/constants/design-system":5052,"../../../../helpers/utils/util":5093,"../../../../hooks/useI18nContext":5116,"../../../../hooks/useOriginMetadata":5119,"../../../../selectors":5449,"prop-types":3766,react:4043,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=w;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),s=b(e("prop-types")),o=e("../../../../hooks/useI18nContext"),i=b(e("../../../../components/ui/box")),l=b(e("../../../../components/ui/site-origin")),c=e("../../../../components/component-library"),u=e("../../../../components/component-library/text/deprecated"),d=e("../../../../helpers/constants/design-system"),p=e("../../../../components/ui/page-container"),f=b(e("../../../../components/app/snaps/snap-connect-cell/snap-connect-cell")),m=e("../../../../helpers/utils/util"),g=b(e("../../../../components/ui/pulse-loader/pulse-loader")),h=b(e("../../../../components/app/snaps/snap-privacy-warning/snap-privacy-warning")),_=e("../../../../selectors"),E=b(e("../../../../components/app/snaps/snap-avatar/snap-avatar")),y=e("../../../../hooks/useOriginMetadata");function b(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function w({request:e,approveConnection:t,rejectConnection:n,targetSubjectMetadata:s,snapsInstallPrivacyWarningShown:b,setSnapsInstallPrivacyWarningShownStatus:v}){const w=(0,o.useI18nContext)(),{origin:T,iconUrl:k,name:C}=s,[N,S]=(0,a.useState)(!1),[O,x]=(0,a.useState)(!b),R=(0,r.useSelector)((t=>{var n;return(0,_.getPermissions)(t,null==e||null===(n=e.metadata)||void 0===n?void 0:n.origin)})),I=(0,a.useCallback)((()=>{n(e.metadata.id)}),[e,n]),M=(0,a.useCallback)((()=>{try{S(!0),t(e)}finally{S(!1)}}),[e,t]),P=(0,m.getDedupedSnaps)(e,R),A=(0,r.useSelector)((e=>(0,_.getTargetSubjectMetadata)(e,null==P?void 0:P[0]))),j=()=>{const{hostname:e}=(0,y.useOriginMetadata)(T)||{};if(N)return a.default.createElement(i.default,{className:"snap-connect__loader-container",flexDirection:d.FlexDirection.Column,alignItems:d.AlignItems.center,justifyContent:d.JustifyContent.center},a.default.createElement(g.default,null));if((null==P?void 0:P.length)>1)return a.default.createElement(i.default,{className:"snaps-connect__content",flexDirection:d.FlexDirection.Column,justifyContent:d.JustifyContent.center,alignItems:d.AlignItems.center,paddingLeft:4,paddingRight:4,paddingTop:8,width:d.BlockSize.Full,style:{overflowY:"hidden"}},a.default.createElement(u.Text,{paddingBottom:2,variant:d.TextVariant.headingLg},w("connectionRequest")),a.default.createElement(u.Text,{variant:d.TextVariant.bodyMd,textAlign:d.TextAlign.Center},w("multipleSnapConnectionWarning",[a.default.createElement(u.Text,{as:c.ValidTag.Span,key:"1",variant:d.TextVariant.bodyMd,fontWeight:d.FontWeight.Medium},e),a.default.createElement(u.Text,{as:c.ValidTag.Span,key:"2",variant:d.TextVariant.bodyMd,fontWeight:d.FontWeight.Medium},null==P?void 0:P.length)])),a.default.createElement(i.default,{className:"snaps-connect__content__snaps-list",flexDirection:d.FlexDirection.Column,display:d.Display.Flex,marginTop:4,width:d.BlockSize.Full,style:{overflowY:"auto",flex:1}},P.map((t=>a.default.createElement(f.default,{key:`snaps-connect-${t}`,snapId:t,origin:e})))));if(1===(null==P?void 0:P.length)){const t=P[0],n=(0,m.getSnapName)(t,A);return a.default.createElement(i.default,{className:"snaps-connect__content",flexDirection:d.FlexDirection.Column,justifyContent:d.JustifyContent.center,alignItems:d.AlignItems.center,height:d.BlockSize.Full,paddingLeft:4,paddingRight:4},a.default.createElement(i.default,{paddingBottom:2},a.default.createElement(E.default,{snapId:P[0],badgeSize:c.IconSize.Md,avatarSize:c.IconSize.Xl,borderWidth:3})),a.default.createElement(u.Text,{paddingBottom:2,variant:d.TextVariant.headingLg},w("connectionRequest")),a.default.createElement(u.Text,{variant:d.TextVariant.bodyMd,textAlign:d.TextAlign.Center,padding:[0,4],overflowWrap:d.OverflowWrap.Anywhere},w("snapConnectionWarning",[a.default.createElement(u.Text,{as:c.ValidTag.Span,key:"1",variant:d.TextVariant.bodyMd,fontWeight:d.FontWeight.Medium},e),a.default.createElement(u.Text,{as:c.ValidTag.Span,key:"2",variant:d.TextVariant.bodyMd,fontWeight:d.FontWeight.Medium},n)])))}return null};return a.default.createElement(i.default,{className:"page-container snaps-connect",flexDirection:d.FlexDirection.Column,alignItems:d.AlignItems.center},O&&a.default.createElement(h.default,{onAccepted:()=>{x(!1),v(!0)},onCanceled:I}),a.default.createElement(i.default,{className:"snaps-connect__header",flexDirection:d.FlexDirection.Column,alignItems:d.AlignItems.center,paddingLeft:4,paddingRight:4},a.default.createElement(l.default,{chip:!0,siteOrigin:T,title:T,iconSrc:k,iconName:C})),a.default.createElement(j,null),a.default.createElement(p.PageContainerFooter,{footerClassName:"snaps-connect__footer",cancelButtonType:"default",hideCancel:!1,disabled:N,onCancel:I,cancelText:w("cancel"),onSubmit:M,submitText:w("connect")}))}w.propTypes={request:s.default.object.isRequired,approveConnection:s.default.func.isRequired,rejectConnection:s.default.func.isRequired,targetSubjectMetadata:s.default.shape({extensionId:s.default.string,iconUrl:s.default.string,name:s.default.string,origin:s.default.string,subjectType:s.default.string}),snapsInstallPrivacyWarningShown:s.default.bool.isRequired,setSnapsInstallPrivacyWarningShownStatus:s.default.func}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snaps-connect/snaps-connect.js"}],[5268,{"../../../helpers/utils/permission":5087},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSnapInstallWarnings=function(e,t,n){return Object.entries(e).reduce(((e,[r,s])=>{const o=(0,a.getPermissionDescription)({t:n,permissionName:r,permissionValue:s,targetSubjectMetadata:t});return e.concat(o.filter((e=>1===e.weight)))}),[])};var a=e("../../../helpers/utils/permission")}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/util.js"}],[5269,{"./routes.container":5271},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./routes.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/routes/index.js"}],[5270,{"../../../app/scripts/lib/util":82,"../../../shared/constants/app":4316,"../../../shared/constants/network":4324,"../../../shared/constants/preferences":4326,"../../components/app/alerts":4394,"../../components/app/loading-network-screen":4496,"../../components/app/modals":4542,"../../components/app/qr-hardware-popover":4591,"../../components/component-library":4792,"../../components/multichain":4868,"../../components/ui/alert":4887,"../../components/ui/deprecated-test-networks/deprecated-test-networks":4910,"../../components/ui/loading-screen":4954,"../../components/ui/new-network-info/new-network-info":4968,"../../ducks/send":5046,"../../helpers/constants/routes":5057,"../../helpers/higher-order-components/authenticated":5065,"../../helpers/higher-order-components/initialized":5067,"../asset":5148,"../confirm-add-suggested-nft":5150,"../confirm-add-suggested-token":5152,"../confirm-import-token":5170,"../confirm-transaction":5186,"../confirmation":5192,"../create-account/create-account.component":5211,"../home":5216,"../import-token":5219,"../keychains/restore-vault":5228,"../keychains/reveal-seed":5229,"../lock":5230,"../notifications":5233,"../onboarding-flow/onboarding-app-header/onboarding-app-header":5240,"../onboarding-flow/onboarding-flow":5242,"../permissions-connect":5255,"../send":5274,"../settings":5331,"../swaps":5389,"../token-details":5439,"../unlock-page":5441,classnames:2376,"prop-types":3766,react:4043,"react-idle-timer":3876,"react-router-dom":4028},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=Q(e("classnames")),r=Q(e("prop-types")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=V(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=e("react-router-dom"),i=Q(e("react-idle-timer")),l=Q(e("../send")),c=Q(e("../swaps")),u=Q(e("../confirm-transaction")),d=Q(e("../home")),p=Q(e("../settings")),f=Q(e("../../helpers/higher-order-components/authenticated")),m=Q(e("../../helpers/higher-order-components/initialized")),g=Q(e("../lock")),h=Q(e("../permissions-connect")),_=Q(e("../keychains/restore-vault")),E=Q(e("../keychains/reveal-seed")),y=Q(e("../import-token")),b=Q(e("../confirm-import-token")),v=Q(e("../confirm-add-suggested-token")),w=Q(e("../create-account/create-account.component")),T=Q(e("../confirm-add-suggested-nft")),k=Q(e("../../components/ui/loading-screen")),C=Q(e("../../components/app/loading-network-screen")),N=e("../../components/app/modals"),S=Q(e("../../components/ui/alert")),O=e("../../components/multichain"),x=Q(e("../unlock-page")),R=Q(e("../../components/app/alerts")),I=Q(e("../asset")),M=Q(e("../onboarding-flow/onboarding-app-header/onboarding-app-header")),P=Q(e("../token-details")),A=Q(e("../notifications")),j=e("../../helpers/constants/routes"),D=e("../../../shared/constants/app"),L=e("../../../shared/constants/network"),U=e("../../../app/scripts/lib/util"),F=Q(e("../confirmation")),W=Q(e("../onboarding-flow/onboarding-flow")),B=Q(e("../../components/app/qr-hardware-popover")),$=e("../../ducks/send"),q=Q(e("../../components/ui/deprecated-test-networks/deprecated-test-networks")),G=Q(e("../../components/ui/new-network-info/new-network-info")),H=e("../../../shared/constants/preferences"),K=e("../../components/component-library");function V(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(V=function(e){return e?n:t})(e)}function Q(e){return e&&e.__esModule?e:{default:e}}function z(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Y extends s.Component{constructor(...e){super(...e),z(this,"onAppHeaderClick",(async()=>{const{prepareToLeaveSwaps:e}=this.props;this.onSwapsPage()&&await e()}))}handleOsTheme(){var e,t;const n=null!==(e=window)&&void 0!==e&&null!==(t=e.matchMedia("(prefers-color-scheme: dark)"))&&void 0!==t&&t.matches?H.ThemeType.dark:H.ThemeType.light;document.documentElement.setAttribute("data-theme",n)}componentDidUpdate(e){const{theme:t}=this.props;t!==e.theme&&(t===H.ThemeType.os?this.handleOsTheme():document.documentElement.setAttribute("data-theme",t))}UNSAFE_componentWillMount(){const{currentCurrency:e,pageChanged:t,setCurrentCurrencyToUSD:n,history:a,theme:r}=this.props;e||n(),a.listen(((e,n)=>{"PUSH"===n&&t(e.pathname)})),r===H.ThemeType.os?this.handleOsTheme():document.documentElement.setAttribute("data-theme",r)}renderRoutes(){const{autoLockTimeLimit:e,setLastActiveTime:t,forgottenPassword:n}=this.props,a=n?o.Route:m.default,r=s.default.createElement(o.Switch,null,s.default.createElement(o.Route,{path:j.ONBOARDING_ROUTE,component:W.default}),s.default.createElement(o.Route,{path:j.LOCK_ROUTE,component:g.default,exact:!0}),s.default.createElement(m.default,{path:j.UNLOCK_ROUTE,component:x.default,exact:!0}),s.default.createElement(a,{path:j.RESTORE_VAULT_ROUTE,component:_.default,exact:!0}),s.default.createElement(f.default,{path:j.REVEAL_SEED_ROUTE,component:E.default,exact:!0}),s.default.createElement(f.default,{path:j.SETTINGS_ROUTE,component:p.default}),s.default.createElement(f.default,{path:j.NOTIFICATIONS_ROUTE,component:A.default}),s.default.createElement(f.default,{path:`${j.CONFIRM_TRANSACTION_ROUTE}/:id?`,component:u.default}),s.default.createElement(f.default,{path:j.SEND_ROUTE,component:l.default,exact:!0}),s.default.createElement(f.default,{path:`${j.TOKEN_DETAILS}/:address/`,component:P.default,exact:!0}),s.default.createElement(f.default,{path:j.SWAPS_ROUTE,component:c.default}),s.default.createElement(f.default,{path:j.IMPORT_TOKEN_ROUTE,component:y.default,exact:!0}),s.default.createElement(f.default,{path:j.CONFIRM_IMPORT_TOKEN_ROUTE,component:b.default,exact:!0}),s.default.createElement(f.default,{path:j.CONFIRM_ADD_SUGGESTED_TOKEN_ROUTE,component:v.default,exact:!0}),s.default.createElement(f.default,{path:j.CONFIRM_ADD_SUGGESTED_NFT_ROUTE,component:T.default,exact:!0}),s.default.createElement(f.default,{path:j.CONFIRMATION_V_NEXT_ROUTE,component:F.default}),s.default.createElement(f.default,{path:j.NEW_ACCOUNT_ROUTE,component:w.default}),s.default.createElement(f.default,{path:`${j.CONNECT_ROUTE}/:id`,component:h.default}),s.default.createElement(f.default,{path:`${j.ASSET_ROUTE}/:asset/:id`,component:I.default}),s.default.createElement(f.default,{path:`${j.ASSET_ROUTE}/:asset/`,component:I.default}),s.default.createElement(f.default,{path:j.DEFAULT_ROUTE,component:d.default}));return e>0?s.default.createElement(i.default,{onAction:t,throttle:1e3},r):r}onInitializationUnlockPage(){const{location:e}=this.props;return Boolean((0,o.matchPath)(e.pathname,{path:j.ONBOARDING_UNLOCK_ROUTE,exact:!0}))}onConfirmPage(){const{location:e}=this.props;return Boolean((0,o.matchPath)(e.pathname,{path:j.CONFIRM_TRANSACTION_ROUTE,exact:!1}))}onEditTransactionPage(){return this.props.sendStage===$.SEND_STAGES.EDIT||this.props.sendStage===$.SEND_STAGES.DRAFT||this.props.sendStage===$.SEND_STAGES.ADD_RECIPIENT}onSwapsPage(){const{location:e}=this.props;return Boolean((0,o.matchPath)(e.pathname,{path:j.SWAPS_ROUTE,exact:!1}))}onSwapsBuildQuotePage(){const{location:e}=this.props;return Boolean((0,o.matchPath)(e.pathname,{path:j.BUILD_QUOTE_ROUTE,exact:!1}))}hideAppHeader(){const{location:e}=this.props;if(Boolean((0,o.matchPath)(e.pathname,{path:j.ONBOARDING_ROUTE,exact:!1}))&&!this.onInitializationUnlockPage())return!0;const t=(0,U.getEnvironmentType)();if(t===D.ENVIRONMENT_TYPE_NOTIFICATION)return!0;if(t===D.ENVIRONMENT_TYPE_POPUP&&this.onConfirmPage())return!0;const n=Boolean((0,o.matchPath)(e.pathname,{path:j.CONNECT_ROUTE,exact:!1})),a=Boolean((0,o.matchPath)(e.pathname,{path:j.CONFIRMATION_V_NEXT_ROUTE,exact:!1}));return n||a}showOnboardingHeader(){const{location:e}=this.props;return Boolean((0,o.matchPath)(e.pathname,{path:j.ONBOARDING_ROUTE,exact:!1}))}render(){const{isLoading:e,isUnlocked:t,alertMessage:n,textDirection:r,loadingMessage:o,isNetworkLoading:i,setMouseUserState:l,isMouseUser:c,browserEnvironmentOs:u,browserEnvironmentBrowser:d,isNetworkUsed:p,allAccountsOnNetworkAreEmpty:f,isTestNet:m,currentChainId:g,shouldShowSeedPhraseReminder:h,isCurrentProviderCustom:_,completedOnboarding:E,isAccountMenuOpen:y,toggleAccountMenu:b,isNetworkMenuOpen:v,toggleNetworkMenu:w,accountDetailsAddress:T,location:x,isImportNftsModalOpen:I,hideImportNftsModal:P}=this.props,A=o||i?this.getConnectingLabel(o):null,j=t&&g&&!m&&!p&&!_&&E&&f,L=(0,U.getEnvironmentType)()!==D.ENVIRONMENT_TYPE_NOTIFICATION&&t&&!h;return s.default.createElement("div",{className:(0,a.default)("app",{[`os-${u}`]:u,[`browser-${d}`]:d,"mouse-user-styles":c}),dir:r,onClick:()=>l(!0),onKeyDown:e=>{9===e.keyCode&&l(!1)}},L&&s.default.createElement(q.default,null),j&&s.default.createElement(G.default,null),s.default.createElement(B.default,null),s.default.createElement(N.Modal,null),s.default.createElement(S.default,{visible:this.props.alertOpen,msg:n}),!this.hideAppHeader()&&s.default.createElement(O.AppHeader,{location:x}),this.showOnboardingHeader()&&s.default.createElement(M.default,null),y?s.default.createElement(O.AccountListMenu,{onClose:()=>b()}):null,v?s.default.createElement(O.NetworkListMenu,{onClose:()=>w()}):null,T?s.default.createElement(O.AccountDetails,{address:T}):null,I?s.default.createElement(O.ImportNftsModal,{onClose:()=>P()}):null,s.default.createElement(K.Box,{className:"main-container-wrapper"},e?s.default.createElement(k.default,{loadingMessage:A}):null,!e&&i?s.default.createElement(C.default,null):null,this.renderRoutes()),t?s.default.createElement(R.default,{history:this.props.history}):null)}toggleMetamaskActive(){if(this.props.isUnlocked)this.props.lockMetaMask();else{const e=document.querySelector("input[type=password]");if(!e)return;e.focus()}}getConnectingLabel(e){if(e)return e;const{providerType:t,providerId:n}=this.props,{t:a}=this.context;switch(t){case L.NETWORK_TYPES.MAINNET:return a("connectingToMainnet");case L.NETWORK_TYPES.GOERLI:return a("connectingToGoerli");case L.NETWORK_TYPES.SEPOLIA:return a("connectingToSepolia");case L.NETWORK_TYPES.LINEA_GOERLI:return a("connectingToLineaGoerli");case L.NETWORK_TYPES.LINEA_MAINNET:return a("connectingToLineaMainnet");default:return a("connectingTo",[n])}}}n.default=Y,z(Y,"propTypes",{currentCurrency:r.default.string,setCurrentCurrencyToUSD:r.default.func,isLoading:r.default.bool,loadingMessage:r.default.string,alertMessage:r.default.string,textDirection:r.default.string,isNetworkLoading:r.default.bool,alertOpen:r.default.bool,isUnlocked:r.default.bool,setLastActiveTime:r.default.func,history:r.default.object,location:r.default.object,lockMetaMask:r.default.func,isMouseUser:r.default.bool,setMouseUserState:r.default.func,providerId:r.default.string,providerType:r.default.string,autoLockTimeLimit:r.default.number,pageChanged:r.default.func.isRequired,prepareToLeaveSwaps:r.default.func,browserEnvironmentOs:r.default.string,browserEnvironmentBrowser:r.default.string,theme:r.default.string,sendStage:r.default.string,isNetworkUsed:r.default.bool,allAccountsOnNetworkAreEmpty:r.default.bool,isTestNet:r.default.bool,currentChainId:r.default.string,shouldShowSeedPhraseReminder:r.default.bool,forgottenPassword:r.default.bool,isCurrentProviderCustom:r.default.bool,completedOnboarding:r.default.bool,isAccountMenuOpen:r.default.bool,toggleAccountMenu:r.default.func,isNetworkMenuOpen:r.default.bool,toggleNetworkMenu:r.default.func,accountDetailsAddress:r.default.string,isImportNftsModalOpen:r.default.bool.isRequired,hideImportNftsModal:r.default.func.isRequired}),z(Y,"contextTypes",{t:r.default.func,metricsEvent:r.default.func})}}},{package:"$root$",file:"ui/pages/routes/routes.component.js"}],[5271,{"../../../shared/constants/preferences":4326,"../../ducks/history/history":5041,"../../ducks/metamask/metamask":5044,"../../ducks/send":5046,"../../ducks/swaps/swaps":5048,"../../selectors":5449,"../../store/actions":5456,"./routes.component":5270,"react-redux":4008,"react-router-dom":4028,redux:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),s=e("react-router-dom"),o=e("redux"),i=e("../../selectors"),l=e("../../store/actions"),c=e("../../ducks/history/history"),u=e("../../ducks/swaps/swaps"),d=e("../../ducks/send"),p=e("../../ducks/metamask/metamask"),f=e("../../../shared/constants/preferences"),m=(a=e("./routes.component"))&&a.__esModule?a:{default:a};var g=(0,o.compose)(s.withRouter,(0,r.connect)((function(e){var t,n;const{appState:a}=e,{alertOpen:r,alertMessage:s,isLoading:o,loadingMessage:l}=a,{autoLockTimeLimit:c=f.DEFAULT_AUTO_LOCK_TIME_LIMIT}=(0,i.getPreferences)(e),{completedOnboarding:u}=e.metamask;return{alertOpen:r,alertMessage:s,textDirection:e.metamask.textDirection,isLoading:o,loadingMessage:l,isUnlocked:e.metamask.isUnlocked,isNetworkLoading:(0,i.isNetworkLoading)(e),currentCurrency:e.metamask.currentCurrency,isMouseUser:e.appState.isMouseUser,autoLockTimeLimit:c,browserEnvironmentOs:null===(t=e.metamask.browserEnvironment)||void 0===t?void 0:t.os,browserEnvironmentContainter:null===(n=e.metamask.browserEnvironment)||void 0===n?void 0:n.browser,providerId:(0,i.getNetworkIdentifier)(e),providerType:(0,p.getProviderConfig)(e).type,theme:(0,i.getTheme)(e),sendStage:(0,d.getSendStage)(e),isNetworkUsed:(0,i.getIsNetworkUsed)(e),allAccountsOnNetworkAreEmpty:(0,i.getAllAccountsOnNetworkAreEmpty)(e),isTestNet:(0,i.getIsTestnet)(e),currentChainId:(0,i.getCurrentChainId)(e),shouldShowSeedPhraseReminder:(0,i.getShouldShowSeedPhraseReminder)(e),forgottenPassword:e.metamask.forgottenPassword,isCurrentProviderCustom:(0,i.isCurrentProviderCustom)(e),completedOnboarding:u,isAccountMenuOpen:e.metamask.isAccountMenuOpen,isNetworkMenuOpen:e.metamask.isNetworkMenuOpen,accountDetailsAddress:e.appState.accountDetailsAddress,isImportNftsModalOpen:e.appState.importNftsModalOpen}}),(function(e){return{lockMetaMask:()=>e((0,l.lockMetamask)(!1)),setCurrentCurrencyToUSD:()=>e((0,l.setCurrentCurrency)("usd")),setMouseUserState:t=>e((0,l.setMouseUserState)(t)),setLastActiveTime:()=>e((0,l.setLastActiveTime)()),pageChanged:t=>e((0,c.pageChanged)(t)),prepareToLeaveSwaps:()=>e((0,u.prepareToLeaveSwaps)()),toggleAccountMenu:()=>e((0,l.toggleAccountMenu)()),toggleNetworkMenu:()=>e((0,l.toggleNetworkMenu)()),hideImportNftsModal:()=>e((0,l.hideImportNftsModal)())}})))(m.default);n.default=g}}},{package:"$root$",file:"ui/pages/routes/routes.container.js"}],[5272,{"../../../../shared/constants/metametrics":4323,"../../../../shared/constants/network":4324,"../../../../shared/constants/transaction":4336,"../../../../shared/modules/conversion.utils":4350,"../../../components/app/confirm-gas-display":4413,"../../../components/app/transaction-detail":4705,"../../../components/app/transaction-detail-item":4703,"../../../components/app/user-preferenced-currency-display":4718,"../../../components/ui/actionable-message":4886,"../../../components/ui/box":4889,"../../../components/ui/button":4893,"../../../components/ui/loading-heartbeat":4951,"../../../components/ui/typography":5021,"../../../contexts/gasFee":5028,"../../../contexts/i18n":5029,"../../../contexts/metametrics":5030,"../../../ducks/metamask/metamask":5044,"../../../ducks/send":5046,"../../../helpers/constants/common":5050,"../../../helpers/constants/design-system":5052,"../../../hooks/experiences/useRamps":5096,"../../../selectors":5449,"../../../store/actions":5456,"../send.constants":5308,"prop-types":3766,react:4043,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=M;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),s=R(e("prop-types")),o=e("../../../contexts/i18n"),i=e("../../../contexts/gasFee"),l=e("../../../helpers/constants/common"),c=R(e("../../../components/app/user-preferenced-currency-display")),u=R(e("../../../components/ui/typography")),d=R(e("../../../components/ui/button")),p=R(e("../../../components/ui/box")),f=e("../../../helpers/constants/design-system"),m=e("../../../../shared/constants/transaction"),g=R(e("../../../components/ui/loading-heartbeat")),h=R(e("../../../components/app/transaction-detail-item")),_=e("../../../components/app/confirm-gas-display"),E=e("../../../../shared/constants/network"),y=R(e("../../../components/app/transaction-detail")),b=R(e("../../../components/ui/actionable-message")),v=e("../../../selectors"),w=e("../send.constants"),T=e("../../../ducks/send"),k=e("../../../ducks/metamask/metamask"),C=e("../../../store/actions"),N=e("../../../../shared/modules/conversion.utils"),S=e("../../../../shared/constants/metametrics"),O=e("../../../contexts/metametrics"),x=R(e("../../../hooks/experiences/useRamps"));function R(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function M({gasError:e}){var t,n,s,R,I,M,P,A,j,D,L,U,F,W;const B=(0,a.useContext)(o.I18nContext),$=(0,r.useDispatch)(),{estimateUsed:q}=(0,i.useGasFeeContext)(),G=(0,a.useContext)(O.MetaMetricsContext),{openBuyCryptoInPdapp:H}=(0,x.default)(),K=(0,r.useSelector)(k.getProviderConfig),V=(0,r.useSelector)(v.getIsTestnet),Q=(0,r.useSelector)(v.getIsBuyableChain),z=(0,r.useSelector)(T.getCurrentDraftTransaction),Y=(0,r.useSelector)(v.getUseCurrencyRateCheck),{showFiatInTestnets:Z,useNativeCurrencyAsPrimaryCurrency:X}=(0,r.useSelector)(v.getPreferences),{unapprovedTxs:J}=(0,r.useSelector)((e=>e.metamask)),ee=(0,r.useSelector)(k.getNativeCurrency),{chainId:te}=K,ne=E.NETWORK_TO_NAME_MAP[te],ae=(null==z||null===(t=z.amount)||void 0===t?void 0:t.error)===w.INSUFFICIENT_TOKENS_ERROR,re=J[z.id],se=ne||K.nickname,oe={txParams:{gasPrice:null===(n=z.gas)||void 0===n?void 0:n.gasPrice,gas:null!=re&&re.userEditedGasLimit?null==re||null===(s=re.txParams)||void 0===s?void 0:s.gas:null===(R=z.gas)||void 0===R?void 0:R.gasLimit,maxFeePerGas:null!=re&&null!==(I=re.txParams)&&void 0!==I&&I.maxFeePerGas?null==re||null===(M=re.txParams)||void 0===M?void 0:M.maxFeePerGas:null===(P=z.gas)||void 0===P?void 0:P.maxFeePerGas,maxPriorityFeePerGas:null!=re&&null!==(A=re.txParams)&&void 0!==A&&A.maxPriorityFeePerGas?null==re||null===(j=re.txParams)||void 0===j?void 0:j.maxPriorityFeePerGas:null===(D=z.gas)||void 0===D?void 0:D.maxPriorityFeePerGas,value:null===(L=z.amount)||void 0===L?void 0:L.value,type:z.transactionType},userFeeLevel:null==re?void 0:re.userFeeLevel},{hexMaximumTransactionFee:ie,hexTransactionTotal:le}=(0,r.useSelector)((e=>(0,v.transactionFeeSelector)(e,oe)));let ce;var ue;if((null==z||null===(U=z.asset.details)||void 0===U?void 0:U.standard)===m.TokenStandard.ERC721||(null==z||null===(F=z.asset.details)||void 0===F?void 0:F.standard)===m.TokenStandard.ERC1155)ce=null==z||null===(ue=z.asset.details)||void 0===ue?void 0:ue.name;else if((null==z||null===(W=z.asset.details)||void 0===W?void 0:W.standard)===m.TokenStandard.ERC20){var de;ce=`${(0,N.hexWEIToDecETH)(z.amount.value)} ${null==z||null===(de=z.asset.details)||void 0===de?void 0:de.symbol}`}const pe=`${ce} + ${Number((0,N.hexWEIToDecETH)(ie))} ${ee}`,fe=Y&&(!V||Z);let me,ge;return"NATIVE"===(null==z?void 0:z.asset.type)?(me=a.default.createElement(p.default,{height:f.BLOCK_SIZES.MAX,display:f.DISPLAY.FLEX,flexDirection:f.FLEX_DIRECTION.COLUMN,className:"gas-display__total-value"},a.default.createElement(g.default,{estimateUsed:null==oe?void 0:oe.userFeeLevel}),a.default.createElement(c.default,{type:l.PRIMARY,key:"total-detail-value",value:le,hideLabel:!X})),ge=a.default.createElement(c.default,{type:l.PRIMARY,key:"total-max-amount",value:(0,N.addHexes)(z.amount.value,ie),hideLabel:!X})):X&&(me=pe,ge=pe),a.default.createElement(a.default.Fragment,null,a.default.createElement(p.default,{className:"gas-display"},a.default.createElement(y.default,{userAcknowledgedGasMissing:!1,rows:[a.default.createElement(_.ConfirmGasDisplay,{key:"gas-display"}),(e||ae)&&a.default.createElement(h.default,{key:"gas-display-total-item",detailTitle:B("total"),detailText:fe&&a.default.createElement(p.default,{height:f.BLOCK_SIZES.MAX,display:f.DISPLAY.FLEX,flexDirection:f.FLEX_DIRECTION.COLUMN,className:"gas-display__total-value"},a.default.createElement(g.default,{estimateUsed:null==oe?void 0:oe.userFeeLevel}),a.default.createElement(c.default,{type:l.SECONDARY,key:"total-detail-text",value:le,hideLabel:Boolean(X)})),detailTotal:me,subTitle:B("transactionDetailGasTotalSubtitle"),subText:a.default.createElement(p.default,{height:f.BLOCK_SIZES.MAX,display:f.DISPLAY.FLEX,flexDirection:f.FLEX_DIRECTION.COLUMN,className:"gas-display__total-amount"},a.default.createElement(g.default,{estimateUsed:(null==oe?void 0:oe.userFeeLevel)??q}),a.default.createElement("strong",{key:"editGasSubTextAmountLabel"},B("editGasSubTextAmountLabel"))," ",ge)})]})),(e||ae)&&se&&a.default.createElement(p.default,{className:"gas-display__warning-message","data-testid":"gas-warning-message"},a.default.createElement(p.default,{paddingTop:0,paddingRight:4,paddingBottom:4,paddingLeft:4,className:"gas-display__confirm-approve-content__warning"},a.default.createElement(b.default,{message:Q&&"NATIVE"===z.asset.type?a.default.createElement(u.default,{variant:f.TypographyVariant.H7,align:"left"},B("insufficientCurrencyBuyOrReceive",[ee,se,a.default.createElement(d.default,{type:"inline",className:"confirm-page-container-content__link",onClick:()=>{H(),G({event:S.MetaMetricsEventName.NavBuyButtonClicked,category:S.MetaMetricsEventCategory.Navigation,properties:{location:"Gas Warning Insufficient Funds",text:"Buy"}})},key:`${ee}-buy-button`},B("buyAsset",[ee])),a.default.createElement(d.default,{type:"inline",className:"gas-display__link",onClick:()=>$((0,C.showModal)({name:"ACCOUNT_DETAILS"})),key:"receive-button"},B("deposit"))])):a.default.createElement(u.default,{variant:f.TypographyVariant.H7,align:"left"},B("insufficientCurrencyBuyOrReceive",[ee,se,`${B("buyAsset",[ee])}`,a.default.createElement(d.default,{type:"inline",className:"gas-display__link",onClick:()=>$((0,C.showModal)({name:"ACCOUNT_DETAILS"})),key:"receive-button"},B("deposit"))])),useIcon:!0,iconFillColor:"var(--color-error-default)",type:"danger"}))))}M.propTypes={gasError:s.default.string}}}},{package:"$root$",file:"ui/pages/send/gas-display/gas-display.js"}],[5273,{"./gas-display":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./gas-display"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/send/gas-display/index.js"}],[5274,{"./send":5309},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./send"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/send/index.js"}],[5275,{"../../../../components/app/contact-list":4450,"../../../../components/app/contact-list/recipient-group/recipient-group.component":4451,"../../../../components/component-library/text/deprecated":4826,"../../../../components/ui/box":4889,"../../../../components/ui/confusable":4904,"../../../../components/ui/dialog":4911,"../../../../components/ui/identicon":4945,"../../../../helpers/constants/design-system":5052,"../../send.utils":5310,"fuse.js":3058,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=g(e("prop-types")),s=g(e("fuse.js")),o=g(e("../../../../components/ui/identicon")),i=g(e("../../../../components/ui/dialog")),l=g(e("../../../../components/app/contact-list")),c=g(e("../../../../components/app/contact-list/recipient-group/recipient-group.component")),u=e("../../send.utils"),d=g(e("../../../../components/ui/confusable")),p=e("../../../../components/component-library/text/deprecated"),f=g(e("../../../../components/ui/box")),m=e("../../../../helpers/constants/design-system");function g(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function _(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E extends a.Component{constructor(e){super(e),_(this,"selectRecipient",((e,t="",n="user input")=>{this.props.addHistoryEntry(`sendFlow - User clicked recipient from ${n}. address: ${e}, nickname ${t}`),this.props.updateRecipient({address:e,nickname:t}),this.props.updateRecipientUserInput(e)})),_(this,"searchForContacts",(()=>{const{userInput:e,contacts:t}=this.props;let n=t;return e&&(this.contactFuse.setCollection(t),n=this.contactFuse.search(e)),n})),_(this,"searchForRecents",(()=>{const{userInput:e,nonContacts:t}=this.props;let n=t;return e&&(this.recentFuse.setCollection(t),n=this.recentFuse.search(e)),n})),this.recentFuse=new s.default(e.nonContacts,{shouldSort:!0,threshold:.45,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:[{name:"address",weight:.5}]}),this.contactFuse=new s.default(e.contacts,{shouldSort:!0,threshold:.45,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:[{name:"name",weight:.5},{name:"address",weight:.5}]})}render(){const{domainResolution:e,recipient:t,userInput:n,addressBookEntryName:r,ownedAccounts:s=[]}=this.props;let o;return t.address?o=this.renderExplicitAddress(t.address,t.nickname,"validated user input"):e&&!t.error&&(o=this.renderExplicitAddress(e,r||n,"ENS resolution")),a.default.createElement(f.default,{className:"send__select-recipient-wrapper"},s&&s.length>1&&!n&&this.renderTransfer(),this.renderDialogs(),o||this.renderMain())}renderExplicitAddress(e,t,n){return a.default.createElement("div",{key:e,className:"send__select-recipient-wrapper__group-item",onClick:()=>this.selectRecipient(e,t,n)},a.default.createElement(o.default,{address:e,diameter:28}),a.default.createElement("div",{className:"send__select-recipient-wrapper__group-item__content"},a.default.createElement("div",{className:"send__select-recipient-wrapper__group-item__title"},t?a.default.createElement(d.default,{input:t}):(0,u.ellipsify)(e)),t&&a.default.createElement("div",{className:"send__select-recipient-wrapper__group-item__subtitle"},(0,u.ellipsify)(e))))}renderTransfer(){const{t:e}=this.context;let{ownedAccounts:t}=this.props;const{userInput:n}=this.props;return n&&(t=t.filter((e=>e.name.toLowerCase().indexOf(n.toLowerCase())>-1||e.address.toLowerCase().indexOf(n.toLowerCase())>-1))),a.default.createElement(a.default.Fragment,null,a.default.createElement(f.default,{marginLeft:4,marginRight:4,marginTop:2,marginBottom:2},a.default.createElement(p.Text,{variant:m.TextVariant.bodyLgMedium,color:m.TextColor.textAlternative},e("yourAccounts"))),a.default.createElement("div",{className:"send__select-recipient-wrapper__list"},a.default.createElement(c.default,{items:t,onSelect:(e,t)=>this.selectRecipient(e,t,"my accounts")})))}renderMain(){const{t:e}=this.context,{addressBook:t,userInput:n}=this.props;return a.default.createElement("div",{className:"send__select-recipient-wrapper__list"},t.length>0&&!n?a.default.createElement(f.default,{marginLeft:4,marginRight:4,marginTop:2,marginBottom:2},a.default.createElement(p.Text,{variant:m.TextVariant.bodyLgMedium,color:m.TextColor.textAlternative},e("contacts"))):null,a.default.createElement(l.default,{addressBook:t,searchForContacts:this.searchForContacts.bind(this),searchForRecents:this.searchForRecents.bind(this),selectRecipient:(e,t)=>{this.selectRecipient(e,t,(t?"contact":"recent")+" list")}}))}renderDialogs(){const{domainError:e,recipient:t,domainWarning:n}=this.props,{t:r}=this.context;return e||t.error&&"required"!==t.error?a.default.createElement(i.default,{type:"error",className:"send__error-dialog"},r(e??t.error)):n||t.warning?a.default.createElement(i.default,{type:"warning",className:"send__error-dialog"},r(n??t.warning)):null}}n.default=E,_(E,"propTypes",{userInput:r.default.string,ownedAccounts:r.default.array,addressBook:r.default.array,updateRecipient:r.default.func,domainResolution:r.default.string,domainError:r.default.string,domainWarning:r.default.string,addressBookEntryName:r.default.string,contacts:r.default.array,nonContacts:r.default.array,addHistoryEntry:r.default.func,recipient:r.default.shape({address:r.default.string,nickname:r.default.string,error:r.default.string,warning:r.default.string}),updateRecipientUserInput:r.default.func}),_(E,"contextTypes",{t:r.default.func,metricsEvent:r.default.func})}}},{package:"$root$",file:"ui/pages/send/send-content/add-recipient/add-recipient.component.js"}],[5276,{"../../../../ducks/domains":5038,"../../../../ducks/send":5046,"../../../../selectors":5449,"./add-recipient.component":5275,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),s=e("../../../../selectors"),o=e("../../../../ducks/send"),i=e("../../../../ducks/domains"),l=(a=e("./add-recipient.component"))&&a.__esModule?a:{default:a};var c=(0,r.connect)((function(e){const t=(0,i.getDomainResolution)(e);let n="";if(t){n=((0,s.getAddressBookEntry)(e,t)||{}).name}const a=(0,s.getAddressBook)(e),r=[...(0,s.currentNetworkTxListSelector)(e)].reverse(),l=a.filter((({name:e})=>!e)).map((e=>{const t=r.find((t=>t.txParams.to===e.address.toLowerCase()));return{...e,timestamp:null==t?void 0:t.time}}));l.sort(((e,t)=>t.timestamp-e.timestamp));const c=(0,s.getMetaMaskAccountsOrdered)(e);return{addressBook:a,addressBookEntryName:n,contacts:a.filter((({name:e})=>Boolean(e))),domainResolution:t,domainError:(0,i.getDomainError)(e),domainWarning:(0,i.getDomainWarning)(e),nonContacts:l,ownedAccounts:c,userInput:(0,o.getRecipientUserInput)(e),recipient:(0,o.getRecipient)(e)}}),(function(e){return{addHistoryEntry:t=>e((0,o.addHistoryEntry)(t)),updateRecipient:({address:t,nickname:n})=>e((0,o.updateRecipient)({address:t,nickname:n})),updateRecipientUserInput:t=>e((0,o.updateRecipientUserInput)(t)),useMyAccountsForRecipientSearch:()=>e((0,o.useMyAccountsForRecipientSearch)()),useContactListForRecipientSearch:()=>e((0,o.useContactListForRecipientSearch)())}}))(l.default);n.default=c}}},{package:"$root$",file:"ui/pages/send/send-content/add-recipient/add-recipient.container.js"}],[5277,{"../../../../../app/scripts/lib/util":82,"../../../../../shared/modules/hexstring-utils":4354,"../../../../components/component-library":4792,"../../../../helpers/constants/design-system":5052,"../../../../helpers/utils/util":5093,classnames:2376,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=d(e("prop-types")),s=d(e("classnames")),o=e("../../../../../app/scripts/lib/util"),i=e("../../../../helpers/utils/util"),l=e("../../../../../shared/modules/hexstring-utils"),c=e("../../../../components/component-library"),u=e("../../../../helpers/constants/design-system");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends a.Component{constructor(...e){super(...e),f(this,"onPaste",(e=>{var t;if(null!==(t=e.clipboardData.items)&&void 0!==t&&t.length){const t=e.clipboardData.items[0];null==t||t.getAsString((e=>{const t=e.trim();!(0,l.isBurnAddress)(t)&&(0,l.isValidHexAddress)(t,{mixedCaseUseChecksum:!0})&&this.props.onPaste((0,o.addHexPrefix)(t))}))}})),f(this,"onChange",(({target:{value:e}})=>{const{onValidAddressTyped:t,internalSearch:n,onChange:a,lookupEnsName:r,resetDomainResolution:s}=this.props,c=e.trim();return a(c),n||((0,i.isValidDomainName)(c)?r(c):(s(),t&&!(0,l.isBurnAddress)(c)&&(0,l.isValidHexAddress)(c,{mixedCaseUseChecksum:!0})&&t((0,o.addHexPrefix)(c)))),null}))}componentDidMount(){this.props.initializeDomainSlice()}render(){const{t:e}=this.context,{className:t,selectedAddress:n,selectedName:r,userInput:o}=this.props,i=Boolean(n);return a.default.createElement("div",{className:(0,s.default)("ens-input",t)},a.default.createElement("div",{className:(0,s.default)("ens-input__wrapper",{"ens-input__wrapper__status-icon--error":!1,"ens-input__wrapper__status-icon--valid":!1,"ens-input__wrapper--valid":i})},i?a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"ens-input__wrapper__input ens-input__wrapper__input--selected"},a.default.createElement("div",{className:"ens-input__selected-input__title"},r||n),r!==n&&a.default.createElement("div",{className:"ens-input__selected-input__subtitle"},n)),a.default.createElement(c.ButtonIcon,{iconName:c.IconName.Close,ariaLabel:e("close"),onClick:this.props.onReset,className:"ens-input__wrapper__action-icon-button",size:c.IconSize.Sm})):a.default.createElement(a.default.Fragment,null,a.default.createElement("input",{className:"ens-input__wrapper__input",type:"text",dir:"auto",placeholder:e("recipientAddressPlaceholder"),onChange:this.onChange,onPaste:this.onPaste,spellCheck:"false",value:n||o,autoFocus:!0,"data-testid":"ens-input"}),a.default.createElement(c.ButtonIcon,{className:"ens-input__wrapper__action-icon-button",onClick:()=>{o?this.props.onReset():this.props.scanQrCode()},iconName:o?c.IconName.Close:c.IconName.Scan,ariaLabel:e(o?"close":"scanQrCode"),color:o?u.IconColor.iconDefault:u.IconColor.primaryDefault}))))}}n.default=m,f(m,"contextTypes",{t:r.default.func,metricsEvent:r.default.func}),f(m,"propTypes",{className:r.default.string,selectedAddress:r.default.string,selectedName:r.default.string,scanQrCode:r.default.func,onPaste:r.default.func,onValidAddressTyped:r.default.func,internalSearch:r.default.bool,userInput:r.default.string,onChange:r.default.func.isRequired,onReset:r.default.func.isRequired,lookupEnsName:r.default.func.isRequired,initializeDomainSlice:r.default.func.isRequired,resetDomainResolution:r.default.func.isRequired})}}},{package:"$root$",file:"ui/pages/send/send-content/add-recipient/domain-input.component.js"}],[5278,{"../../../../ducks/domains":5038,"./domain-input.component":5277,lodash:3617,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("lodash"),s=e("react-redux"),o=e("../../../../ducks/domains"),i=(a=e("./domain-input.component"))&&a.__esModule?a:{default:a};var l=(0,s.connect)(null,(function(e){return{lookupEnsName:(0,r.debounce)((t=>e((0,o.lookupEnsName)(t))),150),initializeDomainSlice:()=>e((0,o.initializeDomainSlice)()),resetDomainResolution:(0,r.debounce)((()=>e((0,o.resetDomainResolution)())),300)}}))(i.default);n.default=l}}},{package:"$root$",file:"ui/pages/send/send-content/add-recipient/domain-input.container.js"}],[5279,{"./domain-input.container":5278},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./domain-input.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/send/send-content/add-recipient/domain-input.js"}],[5280,{"./add-recipient.container":5276},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./add-recipient.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/send/send-content/add-recipient/index.js"}],[5281,{"./send-content.container":5291},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./send-content.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/send/send-content/index.js"}],[5282,{"../../../../../../shared/constants/metametrics":4323,"../../../../../contexts/metametrics":5030,"../../../../../ducks/send":5046,"../../../../../hooks/useI18nContext":5116,classnames:2376,react:4043,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,o.useSelector)(i.isSendFormInvalid),t=(0,o.useSelector)(i.getSendMaxModeState),n=(0,o.useDispatch)(),a=(0,r.useContext)(c.MetaMetricsContext),d=(0,l.useI18nContext)(),p=e;return r.default.createElement("button",{className:"send-v2__amount-max",disabled:p,onClick:()=>{a({event:'Clicked "Amount Max"',category:u.MetaMetricsEventCategory.Transactions,properties:{action:"Edit Screen",legacy_event:!0}}),n((0,i.toggleSendMaxMode)())}},r.default.createElement("input",{type:"checkbox",checked:t,readOnly:!0}),r.default.createElement("div",{className:(0,s.default)("send-v2__amount-max__button",{"send-v2__amount-max__button__disabled":p})},d("max")))};var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),s=(a=e("classnames"))&&a.__esModule?a:{default:a},o=e("react-redux"),i=e("../../../../../ducks/send"),l=e("../../../../../hooks/useI18nContext"),c=e("../../../../../contexts/metametrics"),u=e("../../../../../../shared/constants/metametrics");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/send/send-content/send-amount-row/amount-max-button/amount-max-button.js"}],[5283,{"./amount-max-button":5282},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./amount-max-button"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/send/send-content/send-amount-row/amount-max-button/index.js"}],[5284,{"./send-amount-row.container":5286},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./send-amount-row.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/send/send-content/send-amount-row/index.js"}],[5285,{"../../../../../shared/constants/transaction":4336,"../../../../components/app/user-preferenced-currency-input":4720,"../../../../components/app/user-preferenced-token-input":4723,"../send-row-wrapper":5298,"./amount-max-button":5283,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=u(e("prop-types")),s=u(e("../send-row-wrapper")),o=u(e("../../../../components/app/user-preferenced-currency-input")),i=u(e("../../../../components/app/user-preferenced-token-input")),l=e("../../../../../shared/constants/transaction"),c=u(e("./amount-max-button"));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends a.Component{constructor(...e){super(...e),p(this,"handleChange",(e=>{this.props.updateSendAmount(e)}))}renderInput(){const{amount:e,inError:t,asset:n}=this.props;return n.type===l.AssetType.token?a.default.createElement(i.default,{error:t,onChange:this.handleChange,token:n.details,value:e}):a.default.createElement(o.default,{error:t,onChange:this.handleChange,hexValue:e})}render(){const{inError:e,asset:t}=this.props;return t.type===l.AssetType.NFT?null:a.default.createElement(s.default,{label:`${this.context.t("amount")}:`,showError:e,errorType:"amount"},a.default.createElement(c.default,{inError:e}),this.renderInput())}}n.default=f,p(f,"propTypes",{amount:r.default.string,inError:r.default.bool,asset:r.default.object,updateSendAmount:r.default.func}),p(f,"contextTypes",{t:r.default.func})}}},{package:"$root$",file:"ui/pages/send/send-content/send-amount-row/send-amount-row.component.js"}],[5286,{"../../../../ducks/send":5046,"./send-amount-row.component":5285,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),s=e("../../../../ducks/send"),o=(a=e("./send-amount-row.component"))&&a.__esModule?a:{default:a};var i=(0,r.connect)((function(e){return{amount:(0,s.getSendAmount)(e),inError:(0,s.sendAmountIsInError)(e),asset:(0,s.getSendAsset)(e)}}),(function(e){return{updateSendAmount:t=>e((0,s.updateSendAmount)(t))}}))(o.default);n.default=i}}},{package:"$root$",file:"ui/pages/send/send-content/send-amount-row/send-amount-row.container.js"}],[5287,{"./send-asset-row.container":5289},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./send-asset-row.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/send/send-content/send-asset-row/index.js"}],[5288,{"../../../../../shared/constants/metametrics":4323,"../../../../../shared/constants/transaction":4336,"../../../../../shared/modules/string-utils":4363,"../../../../components/app/token-list-display":4675,"../../../../components/app/user-preferenced-currency-display":4718,"../../../../components/component-library/text/deprecated":4826,"../../../../components/ui/identicon":4945,"../../../../components/ui/token-balance":5012,"../../../../helpers/constants/common":5050,"../../../../helpers/constants/design-system":5052,"../send-row-wrapper":5298,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=h(e("prop-types")),s=h(e("../send-row-wrapper")),o=h(e("../../../../components/ui/identicon")),i=h(e("../../../../components/ui/token-balance")),l=h(e("../../../../components/app/token-list-display")),c=h(e("../../../../components/app/user-preferenced-currency-display")),u=e("../../../../helpers/constants/common"),d=e("../../../../../shared/modules/string-utils"),p=e("../../../../../shared/constants/metametrics"),f=e("../../../../../shared/constants/transaction"),m=e("../../../../components/component-library/text/deprecated"),g=e("../../../../helpers/constants/design-system");function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function E(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends a.Component{constructor(...e){super(...e),E(this,"state",{isShowingDropdown:!1,sendableTokens:[],sendableNfts:[]}),E(this,"openDropdown",(()=>this.setState({isShowingDropdown:!0}))),E(this,"closeDropdown",(()=>this.setState({isShowingDropdown:!1}))),E(this,"getAssetSelected",((e,t)=>{switch(e){case f.AssetType.native:return this.props.nativeCurrency;case f.AssetType.token:return f.TokenStandard.ERC20;case f.AssetType.NFT:return null==t?void 0:t.standard;default:return null}})),E(this,"selectToken",((e,t)=>{this.setState({isShowingDropdown:!1},(()=>{this.context.trackEvent({category:p.MetaMetricsEventCategory.Transactions,event:'User clicks "Assets" dropdown',properties:{action:"Send Screen",legacy_event:!0,assetSelected:this.getAssetSelected(e,t)}}),this.props.updateSendAsset({type:e,details:e===f.AssetType.native?null:t})}))}))}async componentDidMount(){const e=this.props.tokens.filter((e=>!e.isERC721)),t=this.props.nfts.filter((e=>e.isCurrentlyOwned&&e.standard===f.TokenStandard.ERC721));this.setState({sendableTokens:e,sendableNfts:t})}render(){const{t:e}=this.context;return a.default.createElement(s.default,{label:`${e("asset")}:`},a.default.createElement("div",{className:"send-v2__asset-dropdown"},a.default.createElement("div",{className:"send-v2__asset-dropdown__input-wrapper",onClick:this.openDropdown},this.renderSendAsset()),[...this.state.sendableTokens,...this.state.sendableNfts].length>0?this.renderAssetDropdown():null))}renderSendAsset(){const{sendAsset:{details:e,type:t},tokens:n,nfts:a}=this.props;if(t===f.AssetType.token){const t=n.find((({address:t})=>(0,d.isEqualCaseInsensitive)(t,e.address)));return t?this.renderToken(t):this.renderToken(e)}if(t===f.AssetType.NFT){const t=a.find((({address:t,tokenId:n})=>(0,d.isEqualCaseInsensitive)(t,e.address)&&n===e.tokenId));if(t||e)return this.renderNft(t??e)}return this.renderNativeCurrency()}renderAssetDropdown(){return this.state.isShowingDropdown&&a.default.createElement("div",null,a.default.createElement("div",{className:"send-v2__asset-dropdown__close-area",onClick:this.closeDropdown}),a.default.createElement("div",{className:"send-v2__asset-dropdown__list"},this.renderNativeCurrency(!0),a.default.createElement(l.default,{clickHandler:e=>this.selectToken(f.AssetType.token,e)}),this.state.sendableNfts.map((e=>this.renderNft(e,!0)))))}renderNativeCurrency(e=!1){const{t:t}=this.context,{accounts:n,selectedAddress:r,nativeCurrency:s,nativeCurrencyImage:i}=this.props,{sendableTokens:l,sendableNfts:d}=this.state,p=n[r]?n[r].balance:"",m=[...l,...d];return a.default.createElement("div",{className:m.length>0?"send-v2__asset-dropdown__asset":"send-v2__asset-dropdown__single-asset",onClick:()=>this.selectToken(f.AssetType.native)},a.default.createElement("div",{className:"send-v2__asset-dropdown__asset-icon"},a.default.createElement(o.default,{diameter:36,image:i,address:s})),a.default.createElement("div",{className:"send-v2__asset-dropdown__asset-data"},a.default.createElement("div",{className:"send-v2__asset-dropdown__symbol"},s),a.default.createElement("div",{className:"send-v2__asset-dropdown__name"},a.default.createElement("span",{className:"send-v2__asset-dropdown__name__label"},`${t("balance")}:`),a.default.createElement(c.default,{value:p,type:u.PRIMARY}))),!e&&m.length>0&&a.default.createElement("i",{className:"fa fa-caret-down fa-lg send-v2__asset-dropdown__caret"}))}renderToken(e,t=!1){const{address:n,symbol:r,image:s}=e,{t:l}=this.context;return a.default.createElement("div",{key:n,className:"send-v2__asset-dropdown__asset",onClick:()=>this.selectToken(f.AssetType.token,e)},a.default.createElement("div",{className:"send-v2__asset-dropdown__asset-icon"},a.default.createElement(o.default,{address:n,diameter:36,image:s})),a.default.createElement("div",{className:"send-v2__asset-dropdown__asset-data"},a.default.createElement("div",{className:"send-v2__asset-dropdown__symbol"},r),a.default.createElement("div",{className:"send-v2__asset-dropdown__name"},a.default.createElement("span",{className:"send-v2__asset-dropdown__name__label"},`${l("balance")}:`),a.default.createElement(i.default,{token:e}))),!t&&a.default.createElement("i",{className:"fa fa-caret-down fa-lg send-v2__asset-dropdown__caret"}))}renderNft(e,t=!1){const{address:n,name:r,image:s,tokenId:i}=e,{t:l}=this.context,c=this.props.collections.find((e=>e.address===n)),u=(null==c?void 0:c.name)||r;return a.default.createElement("div",{key:n,className:"send-v2__asset-dropdown__asset",onClick:()=>this.selectToken(f.AssetType.NFT,e)},a.default.createElement("div",{className:"send-v2__asset-dropdown__asset-icon"},a.default.createElement(o.default,{address:n,diameter:36,image:s})),a.default.createElement("div",{className:"send-v2__asset-dropdown__asset-data"},a.default.createElement("div",{className:"send-v2__asset-dropdown__symbol",title:u},u),a.default.createElement(m.Text,{variant:g.TextVariant.bodyXs,ellipsis:!0,title:i},`${l("tokenId")}: ${i}`)),!t&&a.default.createElement("i",{className:"fa fa-caret-down fa-lg send-v2__asset-dropdown__caret"}))}}n.default=y,E(y,"propTypes",{tokens:r.default.arrayOf(r.default.shape({address:r.default.string,decimals:r.default.oneOfType([r.default.string,r.default.number]),symbol:r.default.string,image:r.default.string})).isRequired,accounts:r.default.object.isRequired,selectedAddress:r.default.string.isRequired,sendAsset:r.default.object,updateSendAsset:r.default.func.isRequired,nativeCurrency:r.default.string,nativeCurrencyImage:r.default.string,nfts:r.default.arrayOf(r.default.shape({address:r.default.string.isRequired,tokenId:r.default.string.isRequired,name:r.default.string,description:r.default.string,image:r.default.string,standard:r.default.string,imageThumbnail:r.default.string,imagePreview:r.default.string,creator:r.default.shape({address:r.default.string,config:r.default.string,profile_img_url:r.default.string})})),collections:r.default.arrayOf(r.default.shape({address:r.default.string.isRequired,name:r.default.string}))}),E(y,"contextTypes",{t:r.default.func,trackEvent:r.default.func})}}},{package:"$root$",file:"ui/pages/send/send-content/send-asset-row/send-asset-row.component.js"}],[5289,{"../../../../ducks/metamask/metamask":5044,"../../../../ducks/send":5046,"../../../../selectors":5449,"./send-asset-row.component":5288,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),s=e("../../../../ducks/metamask/metamask"),o=e("../../../../selectors"),i=e("../../../../ducks/send"),l=(a=e("./send-asset-row.component"))&&a.__esModule?a:{default:a};var c=(0,r.connect)((function(e){return{tokens:e.metamask.tokens,selectedAddress:e.metamask.selectedAddress,nfts:(0,s.getNfts)(e),collections:(0,s.getNftContracts)(e),sendAsset:(0,i.getSendAsset)(e),accounts:(0,o.getMetaMaskAccounts)(e),nativeCurrency:(0,s.getNativeCurrency)(e),nativeCurrencyImage:(0,o.getNativeCurrencyImage)(e)}}),(function(e){return{updateSendAsset:({type:t,details:n})=>e((0,i.updateSendAsset)({type:t,details:n}))}}))(l.default);n.default=c}}},{package:"$root$",file:"ui/pages/send/send-content/send-asset-row/send-asset-row.container.js"}],[5290,{"../../../../shared/constants/transaction":4336,"../../../components/ui/actionable-message":4886,"../../../components/ui/dialog":4911,"../../../components/ui/page-container/page-container-content.component":4974,"../../../helpers/constants/common":5050,"../../../helpers/constants/error-keys":5053,"../gas-display":5273,"./send-amount-row":5284,"./send-asset-row":5287,"./send-gas-row":5292,"./send-hex-data-row":5295,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=h(e("prop-types")),s=h(e("../../../components/ui/page-container/page-container-content.component")),o=h(e("../../../components/ui/dialog")),i=h(e("../../../components/ui/actionable-message")),l=e("../../../helpers/constants/error-keys"),c=e("../../../../shared/constants/transaction"),u=e("../../../helpers/constants/common"),d=h(e("../gas-display")),p=h(e("./send-amount-row")),f=h(e("./send-hex-data-row")),m=h(e("./send-asset-row")),g=h(e("./send-gas-row"));function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function E(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends a.Component{render(){const{warning:e,error:t,gasIsExcessive:n,isEthGasPrice:r,noGasPrice:o,networkOrAccountNotSupports1559:i,asset:u,assetError:h,recipient:_,recipientWarningAcknowledged:E,isMultiLayerFeeNetwork:y}=this.props;let b;n?b=l.GAS_PRICE_EXCESSIVE_ERROR_KEY:o&&(b=l.GAS_PRICE_FETCH_FAILURE_ERROR_KEY);const v=this.props.showHexData&&u.type!==c.AssetType.token&&u.type!==c.AssetType.NFT,w="knownAddressRecipient"===_.warning;return a.default.createElement(s.default,null,a.default.createElement("div",{className:"send-v2__form"},h?this.renderError(h):null,r?this.renderWarning(l.ETH_GAS_PRICE_FETCH_WARNING_KEY):null,t?this.renderError(t):null,e?this.renderWarning():null,w&&!E?this.renderRecipientWarning():null,a.default.createElement(m.default,null),a.default.createElement(p.default,null),i?a.default.createElement(g.default,null):null,v?a.default.createElement(f.default,null):null,!y&&a.default.createElement(d.default,{gasError:b})))}renderWarning(e=""){const{t:t}=this.context,{warning:n}=this.props;return a.default.createElement(o.default,{type:"warning",className:"send__error-dialog"},t(""===e?n:e))}renderRecipientWarning(){const{acknowledgeRecipientWarning:e}=this.props,{t:t}=this.context;return a.default.createElement("div",{className:"send__warning-container","data-testid":"send-warning"},a.default.createElement(i.default,{type:"danger",useIcon:!0,iconFillColor:"var(--color-error-default)",primaryActionV2:{label:t("tooltipApproveButton"),onClick:e},message:t("sendingToTokenContractWarning",[a.default.createElement("a",{key:"contractWarningSupport",target:"_blank",rel:"noopener noreferrer",className:"send__warning-container__link",href:u.CONTRACT_ADDRESS_LINK},t("learnMoreUpperCase"))]),roundedButtons:!0}))}renderError(e){const{t:t}=this.context;return a.default.createElement(o.default,{type:"error",className:"send__error-dialog"},t(e))}}n.default=y,E(y,"contextTypes",{t:r.default.func}),E(y,"propTypes",{showHexData:r.default.bool,warning:r.default.string,error:r.default.string,gasIsExcessive:r.default.bool.isRequired,isEthGasPrice:r.default.bool,noGasPrice:r.default.bool,networkOrAccountNotSupports1559:r.default.bool,asset:r.default.object,assetError:r.default.string,recipient:r.default.object,acknowledgeRecipientWarning:r.default.func,recipientWarningAcknowledged:r.default.bool,isMultiLayerFeeNetwork:r.default.bool})}}},{package:"$root$",file:"ui/pages/send/send-content/send-content.component.js"}],[5291,{"../../../ducks/send":5046,"../../../selectors":5449,"./send-content.component":5290,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),s=e("../../../selectors"),o=e("../../../ducks/send"),i=(a=e("./send-content.component"))&&a.__esModule?a:{default:a};var l=(0,r.connect)((function(e){const t=(0,o.getRecipient)(e),n=(0,o.getRecipientWarningAcknowledgement)(e);return{isEthGasPrice:(0,s.getIsEthGasPriceFetched)(e),noGasPrice:(0,s.getNoGasPriceFetched)(e),networkOrAccountNotSupports1559:(0,s.checkNetworkOrAccountNotSupports1559)(e),getIsBalanceInsufficient:(0,o.getIsBalanceInsufficient)(e),asset:(0,o.getSendAsset)(e),assetError:(0,o.getAssetError)(e),recipient:t,recipientWarningAcknowledged:n,isMultiLayerFeeNetwork:(0,s.getIsMultiLayerFeeNetwork)(e)}}),(function(e){return{acknowledgeRecipientWarning:()=>e((0,o.acknowledgeRecipientWarning)())}}))(i.default);n.default=l}}},{package:"$root$",file:"ui/pages/send/send-content/send-content.container.js"}],[5292,{"./send-gas-row.container":5294},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./send-gas-row.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/send/send-content/send-gas-row/index.js"}],[5293,{"../../../../components/app/advanced-gas-inputs":4392,"../../../../ducks/send":5046,"../send-row-wrapper":5298,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=l(e("prop-types")),s=l(e("../send-row-wrapper")),o=l(e("../../../../components/app/advanced-gas-inputs")),i=e("../../../../ducks/send");function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends a.Component{render(){const{updateGasPrice:e,updateGasLimit:t,gasPrice:n,gasLimit:r,insufficientBalance:l,minimumGasLimit:c,gasInputMode:u}=this.props;return u!==i.GAS_INPUT_MODES.INLINE?null:a.default.createElement(s.default,null,a.default.createElement(o.default,{updateCustomGasPrice:e,updateCustomGasLimit:t,customGasPrice:n,customGasLimit:r,insufficientBalance:l,minimumGasLimit:c,customPriceIsSafe:!0,isSpeedUp:!1}))}}n.default=d,u(d,"propTypes",{updateGasPrice:r.default.func,updateGasLimit:r.default.func,gasInputMode:r.default.oneOf(Object.values(i.GAS_INPUT_MODES)),gasPrice:r.default.string,gasLimit:r.default.string,insufficientBalance:r.default.bool,minimumGasLimit:r.default.string}),u(d,"contextTypes",{t:r.default.func,trackEvent:r.default.func})}}},{package:"$root$",file:"ui/pages/send/send-content/send-gas-row/send-gas-row.component.js"}],[5294,{"../../../../../shared/modules/conversion.utils":4350,"../../../../ducks/gas/gas.duck":5040,"../../../../ducks/send":5046,"./send-gas-row.component":5293,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),s=e("../../../../ducks/send"),o=e("../../../../ducks/gas/gas.duck"),i=e("../../../../../shared/modules/conversion.utils"),l=(a=e("./send-gas-row.component"))&&a.__esModule?a:{default:a};var c=(0,r.connect)((function(e){const t=(0,s.getGasPrice)(e),n=(0,s.getGasLimit)(e),a=(0,s.getMinimumGasLimitForSend)(e);return{minimumGasLimit:(0,i.hexToDecimal)(a),gasFeeError:(0,s.gasFeeIsInError)(e),gasLoadingError:(0,s.isSendStateInitialized)(e),gasInputMode:(0,s.getGasInputMode)(e),gasPrice:t,gasLimit:n,insufficientBalance:(0,s.getIsBalanceInsufficient)(e)}}),(function(e){return{updateGasPrice:t=>{e((0,s.updateGasPrice)(t)),e((0,o.setCustomGasPrice)(t))},updateGasLimit:t=>{e((0,s.updateGasLimit)(t)),e((0,o.setCustomGasLimit)(t))}}}))(l.default);n.default=c}}},{package:"$root$",file:"ui/pages/send/send-content/send-gas-row/send-gas-row.container.js"}],[5295,{"./send-hex-data-row.container":5297},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./send-hex-data-row.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/send/send-content/send-hex-data-row/index.js"}],[5296,{"../send-row-wrapper":5298,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=o(e("prop-types")),s=o(e("../send-row-wrapper"));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends a.Component{constructor(...e){super(...e),l(this,"onInput",(e=>{const{updateSendHexData:t}=this.props;t(e.target.value.replace(/\n/gu,"")||null)}))}render(){const{inError:e,data:t}=this.props,{t:n}=this.context;return a.default.createElement(s.default,{label:`${n("hexData")}:`,showError:e,errorType:"amount"},a.default.createElement("textarea",{onInput:this.onInput,placeholder:n("optional"),className:"send-v2__hex-data__input",defaultValue:t||""}))}}n.default=c,l(c,"propTypes",{inError:r.default.bool,data:r.default.string,updateSendHexData:r.default.func.isRequired}),l(c,"contextTypes",{t:r.default.func})}}},{package:"$root$",file:"ui/pages/send/send-content/send-hex-data-row/send-hex-data-row.component.js"}],[5297,{"../../../../ducks/send":5046,"./send-hex-data-row.component":5296,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),s=e("../../../../ducks/send"),o=(a=e("./send-hex-data-row.component"))&&a.__esModule?a:{default:a};var i=(0,r.connect)((function(e){return{data:(0,s.getSendHexData)(e)}}),(function(e){return{updateSendHexData:t=>e((0,s.updateSendHexData)(t))}}))(o.default);n.default=i}}},{package:"$root$",file:"ui/pages/send/send-content/send-hex-data-row/send-hex-data-row.container.js"}],[5298,{"./send-row-wrapper.component":5302},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./send-row-wrapper.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/send/send-content/send-row-wrapper/index.js"}],[5299,{"./send-row-error-message.container":5301},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./send-row-error-message.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/send/send-content/send-row-wrapper/send-row-error-message/index.js"}],[5300,{classnames:2376,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=o(e("prop-types")),s=o(e("classnames"));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends a.Component{render(){const{errors:e,errorType:t}=this.props,n=e[t];return n?a.default.createElement("div",{className:(0,s.default)("send-v2__error",{"send-v2__error-amount":"amount"===t})},this.context.t(n)):null}}n.default=c,l(c,"propTypes",{errors:r.default.object,errorType:r.default.string}),l(c,"contextTypes",{t:r.default.func})}}},{package:"$root$",file:"ui/pages/send/send-content/send-row-wrapper/send-row-error-message/send-row-error-message.component.js"}],[5301,{"../../../../../ducks/send":5046,"./send-row-error-message.component":5300,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),s=e("../../../../../ducks/send"),o=(a=e("./send-row-error-message.component"))&&a.__esModule?a:{default:a};var i=(0,r.connect)((function(e,t){return{errors:(0,s.getSendErrors)(e),errorType:t.errorType}}))(o.default);n.default=i}}},{package:"$root$",file:"ui/pages/send/send-content/send-row-wrapper/send-row-error-message/send-row-error-message.container.js"}],[5302,{"./send-row-error-message":5299,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=o(e("prop-types")),s=o(e("./send-row-error-message"));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends a.Component{renderAmountFormRow(){const{children:e,errorType:t="",label:n,showError:r=!1}=this.props,o=Array.isArray(e)?e[1]||e[0]:e,i=e.length>1?e[0]:null;return a.default.createElement("div",{className:"send-v2__form-row"},a.default.createElement("div",{className:"send-v2__form-label"},n,i),a.default.createElement("div",{className:"send-v2__form-field-container"},a.default.createElement("div",{className:"send-v2__form-field"},o),a.default.createElement("div",null,r?a.default.createElement(s.default,{errorType:t}):null)))}renderFormRow(){const{children:e,errorType:t="",label:n,showError:r=!1}=this.props,o=Array.isArray(e)?e[1]||e[0]:e,i=(Array.isArray(e)&&e.length)>1?e[0]:null;return a.default.createElement("div",{className:"send-v2__form-row"},a.default.createElement("div",{className:"send-v2__form-label"},n,r?a.default.createElement(s.default,{errorType:t}):null,i),a.default.createElement("div",{className:"send-v2__form-field"},o))}render(){const{errorType:e=""}=this.props;return"amount"===e?this.renderAmountFormRow():this.renderFormRow()}}n.default=c,l(c,"propTypes",{children:r.default.node,errorType:r.default.string,label:r.default.string,showError:r.default.bool}),l(c,"contextTypes",{t:r.default.func})}}},{package:"$root$",file:"ui/pages/send/send-content/send-row-wrapper/send-row-wrapper.component.js"}],[5303,{"./send-footer.container":5305},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./send-footer.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/send/send-footer/index.js"}],[5304,{"../../../../shared/constants/metametrics":4323,"../../../components/ui/page-container/page-container-footer":4975,"../../../ducks/send":5046,"../../../helpers/constants/routes":5057,"../send.constants":5308,lodash:3617,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=d(e("prop-types")),s=e("lodash"),o=d(e("../../../components/ui/page-container/page-container-footer")),i=e("../../../helpers/constants/routes"),l=e("../../../../shared/constants/metametrics"),c=e("../../../ducks/send"),u=e("../send.constants");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends a.Component{onCancel(){const{cancelTx:e,draftTransactionID:t,history:n,mostRecentOverviewPage:a,resetSendState:r,sendStage:s}=this.props;t&&e({id:t}),r();const o=s===c.SEND_STAGES.EDIT?i.DEFAULT_ROUTE:a;n.push(o)}async onSubmit(e){e.preventDefault();const{sign:t,history:n}=this.props,{trackEvent:a}=this.context,r=t();Promise.resolve(r).then((()=>{a({category:l.MetaMetricsEventCategory.Transactions,event:"Complete",properties:{action:"Edit Screen",legacy_event:!0}}),n.push(i.CONFIRM_TRANSACTION_ROUTE)}))}componentDidUpdate(e){const{sendErrors:t}=this.props,{trackEvent:n}=this.context;if(Object.keys(t).length>0&&!1===(0,s.isEqual)(t,e.sendErrors)){const e=Object.keys(t).find((e=>t[e])),a=t[e];n({category:l.MetaMetricsEventCategory.Transactions,event:"Error",properties:{action:"Edit Screen",legacy_event:!0,errorField:e,errorMessage:a}})}}render(){const{t:e}=this.context,{sendStage:t,sendErrors:n}=this.props;return a.default.createElement(o.default,{onCancel:()=>this.onCancel(),onSubmit:e=>this.onSubmit(e),disabled:this.props.disabled&&n.gasFee!==u.INSUFFICIENT_FUNDS_ERROR,cancelText:t===c.SEND_STAGES.EDIT?e("reject"):e("cancel")})}}n.default=m,f(m,"propTypes",{resetSendState:r.default.func,disabled:r.default.bool.isRequired,history:r.default.object,sign:r.default.func,sendStage:r.default.string,sendErrors:r.default.object,mostRecentOverviewPage:r.default.string.isRequired,cancelTx:r.default.func,draftTransactionID:r.default.string}),f(m,"contextTypes",{t:r.default.func,trackEvent:r.default.func})}}},{package:"$root$",file:"ui/pages/send/send-footer/send-footer.component.js"}],[5305,{"../../../ducks/history/history":5041,"../../../ducks/metamask/metamask":5044,"../../../ducks/send":5046,"../../../store/actions":5456,"./send-footer.component":5304,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),s=e("../../../store/actions"),o=e("../../../ducks/send"),i=e("../../../ducks/history/history"),l=e("../../../ducks/metamask/metamask"),c=(a=e("./send-footer.component"))&&a.__esModule?a:{default:a};var u=(0,r.connect)((function(e){return{disabled:(0,o.isSendFormInvalid)(e),to:(0,o.getSendTo)(e),toAccounts:(0,l.getSendToAccounts)(e),sendStage:(0,o.getSendStage)(e),sendErrors:(0,o.getSendErrors)(e),draftTransactionID:(0,o.getDraftTransactionID)(e),mostRecentOverviewPage:(0,i.getMostRecentOverviewPage)(e)}}),(function(e){return{resetSendState:()=>e((0,o.resetSendState)()),cancelTx:t=>e((0,s.cancelTx)(t)),sign:()=>e((0,o.signTransaction)())}}))(c.default);n.default=u}}},{package:"$root$",file:"ui/pages/send/send-footer/send-footer.container.js"}],[5306,{"./send-header.component":5307},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./send-header.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/send/send-header/index.js"}],[5307,{"../../../../shared/constants/transaction":4336,"../../../components/ui/page-container/page-container-header":4977,"../../../ducks/history/history":5041,"../../../ducks/send":5046,"../../../hooks/useI18nContext":5116,react:4043,"react-redux":4008,"react-router-dom":4028},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,r.useHistory)(),t=(0,s.useSelector)(i.getMostRecentOverviewPage),n=(0,s.useDispatch)(),d=(0,s.useSelector)(c.getSendStage),p=(0,s.useSelector)(c.getSendAsset),f=(0,l.useI18nContext)(),m=(0,s.useSelector)(c.getDraftTransactionExists);let g=(null==p?void 0:p.type)===u.AssetType.native?f("send"):f("sendTokens");!1===m||[c.SEND_STAGES.ADD_RECIPIENT,c.SEND_STAGES.INACTIVE].includes(d)?g=f("sendTo"):d===c.SEND_STAGES.EDIT&&(g=f("edit"));return a.default.createElement(o.default,{className:"send__header",onClose:()=>{n((0,c.resetSendState)()),e.push(t)},title:g,headerCloseText:d===c.SEND_STAGES.EDIT?f("cancelEdit"):f("cancel"),hideClose:d===c.SEND_STAGES.DRAFT})};var a=d(e("react")),r=e("react-router-dom"),s=e("react-redux"),o=d(e("../../../components/ui/page-container/page-container-header")),i=e("../../../ducks/history/history"),l=e("../../../hooks/useI18nContext"),c=e("../../../ducks/send"),u=e("../../../../shared/constants/transaction");function d(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/send/send-header/send-header.component.js"}],[5308,{"../../../shared/constants/common":4318,"../../../shared/constants/gas":4319,"../../../shared/modules/Numeric":4346},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TOKEN_TRANSFER_FUNCTION_SIGNATURE=n.REQUIRED_ERROR=n.RECIPIENT_TYPES=n.NFT_TRANSFER_FROM_FUNCTION_SIGNATURE=n.NEGATIVE_ETH_ERROR=n.MIN_GAS_TOTAL=n.MIN_GAS_PRICE_HEX=n.MIN_GAS_PRICE_GWEI=n.MIN_GAS_PRICE_DEC=n.MIN_GAS_LIMIT_DEC=n.MAX_GAS_LIMIT_DEC=n.KNOWN_RECIPIENT_ADDRESS_WARNING=n.INVALID_RECIPIENT_ADDRESS_NOT_ETH_NETWORK_ERROR=n.INVALID_RECIPIENT_ADDRESS_ERROR=n.INSUFFICIENT_TOKENS_ERROR=n.INSUFFICIENT_FUNDS_FOR_GAS_ERROR=n.INSUFFICIENT_FUNDS_ERROR=n.HIGH_FEE_WARNING_MULTIPLIER=n.ENS_UNKNOWN_ERROR=n.ENS_REGISTRATION_ERROR=n.ENS_NO_ADDRESS_FOR_NAME=n.ENS_NOT_SUPPORTED_ON_NETWORK=n.ENS_NOT_FOUND_ON_NETWORK=n.ENS_ILLEGAL_CHARACTER=n.CONTRACT_ADDRESS_ERROR=n.CONFUSING_ENS_ERROR=void 0;var a=e("../../../shared/constants/gas"),r=e("../../../shared/modules/Numeric"),s=e("../../../shared/constants/common");n.MIN_GAS_PRICE_DEC="0";const o=parseInt("0",10).toString(16);n.MIN_GAS_PRICE_HEX=o;const i=new r.Numeric("21000",10);n.MIN_GAS_LIMIT_DEC=i;n.MAX_GAS_LIMIT_DEC="7920027";n.HIGH_FEE_WARNING_MULTIPLIER=1.5;const l=new r.Numeric(o,16,s.EtherDenomination.WEI).toDenomination(s.EtherDenomination.GWEI).round(1).toPrefixedHexString();n.MIN_GAS_PRICE_GWEI=l;const c=new r.Numeric(a.MIN_GAS_LIMIT_HEX,16).times(new r.Numeric(o,16,s.EtherDenomination.WEI)).toPrefixedHexString();n.MIN_GAS_TOTAL=c;n.TOKEN_TRANSFER_FUNCTION_SIGNATURE="0xa9059cbb";n.NFT_TRANSFER_FROM_FUNCTION_SIGNATURE="0x23b872dd";n.INSUFFICIENT_FUNDS_ERROR="insufficientFunds";n.INSUFFICIENT_FUNDS_FOR_GAS_ERROR="insufficientFundsForGas";n.INSUFFICIENT_TOKENS_ERROR="insufficientTokens";n.NEGATIVE_ETH_ERROR="negativeETH";n.INVALID_RECIPIENT_ADDRESS_ERROR="invalidAddressRecipient";n.INVALID_RECIPIENT_ADDRESS_NOT_ETH_NETWORK_ERROR="invalidAddressRecipientNotEthNetwork";n.REQUIRED_ERROR="required";n.KNOWN_RECIPIENT_ADDRESS_WARNING="knownAddressRecipient";n.CONTRACT_ADDRESS_ERROR="contractAddressError";n.CONFUSING_ENS_ERROR="confusingEnsDomain";n.ENS_NO_ADDRESS_FOR_NAME="noAddressForName";n.ENS_NOT_FOUND_ON_NETWORK="ensNotFoundOnCurrentNetwork";n.ENS_NOT_SUPPORTED_ON_NETWORK="ensNotSupportedOnNetwork";n.ENS_ILLEGAL_CHARACTER="ensIllegalCharacter";n.ENS_UNKNOWN_ERROR="ensUnknownError";n.ENS_REGISTRATION_ERROR="ensRegistrationError";n.RECIPIENT_TYPES={SMART_CONTRACT:"SMART_CONTRACT",NON_CONTRACT:"NON_CONTRACT"}}}},{package:"$root$",file:"ui/pages/send/send.constants.js"}],[5309,{"../../../shared/constants/metametrics":4323,"../../../shared/constants/transaction":4336,"../../contexts/metametrics":5030,"../../ducks/metamask/metamask":5044,"../../ducks/send":5046,"../../selectors":5449,"../../store/actions":5456,"./send-content":5281,"./send-content/add-recipient":5280,"./send-content/add-recipient/domain-input":5279,"./send-footer":5303,"./send-header":5306,react:4043,"react-redux":4008,"react-router-dom":4028},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,s.useHistory)(),t=(0,a.useRef)(!1),n=(0,r.useSelector)(o.getSendStage),i=(0,r.useSelector)(b),E=(0,r.useSelector)(o.getIsUsingMyAccountForRecipientSearch),y=(0,r.useSelector)(o.getRecipient),v=(0,r.useSelector)(l.getSendHexDataFeatureFlagState),w=(0,r.useSelector)(o.getRecipientUserInput),T=(0,r.useSelector)(o.getDraftTransactionExists),k=(0,s.useLocation)(),C=(0,a.useContext)(u.MetaMetricsContext),N=(0,r.useDispatch)(),S=(0,a.useCallback)((()=>{N((0,o.resetSendState)())}),[N]);let O;(0,a.useEffect)((()=>{!1===T&&!1===t.current&&(t.current=!0,N((0,o.startNewDraftTransaction)({type:p.AssetType.native})))}),[T,N]),(0,a.useEffect)((()=>{window.addEventListener("beforeunload",S)}),[S]),(0,a.useEffect)((()=>{if("?scan=true"===k.search){N((0,c.showQrScanner)());const e=window.location.href.split("?")[0];window.history.pushState({},null,`${e}`),window.location.hash="#send"}}),[k,N]),(0,a.useEffect)((()=>()=>{N((0,o.resetSendState)()),window.removeEventListener("beforeunload",S)}),[N,S]),O=T&&[o.SEND_STAGES.EDIT,o.SEND_STAGES.DRAFT].includes(n)?a.default.createElement(a.default.Fragment,null,a.default.createElement(g.default,{showHexData:v,gasIsExcessive:i}),a.default.createElement(h.default,{key:"send-footer",history:e})):a.default.createElement(m.default,null);return a.default.createElement("div",{className:"page-container"},a.default.createElement(f.default,{history:e}),a.default.createElement(_.default,{userInput:w,className:"send__to-row",onChange:e=>N((0,o.updateRecipientUserInput)(e)),onValidAddressTyped:async e=>{N((0,o.addHistoryEntry)(`sendFlow - Valid address typed ${e}`)),await N((0,o.updateRecipientUserInput)(e)),N((0,o.updateRecipient)({address:e,nickname:""}))},internalSearch:E,selectedAddress:y.address,selectedName:y.nickname,onPaste:e=>{N((0,o.addHistoryEntry)(`sendFlow - User pasted ${e} into address field`))},onReset:()=>N((0,o.resetRecipientInput)()),scanQrCode:()=>{C({event:"Used QR scanner",category:d.MetaMetricsEventCategory.Transactions,properties:{action:"Edit Screen",legacy_event:!0}}),N((0,c.showQrScanner)())}}),O)};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),s=e("react-router-dom"),o=e("../../ducks/send"),i=e("../../selectors"),l=e("../../ducks/metamask/metamask"),c=e("../../store/actions"),u=e("../../contexts/metametrics"),d=e("../../../shared/constants/metametrics"),p=e("../../../shared/constants/transaction"),f=E(e("./send-header")),m=E(e("./send-content/add-recipient")),g=E(e("./send-content")),h=E(e("./send-footer")),_=E(e("./send-content/add-recipient/domain-input"));function E(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}const b=e=>(0,i.isCustomPriceExcessive)(e,!0)}}},{package:"$root$",file:"ui/pages/send/send.js"}],[5310,{"../../../app/scripts/lib/util":82,"../../../shared/constants/transaction":4336,"../../../shared/modules/Numeric":4346,"./send.constants":5308,"ethereumjs-abi":2754},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.addGasBuffer=function(e,t,n=1.5){const a=new i.Numeric(e,16),r=new i.Numeric(t,16).times(new i.Numeric(.9,10)).round(0),s=a.times(new i.Numeric(n,10)).round(0);if(a.greaterThanOrEqualTo(r))return e;if(s.lessThan(r))return s.toString();return r.toString()},n.ellipsify=function(e,t=6,n=4){if(!e)return"";return`${e.slice(0,t)}...${e.slice(-n)}`},n.generateERC20TransferData=c,n.generateERC721TransferData=u,n.getAssetTransferData=function({sendToken:e,fromAddress:t,toAddress:n,amount:a}){switch(e.standard){case o.TokenStandard.ERC721:return u({toAddress:n,fromAddress:t,tokenId:e.tokenId});case o.TokenStandard.ERC20:default:return c({toAddress:n,amount:a,sendToken:e})}},n.isBalanceSufficient=function({amount:e="0x0",balance:t="0x0",conversionRate:n=1,gasTotal:a="0x0",primaryCurrency:r}){let s=new i.Numeric(e,16).add(new i.Numeric(a,16)),o=new i.Numeric(t,16);null!=r&&(s=s.applyConversionRate(n),o=o.applyConversionRate(n));return o.greaterThanOrEqualTo(s)},n.isTokenBalanceSufficient=function({amount:e="0x0",tokenBalance:t,decimals:n}){const a=new i.Numeric(e,16).shiftedBy(n);return new i.Numeric(t,16).greaterThanOrEqualTo(a)};var a,r=(a=e("ethereumjs-abi"))&&a.__esModule?a:{default:a},s=e("../../../app/scripts/lib/util"),o=e("../../../shared/constants/transaction"),i=e("../../../shared/modules/Numeric"),l=e("./send.constants");function c({toAddress:e="0x0",amount:t="0x0",sendToken:n}){return n?l.TOKEN_TRANSFER_FUNCTION_SIGNATURE+Array.prototype.map.call(r.default.rawEncode(["address","uint256"],[(0,s.addHexPrefix)(e),(0,s.addHexPrefix)(t)]),(e=>`00${e.toString(16)}`.slice(-2))).join(""):undefined}function u({toAddress:e="0x0",fromAddress:t="0x0",tokenId:n}){return n?l.NFT_TRANSFER_FROM_FUNCTION_SIGNATURE+Array.prototype.map.call(r.default.rawEncode(["address","address","uint256"],[(0,s.addHexPrefix)(t),(0,s.addHexPrefix)(e),n]),(e=>`00${e.toString(16)}`.slice(-2))).join(""):undefined}}}},{package:"$root$",file:"ui/pages/send/send.utils.js"}],[5311,{"../../../../app/scripts/lib/util":82,"../../../../shared/constants/app":4316,"../../../../shared/constants/hardware-wallets":4320,"../../../../shared/constants/metametrics":4323,"../../../../shared/constants/preferences":4326,"../../../components/component-library":4792,"../../../components/ui/actionable-message":4886,"../../../components/ui/button":4893,"../../../components/ui/dialog":4911,"../../../components/ui/dropdown":4916,"../../../components/ui/text-field":5006,"../../../components/ui/toggle-button":5010,"../../../helpers/constants/design-system":5052,"../../../helpers/constants/zendesk-url":5062,"../../../helpers/utils/export-utils":5076,"../../../helpers/utils/settings-search":5089,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=v(e("prop-types")),s=v(e("../../../components/ui/toggle-button")),o=v(e("../../../components/ui/text-field")),i=v(e("../../../components/ui/button")),l=v(e("../../../components/ui/dropdown")),c=v(e("../../../components/ui/dialog")),u=e("../../../../app/scripts/lib/util"),d=e("../../../../shared/constants/app"),p=e("../../../helpers/utils/settings-search"),f=e("../../../../shared/constants/hardware-wallets"),m=e("../../../../shared/constants/metametrics"),g=e("../../../../shared/constants/preferences"),h=e("../../../helpers/utils/export-utils"),_=v(e("../../../components/ui/actionable-message")),E=v(e("../../../helpers/constants/zendesk-url")),y=e("../../../components/component-library"),b=e("../../../helpers/constants/design-system");function v(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function T(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const k="CORRUPT_JSON_FILE";class C extends a.PureComponent{constructor(...e){super(...e),T(this,"state",{autoLockTimeLimit:this.props.autoLockTimeLimit,autoLockTimeLimitBeforeNormalization:this.props.autoLockTimeLimit,lockTimeError:"",showLedgerTransportWarning:!1,showResultMessage:!1,restoreSuccessful:!0,restoreMessage:null}),T(this,"settingsRefs",Array((0,p.getNumberOfSettingsInSection)(this.context.t,this.context.t("advanced"))).fill(undefined).map((()=>a.default.createRef()))),T(this,"backupUserData",(async()=>{const{fileName:e,data:t}=await this.props.backupUserData();(0,h.exportAsFile)(e,t,h.ExportableContentType.JSON),this.context.trackEvent({event:"User Data Exported",category:"Backup",properties:{}})}))}componentDidUpdate(){const{t:e}=this.context;(0,p.handleSettingsRefs)(e,e("advanced"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,p.handleSettingsRefs)(e,e("advanced"),this.settingsRefs)}async getTextFromFile(e){return new Promise(((t,n)=>{const a=new window.FileReader;a.onload=e=>{const n=e.target.result;t(n)},a.onerror=e=>{n(e)},a.readAsText(e)}))}async handleFileUpload(e){e.persist();const t=e.target.files[0],n=await this.getTextFromFile(t);e.target.value="";try{const e=await this.props.restoreUserData(n);this.setState({showResultMessage:!0,restoreSuccessful:e,restoreMessage:null})}catch(e){e.message.match(/Unexpected.+JSON/iu)&&this.setState({showResultMessage:!0,restoreSuccessful:!1,restoreMessage:k})}}renderStateLogs(){const{t:e}=this.context,{displayWarning:t}=this.props;return a.default.createElement("div",{ref:this.settingsRefs[0],className:"settings-page__content-row","data-testid":"advanced-setting-state-logs"},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e("stateLogs")),a.default.createElement("span",{className:"settings-page__content-description"},e("stateLogsDescription"))),a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(i.default,{type:"secondary",large:!0,onClick:()=>{window.logStateString(((n,a)=>{n?t(e("stateLogError")):(0,h.exportAsFile)(`${e("stateLogFileName")}.json`,a,h.ExportableContentType.JSON)}))}},e("downloadStateLogs")))))}renderResetAccount(){const{t:e}=this.context,{showResetAccountConfirmationModal:t}=this.props;return a.default.createElement("div",{ref:this.settingsRefs[1],className:"settings-page__content-row","data-testid":"advanced-setting-reset-account"},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e("clearActivity")),a.default.createElement("span",{className:"settings-page__content-description"},e("clearActivityDescription"))),a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(i.default,{type:"danger",large:!0,className:"settings-tab__button--red",onClick:e=>{e.preventDefault(),this.context.trackEvent({category:m.MetaMetricsEventCategory.Settings,event:m.MetaMetricsEventName.AccountReset,properties:{}}),t()}},e("clearActivityButton")))))}renderHexDataOptIn(){const{t:e}=this.context,{sendHexData:t,setHexDataFeatureFlag:n}=this.props;return a.default.createElement("div",{ref:this.settingsRefs[2],className:"settings-page__content-row","data-testid":"advanced-setting-hex-data"},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e("showHexData")),a.default.createElement("div",{className:"settings-page__content-description"},e("showHexDataDescription"))),a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(s.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")}))))}renderShowConversionInTestnets(){const{t:e}=this.context,{showFiatInTestnets:t,setShowFiatConversionOnTestnetsPreference:n}=this.props;return a.default.createElement("div",{ref:this.settingsRefs[3],className:"settings-page__content-row","data-testid":"advanced-setting-show-testnet-conversion"},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e("showFiatConversionInTestnets")),a.default.createElement("div",{className:"settings-page__content-description"},e("showFiatConversionInTestnetsDescription"))),a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(s.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")}))))}renderToggleTestNetworks(){const{t:e}=this.context,{showTestNetworks:t,setShowTestNetworks:n}=this.props;return a.default.createElement("div",{ref:this.settingsRefs[4],className:"settings-page__content-row","data-testid":"advanced-setting-show-testnet-conversion"},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e("showTestnetNetworks")),a.default.createElement("div",{className:"settings-page__content-description"},e("showTestnetNetworksDescription"))),a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(s.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")}))))}renderUseNonceOptIn(){const{t:e}=this.context,{useNonceField:t,setUseNonceField:n}=this.props;return a.default.createElement("div",{ref:this.settingsRefs[5],className:"settings-page__content-row","data-testid":"advanced-setting-custom-nonce"},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e("nonceField")),a.default.createElement("div",{className:"settings-page__content-description"},e("nonceFieldDescription"))),a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(s.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")}))))}renderAutoLockTimeLimit(){const{t:e}=this.context,{lockTimeError:t}=this.state,{setAutoLockTimeLimit:n}=this.props;return a.default.createElement("div",{ref:this.settingsRefs[6],className:"settings-page__content-row","data-testid":"advanced-setting-auto-lock"},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e("autoLockTimeLimit")),a.default.createElement("div",{className:"settings-page__content-description"},e("autoLockTimeLimitDescription"))),a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(o.default,{id:"autoTimeout","data-testid":"auto-lockout-time",placeholder:"0",value:this.state.autoLockTimeLimitBeforeNormalization,onChange:e=>this.handleLockChange(e.target.value),error:t,fullWidth:!0,margin:"dense",min:0}),a.default.createElement(i.default,{type:"primary","data-testid":"auto-lockout-button",className:"settings-tab__rpc-save-button",disabled:""!==t,onClick:()=>{n(this.state.autoLockTimeLimit)}},e("save")))))}renderLedgerLiveControl(){const{t:e}=this.context,{ledgerTransportType:t,setLedgerTransportPreference:n,userHasALedgerAccount:r}=this.props,s={LIVE:e("ledgerLive"),WEBHID:e("webhid"),U2F:e("u2f")},o=[{name:s.LIVE,value:f.LedgerTransportTypes.live},{name:s.U2F,value:f.LedgerTransportTypes.u2f}];window.navigator.hid&&o.push({name:s.WEBHID,value:f.LedgerTransportTypes.webhid});const u=window.navigator.hid?s.WEBHID:s.U2F;return a.default.createElement("div",{ref:this.settingsRefs[7],className:"settings-page__content-row","data-testId":"ledger-live-control"},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e("preferredLedgerConnectionType")),a.default.createElement("div",{className:"settings-page__content-description"},e("ledgerConnectionPreferenceDescription",[u,a.default.createElement(i.default,{key:"ledger-connection-settings-learn-more",type:"link",href:E.default.HARDWARE_CONNECTION,target:"_blank",rel:"noopener noreferrer",className:"settings-page__inline-link"},e("learnMore"))]))),a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(l.default,{id:"select-ledger-transport-type",options:o,selectedOption:t,onChange:async e=>{t===f.LedgerTransportTypes.live&&e===f.LedgerTransportTypes.webhid&&this.setState({showLedgerTransportWarning:!0}),n(e),e===f.LedgerTransportTypes.webhid&&r&&await window.navigator.hid.requestDevice({filters:[{vendorId:f.LEDGER_USB_VENDOR_ID}]})}}),this.state.showLedgerTransportWarning?a.default.createElement(c.default,{type:"message"},a.default.createElement("div",{className:"settings-page__content-item-dialog"},e("ledgerTransportChangeWarning"))):null)))}renderDismissSeedBackupReminderControl(){const{t:e}=this.context,{dismissSeedBackUpReminder:t,setDismissSeedBackUpReminder:n}=this.props;return a.default.createElement("div",{ref:this.settingsRefs[8],className:"settings-page__content-row","data-testid":"advanced-setting-dismiss-reminder"},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e("dismissReminderField")),a.default.createElement("div",{className:"settings-page__content-description"},e("dismissReminderDescriptionField"))),a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(s.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")}))))}renderToggleEthSignControl(){const{t:e,trackEvent:t}=this.context,{disabledRpcMethodPreferences:n,showEthSignModal:r,setDisabledRpcMethodPreference:o}=this.props;return a.default.createElement("div",{ref:this.settingsRefs[9],className:"settings-page__content-row","data-testid":"advanced-setting-toggle-ethsign"},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e("toggleEthSignField")),a.default.createElement("div",{className:"settings-page__content-description"},e("toggleEthSignDescriptionField"))),!0===(null==n?void 0:n.eth_sign)?a.default.createElement(y.BannerAlert,{severity:b.SEVERITIES.DANGER,marginBottom:5,descriptionProps:{variant:b.TextVariant.bodyMd}},e("toggleEthSignBannerDescription")):null,a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(s.default,{className:"eth-sign-toggle",value:(null==n?void 0:n.eth_sign)||!1,onToggle:e=>{e?(e=>{o("eth_sign",!e),t({category:m.MetaMetricsEventCategory.Settings,event:m.MetaMetricsEventName.OnboardingWalletAdvancedSettings,properties:{location:"Settings",enable_eth_sign:!1}})})(e):r()},offLabel:e("toggleEthSignOff"),onLabel:e("toggleEthSignOn")}))))}handleLockChange(e){const{t:t}=this.context;if(""===e)return void this.setState({autoLockTimeLimitBeforeNormalization:e,autoLockTimeLimit:g.DEFAULT_AUTO_LOCK_TIME_LIMIT.toString(),lockTimeError:""});const n=Number(e);if(Number.isNaN(n)||n<0||n>10080)return void this.setState({autoLockTimeLimitBeforeNormalization:e,autoLockTimeLimit:null,lockTimeError:t("lockTimeInvalid")});const a=n;this.setState({autoLockTimeLimitBeforeNormalization:e,autoLockTimeLimit:a,lockTimeError:""})}renderUserDataBackup(){const{t:e}=this.context;return a.default.createElement("div",{ref:this.settingsRefs[10],className:"settings-page__content-row","data-testid":"advanced-setting-data-backup"},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e("backupUserData")),a.default.createElement("span",{className:"settings-page__content-description"},e("backupUserDataDescription"))),a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(i.default,{"data-testid":"backup-button",type:"secondary",large:!0,onClick:()=>this.backupUserData()},e("backup")))))}renderRestoreUserData(){const{t:e}=this.context,{showResultMessage:t,restoreSuccessful:n,restoreMessage:r}=this.state,s=e(n?"restoreSuccessful":"restoreFailed"),o=r===k?e("dataBackupSeemsCorrupt"):s;return a.default.createElement("div",{ref:this.settingsRefs[11],className:"settings-page__content-row","data-testid":"advanced-setting-data-restore"},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e("restoreUserData")),a.default.createElement("span",{className:"settings-page__content-description"},e("restoreUserDataDescription"))),a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement("label",{htmlFor:"restore-file",className:"button btn btn--rounded btn-secondary btn--large settings-page__button"},e("restore")),a.default.createElement("input",{id:"restore-file","data-testid":"restore-file",style:{visibility:"hidden"},type:"file",accept:".json",onChange:e=>this.handleFileUpload(e)})),t&&a.default.createElement(_.default,{type:n?"success":"danger",message:o,primaryActionV2:{label:e("dismiss"),onClick:()=>{this.setState({showResultMessage:!1,restoreSuccessful:!0,restoreMessage:null})}}})))}render(){const{warning:e}=this.props,t=(0,u.getPlatform)()!==d.PLATFORM_FIREFOX;return a.default.createElement("div",{className:"settings-page__body"},e?a.default.createElement("div",{className:"settings-tab__error"},e):null,this.renderStateLogs(),this.renderResetAccount(),this.renderHexDataOptIn(),this.renderShowConversionInTestnets(),this.renderToggleTestNetworks(),this.renderUseNonceOptIn(),this.renderAutoLockTimeLimit(),this.renderUserDataBackup(),this.renderRestoreUserData(),t?this.renderLedgerLiveControl():null,this.renderDismissSeedBackupReminderControl(),this.renderToggleEthSignControl())}}n.default=C,T(C,"contextTypes",{t:r.default.func,trackEvent:r.default.func}),T(C,"propTypes",{setUseNonceField:r.default.func,useNonceField:r.default.bool,setHexDataFeatureFlag:r.default.func,displayWarning:r.default.func,showResetAccountConfirmationModal:r.default.func,showEthSignModal:r.default.func,warning:r.default.string,sendHexData:r.default.bool,showFiatInTestnets:r.default.bool,showTestNetworks:r.default.bool,autoLockTimeLimit:r.default.number,setAutoLockTimeLimit:r.default.func.isRequired,setShowFiatConversionOnTestnetsPreference:r.default.func.isRequired,setShowTestNetworks:r.default.func.isRequired,ledgerTransportType:r.default.oneOf(Object.values(f.LedgerTransportTypes)),setLedgerTransportPreference:r.default.func.isRequired,setDismissSeedBackUpReminder:r.default.func.isRequired,dismissSeedBackUpReminder:r.default.bool.isRequired,userHasALedgerAccount:r.default.bool.isRequired,backupUserData:r.default.func.isRequired,restoreUserData:r.default.func.isRequired,setDisabledRpcMethodPreference:r.default.func.isRequired,disabledRpcMethodPreferences:r.default.shape({eth_sign:r.default.bool.isRequired})})}}},{package:"$root$",file:"ui/pages/settings/advanced-tab/advanced-tab.component.js"}],[5312,{"../../../../shared/constants/preferences":4326,"../../../ducks/metamask/metamask":5044,"../../../selectors":5449,"../../../store/actions":5456,"./advanced-tab.component":5311,"react-redux":4008,"react-router-dom":4028,redux:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mapStateToProps=n.mapDispatchToProps=n.default=void 0;var a,r=e("redux"),s=e("react-redux"),o=e("react-router-dom"),i=e("../../../store/actions"),l=e("../../../selectors"),c=e("../../../ducks/metamask/metamask"),u=e("../../../../shared/constants/preferences"),d=(a=e("./advanced-tab.component"))&&a.__esModule?a:{default:a};const p=e=>{const{appState:{warning:t},metamask:n}=e,{featureFlags:{sendHexData:a}={},disabledRpcMethodPreferences:r,useNonceField:s,ledgerTransportType:o,dismissSeedBackUpReminder:i}=n,{showFiatInTestnets:d,showTestNetworks:p,autoLockTimeLimit:f=u.DEFAULT_AUTO_LOCK_TIME_LIMIT}=(0,l.getPreferences)(e);return{warning:t,sendHexData:a,showFiatInTestnets:d,showTestNetworks:p,autoLockTimeLimit:f,useNonceField:s,ledgerTransportType:o,dismissSeedBackUpReminder:i,userHasALedgerAccount:(0,c.doesUserHaveALedgerAccount)(e),disabledRpcMethodPreferences:r}};n.mapStateToProps=p;const f=e=>({backupUserData:()=>(0,i.backupUserData)(),restoreUserData:e=>(0,i.restoreUserData)(e),setHexDataFeatureFlag:t=>e((0,i.setFeatureFlag)("sendHexData",t)),displayWarning:t=>e((0,i.displayWarning)(t)),showResetAccountConfirmationModal:()=>e((0,i.showModal)({name:"CONFIRM_RESET_ACCOUNT"})),showEthSignModal:()=>e((0,i.showModal)({name:"ETH_SIGN"})),setUseNonceField:t=>e((0,i.setUseNonceField)(t)),setShowFiatConversionOnTestnetsPreference:t=>e((0,i.setShowFiatConversionOnTestnetsPreference)(t)),setShowTestNetworks:t=>e((0,i.setShowTestNetworks)(t)),setAutoLockTimeLimit:t=>e((0,i.setAutoLockTimeLimit)(t)),setLedgerTransportPreference:t=>e((0,i.setLedgerTransportPreference)(t)),setDismissSeedBackUpReminder:t=>e((0,i.setDismissSeedBackUpReminder)(t)),setDisabledRpcMethodPreference:(t,n)=>e((0,i.setDisabledRpcMethodPreference)(t,n))});n.mapDispatchToProps=f;var m=(0,r.compose)(o.withRouter,(0,s.connect)(p,f))(d.default);n.default=m}}},{package:"$root$",file:"ui/pages/settings/advanced-tab/advanced-tab.container.js"}],[5313,{"./advanced-tab.container":5312},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-tab.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/advanced-tab/index.js"}],[5314,{"../../../../shared/constants/alerts":4315,"../../../components/component-library":4792,"../../../components/ui/toggle-button":5010,"../../../components/ui/tooltip":5017,"../../../ducks/metamask/metamask":5044,"../../../helpers/utils/settings-search":5089,"../../../hooks/useI18nContext":5116,"../../../store/actions":5456,"prop-types":3766,react:4043,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=m(e("prop-types")),s=e("react-redux"),o=e("../../../../shared/constants/alerts"),i=m(e("../../../components/ui/tooltip")),l=m(e("../../../components/ui/toggle-button")),c=e("../../../store/actions"),u=e("../../../ducks/metamask/metamask"),d=e("../../../hooks/useI18nContext"),p=e("../../../helpers/utils/settings-search"),f=e("../../../components/component-library");function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}const h=({alertId:e,description:t,title:n})=>{const r=(0,d.useI18nContext)(),o=(0,a.useRef)();(0,a.useEffect)((()=>{(0,p.handleSettingsRefs)(r,r("alerts"),o)}),[o,r]);const m=(0,s.useSelector)((t=>(0,u.getAlertEnabledness)(t)[e]));return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{ref:o,className:"alerts-tab__item"},a.default.createElement("span",null,n),a.default.createElement("div",{className:"alerts-tab__description-container"},a.default.createElement(i.default,{position:"top",title:t,wrapperClassName:"alerts-tab__description"},a.default.createElement(f.Icon,{name:f.IconName.Info,className:"alerts-tab__description__icon"})),a.default.createElement(l.default,{offLabel:r("off"),onLabel:r("on"),onToggle:()=>(0,c.setAlertEnabledness)(e,!m),value:m}))))};h.propTypes={alertId:r.default.string.isRequired,description:r.default.string.isRequired,title:r.default.string.isRequired};var _=()=>{const e=(0,d.useI18nContext)(),t={[o.AlertTypes.unconnectedAccount]:{title:e("alertSettingsUnconnectedAccount"),description:e("alertSettingsUnconnectedAccountDescription")},[o.AlertTypes.web3ShimUsage]:{title:e("alertSettingsWeb3ShimUsage"),description:e("alertSettingsWeb3ShimUsageDescription")}};return a.default.createElement("div",{className:"alerts-tab__body"},Object.entries(t).map((([e,{title:t,description:n}],r)=>a.default.createElement(h,{alertId:e,description:n,key:e,title:t}))))};n.default=_}}},{package:"$root$",file:"ui/pages/settings/alerts-tab/alerts-tab.js"}],[5315,{"./alerts-tab":5314},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./alerts-tab"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/alerts-tab/index.js"}],[5316,{"../../../../../shared/modules/hexstring-utils":4354,"../../../../components/ui/identicon":4945,"../../../../components/ui/page-container/page-container-footer":4975,"../../../../components/ui/text-field":5006,"../../../../helpers/constants/routes":5057,"../../../../helpers/utils/util":5093,"../../../send/send-content/add-recipient/domain-input":5279,"../../../send/send.constants":5308,lodash:3617,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=m(e("prop-types")),s=e("lodash"),o=m(e("../../../../components/ui/identicon")),i=m(e("../../../../components/ui/text-field")),l=e("../../../../helpers/constants/routes"),c=e("../../../../helpers/utils/util"),u=m(e("../../../send/send-content/add-recipient/domain-input")),d=m(e("../../../../components/ui/page-container/page-container-footer")),p=e("../../../../../shared/modules/hexstring-utils"),f=e("../../../send/send.constants");function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends a.PureComponent{constructor(e){super(e),h(this,"state",{newName:"",ethAddress:"",error:"",input:""}),h(this,"validate",(e=>{const t=!(0,p.isBurnAddress)(e)&&(0,p.isValidHexAddress)(e,{mixedCaseUseChecksum:!0}),n=(0,c.isValidDomainName)(e);t||n||""===e?this.setState({error:"",ethAddress:e}):this.setState({error:f.INVALID_RECIPIENT_ADDRESS_ERROR})})),h(this,"onChange",(e=>{this.setState({input:e}),this.dValidate(e)})),this.dValidate=(0,s.debounce)(this.validate,500)}UNSAFE_componentWillReceiveProps(e){if(e.qrCodeData&&"address"===e.qrCodeData.type){const{domainResolution:t}=this.props,n=e.qrCodeData.values.address.toLowerCase();(t||this.state.ethAddress).toLowerCase()!==n&&(this.setState({input:n}),this.validate(n),this.props.qrCodeDetected(null))}}renderInput(){return a.default.createElement(u.default,{scanQrCode:e=>{this.props.scanQrCode()},onChange:this.onChange,onPaste:e=>{this.setState({input:e}),this.validate(e)},onReset:()=>{this.props.resetDomainResolution(),this.setState({ethAddress:"",input:""})},userInput:this.state.input})}render(){const{t:e}=this.context,{history:t,addToAddressBook:n,domainError:r,domainResolution:s}=this.props,c=r||this.state.error;return a.default.createElement("div",{className:"settings-page__content-row address-book__add-contact"},s&&a.default.createElement("div",{className:"address-book__view-contact__group"},a.default.createElement(o.default,{address:s,diameter:60}),a.default.createElement("div",{className:"address-book__view-contact__group__value"},s)),a.default.createElement("div",{className:"address-book__add-contact__content"},a.default.createElement("div",{className:"address-book__view-contact__group address-book__add-contact__content__username"},a.default.createElement("div",{className:"address-book__view-contact__group__label"},e("userName")),a.default.createElement(i.default,{type:"text",id:"nickname",value:this.state.newName,onChange:e=>this.setState({newName:e.target.value}),fullWidth:!0,margin:"dense"})),a.default.createElement("div",{className:"address-book__view-contact__group"},a.default.createElement("div",{className:"address-book__view-contact__group__label"},e("ethereumPublicAddress")),this.renderInput(),c&&a.default.createElement("div",{className:"address-book__add-contact__error"},e(c)))),a.default.createElement(d.default,{cancelText:this.context.t("cancel"),disabled:Boolean(this.state.error||!this.state.ethAddress||!this.state.newName.trim()),onSubmit:async()=>{await n(s||this.state.ethAddress,this.state.newName),t.push(l.CONTACT_LIST_ROUTE)},onCancel:()=>{t.push(l.CONTACT_LIST_ROUTE)},submitText:this.context.t("save")}))}}n.default=_,h(_,"contextTypes",{t:r.default.func}),h(_,"propTypes",{addToAddressBook:r.default.func,history:r.default.object,scanQrCode:r.default.func,qrCodeData:r.default.object,qrCodeDetected:r.default.func,domainResolution:r.default.string,domainError:r.default.string,resetDomainResolution:r.default.func})}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/add-contact/add-contact.component.js"}],[5317,{"../../../../ducks/app/app":5036,"../../../../ducks/domains":5038,"../../../../store/actions":5456,"./add-contact.component":5316,"react-redux":4008,"react-router-dom":4028,redux:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("redux"),s=e("react-redux"),o=e("react-router-dom"),i=e("../../../../store/actions"),l=e("../../../../ducks/app/app"),c=e("../../../../ducks/domains"),u=(a=e("./add-contact.component"))&&a.__esModule?a:{default:a};var d=(0,r.compose)(o.withRouter,(0,s.connect)((e=>({qrCodeData:(0,l.getQrCodeData)(e),domainError:(0,c.getDomainError)(e),domainResolution:(0,c.getDomainResolution)(e)})),(e=>({addToAddressBook:(t,n)=>e((0,i.addToAddressBook)(t,n)),scanQrCode:()=>e((0,i.showQrScanner)()),qrCodeDetected:t=>e((0,i.qrCodeDetected)(t)),resetDomainResolution:()=>e((0,c.resetDomainResolution)())}))))(u.default);n.default=d}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/add-contact/add-contact.container.js"}],[5318,{"./add-contact.container":5317},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./add-contact.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/add-contact/index.js"}],[5319,{"../../../components/app/contact-list":4450,"../../../components/component-library":4792,"../../../helpers/constants/design-system":5052,"../../../helpers/constants/routes":5057,"../../../helpers/utils/settings-search":5089,"./add-contact":5318,"./edit-contact":5323,"./view-contact":5325,classnames:2376,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=m(e("prop-types")),s=m(e("classnames")),o=m(e("../../../components/app/contact-list")),i=e("../../../helpers/constants/routes"),l=e("../../../helpers/utils/settings-search"),c=e("../../../components/component-library"),u=e("../../../helpers/constants/design-system"),d=m(e("./edit-contact")),p=m(e("./add-contact")),f=m(e("./view-contact"));function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends a.Component{constructor(...e){super(...e),h(this,"settingsRefs",Array((0,l.getNumberOfSettingsInSection)(this.context.t,this.context.t("contacts"))).fill(undefined).map((()=>a.default.createRef())))}componentDidUpdate(){const{t:e}=this.context;(0,l.handleSettingsRefs)(e,e("contacts"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,l.handleSettingsRefs)(e,e("contacts"),this.settingsRefs)}renderAddresses(){const{addressBook:e,history:t,selectedAddress:n}=this.props,r=e.filter((({name:e})=>Boolean(e))),s=e.filter((({name:e})=>!e)),{t:l}=this.context;return e.length?a.default.createElement("div",null,a.default.createElement(o.default,{searchForContacts:()=>r,searchForRecents:()=>s,selectRecipient:e=>{t.push(`${i.CONTACT_VIEW_ROUTE}/${e}`)},selectedAddress:n})):a.default.createElement("div",{className:"address-book__container"},a.default.createElement("div",null,a.default.createElement(c.Icon,{name:c.IconName.Book,color:u.IconColor.iconMuted,className:"address-book__icon",size:c.IconSize.Xl}),a.default.createElement("h4",{className:"address-book__title"},l("buildContactList")),a.default.createElement("p",{className:"address-book__sub-title"},l("addFriendsAndAddresses")),a.default.createElement("button",{className:"address-book__link",onClick:()=>{t.push(i.CONTACT_ADD_ROUTE)}},"+ ",l("addContact"))))}renderAddButton(){const{history:e,viewingContact:t,editingContact:n}=this.props;return a.default.createElement(c.ButtonPrimary,{className:(0,s.default)("address-book-add-button__button",{"address-book-add-button__button--hidden":t||n}),onClick:()=>{e.push(i.CONTACT_ADD_ROUTE)},margin:4,size:u.Size.LG},this.context.t("addContact"))}renderContactContent(){const{viewingContact:e,editingContact:t,addingContact:n}=this.props;let r=null;return e?r=f.default:t?r=d.default:n&&(r=p.default),r&&a.default.createElement("div",{className:"address-book-contact-content"},a.default.createElement(r,null))}renderAddressBookContent(){const{hideAddressBook:e}=this.props;return e?null:a.default.createElement("div",{ref:this.settingsRefs[0],className:"address-book"},this.renderAddresses())}render(){const{addingContact:e,addressBook:t,currentPath:n}=this.props;return a.default.createElement("div",{className:"address-book-wrapper"},this.renderAddressBookContent(),this.renderContactContent(),n===i.CONTACT_LIST_ROUTE&&!e&&t.length>0?this.renderAddButton():null)}}n.default=_,h(_,"contextTypes",{t:r.default.func}),h(_,"propTypes",{addressBook:r.default.array,history:r.default.object,selectedAddress:r.default.string,viewingContact:r.default.bool,editingContact:r.default.bool,addingContact:r.default.bool,hideAddressBook:r.default.bool,currentPath:r.default.string})}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/contact-list-tab.component.js"}],[5320,{"../../../helpers/constants/routes":5057,"../../../selectors":5449,"./contact-list-tab.component":5319,"react-redux":4008,"react-router-dom":4028,redux:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("redux"),s=e("react-redux"),o=e("react-router-dom"),i=e("../../../selectors"),l=e("../../../helpers/constants/routes"),c=(a=e("./contact-list-tab.component"))&&a.__esModule?a:{default:a};var u=(0,r.compose)(o.withRouter,(0,s.connect)(((e,t)=>{const{location:n}=t,{pathname:a}=n,r=a.match(/[^/]+$/u)[0],s=r.includes("0x"),o=Boolean(a.match(l.CONTACT_VIEW_ROUTE)),c=Boolean(a.match(l.CONTACT_EDIT_ROUTE)),u=Boolean(a.match(l.CONTACT_ADD_ROUTE)),d=o||c||u;return{viewingContact:o,editingContact:c,addingContact:u,addressBook:(0,i.getAddressBook)(e),selectedAddress:s?r:"",hideAddressBook:d,currentPath:a}})))(c.default);n.default=u}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/contact-list-tab.container.js"}],[5321,{"../../../../../shared/modules/hexstring-utils":4354,"../../../../components/component-library":4792,"../../../../components/component-library/text/deprecated":4826,"../../../../components/ui/button/button.component":4892,"../../../../components/ui/page-container/page-container-footer":4975,"../../../../components/ui/text-field":5006,"../../../../helpers/constants/design-system":5052,"prop-types":3766,react:4043,"react-router-dom":4028},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=f(e("prop-types")),s=e("react-router-dom"),o=f(e("../../../../components/ui/button/button.component")),i=f(e("../../../../components/ui/text-field")),l=f(e("../../../../components/ui/page-container/page-container-footer")),c=e("../../../../../shared/modules/hexstring-utils"),u=e("../../../../components/component-library"),d=e("../../../../components/component-library/text/deprecated"),p=e("../../../../helpers/constants/design-system");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends a.PureComponent{constructor(...e){super(...e),g(this,"state",{newName:this.props.name,newAddress:this.props.address,newMemo:this.props.memo,error:""})}render(){const{t:e}=this.context,{address:t,addToAddressBook:n,chainId:r,history:f,listRoute:m,memo:g,name:h,removeFromAddressBook:_,viewRoute:E}=this.props;return t?a.default.createElement("div",{className:"settings-page__content-row address-book__edit-contact"},a.default.createElement(u.Box,{className:"settings-page__header address-book__header--edit",paddingLeft:6,paddingRight:6},a.default.createElement(u.Box,{display:p.Display.Flex,alignItems:p.AlignItems.center},a.default.createElement(u.AvatarAccount,{size:u.AvatarAccountSize.Lg,address:t}),a.default.createElement(d.Text,{className:"address-book__header__name",variant:p.TextVariant.bodyLgMedium,marginInlineStart:4},h||t)),a.default.createElement(o.default,{type:"link",className:"settings-page__address-book-button",onClick:async()=>{await _(r,t),f.push(m)}},e("deleteContact"))),a.default.createElement("div",{className:"address-book__edit-contact__content"},a.default.createElement("div",{className:"address-book__view-contact__group"},a.default.createElement("div",{className:"address-book__view-contact__group__label"},e("userName")),a.default.createElement(i.default,{type:"text",id:"nickname",placeholder:this.context.t("addAlias"),value:this.state.newName,onChange:e=>this.setState({newName:e.target.value}),fullWidth:!0,margin:"dense"})),a.default.createElement("div",{className:"address-book__view-contact__group"},a.default.createElement("div",{className:"address-book__view-contact__group__label"},e("ethereumPublicAddress")),a.default.createElement(i.default,{type:"text",id:"address",value:this.state.newAddress,error:this.state.error,onChange:e=>this.setState({newAddress:e.target.value}),fullWidth:!0,multiline:!0,rows:4,margin:"dense",classes:{inputMultiline:"address-book__view-contact__address__text-area",inputRoot:"address-book__view-contact__address"}})),a.default.createElement("div",{className:"address-book__view-contact__group"},a.default.createElement("div",{className:"address-book__view-contact__group__label--capitalized"},e("memo")),a.default.createElement(i.default,{type:"text",id:"memo",placeholder:g,value:this.state.newMemo,onChange:e=>this.setState({newMemo:e.target.value}),fullWidth:!0,margin:"dense",multiline:!0,rows:3,classes:{inputMultiline:"address-book__view-contact__text-area",inputRoot:"address-book__view-contact__text-area-wrapper"}}))),a.default.createElement(l.default,{cancelText:this.context.t("cancel"),onSubmit:async()=>{""!==this.state.newAddress&&this.state.newAddress!==t?!(0,c.isBurnAddress)(this.state.newAddress)&&(0,c.isValidHexAddress)(this.state.newAddress,{mixedCaseUseChecksum:!0})?(await _(r,t),await n(this.state.newAddress,this.state.newName||h,this.state.newMemo||g),f.push(m)):this.setState({error:this.context.t("invalidAddress")}):(await n(t,this.state.newName||h,this.state.newMemo||g),f.push(m))},onCancel:()=>{f.push(`${E}/${t}`)},submitText:this.context.t("save"),disabled:this.state.newName===h&&this.state.newAddress===t&&this.state.newMemo===g||!this.state.newName.trim()})):a.default.createElement(s.Redirect,{to:{pathname:m}})}}n.default=h,g(h,"contextTypes",{t:r.default.func}),g(h,"propTypes",{addToAddressBook:r.default.func,removeFromAddressBook:r.default.func,history:r.default.object,name:r.default.string,address:r.default.string,chainId:r.default.string,memo:r.default.string,viewRoute:r.default.string,listRoute:r.default.string}),g(h,"defaultProps",{name:"",memo:""})}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/edit-contact/edit-contact.component.js"}],[5322,{"../../../../ducks/metamask/metamask":5044,"../../../../helpers/constants/routes":5057,"../../../../selectors":5449,"../../../../store/actions":5456,"./edit-contact.component":5321,"react-redux":4008,"react-router-dom":4028,redux:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("redux"),s=e("react-redux"),o=e("react-router-dom"),i=e("../../../../selectors"),l=e("../../../../ducks/metamask/metamask"),c=e("../../../../helpers/constants/routes"),u=e("../../../../store/actions"),d=(a=e("./edit-contact.component"))&&a.__esModule?a:{default:a};var p=(0,r.compose)(o.withRouter,(0,s.connect)(((e,t)=>{const{location:n}=t,{pathname:a}=n,r=a.match(/[^/]+$/u)[0],s=r.includes("0x")?r.toLowerCase():t.match.params.id,o=(0,i.getAddressBookEntry)(e,s)||e.metamask.identities[s],{memo:u,name:d}=o||{},{chainId:p}=(0,l.getProviderConfig)(e);return{address:o?s:null,chainId:p,name:d,memo:u,viewRoute:c.CONTACT_VIEW_ROUTE,listRoute:c.CONTACT_LIST_ROUTE}}),(e=>({addToAddressBook:(t,n,a)=>e((0,u.addToAddressBook)(t,n,a)),removeFromAddressBook:(t,n)=>e((0,u.removeFromAddressBook)(t,n))}))))(d.default);n.default=p}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/edit-contact/edit-contact.container.js"}],[5323,{"./edit-contact.container":5322},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./edit-contact.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/edit-contact/index.js"}],[5324,{"./contact-list-tab.container":5320},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./contact-list-tab.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/index.js"}],[5325,{"./view-contact.container":5327},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./view-contact.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/view-contact/index.js"}],[5326,{"../../../../components/component-library":4792,"../../../../components/component-library/text/deprecated":4826,"../../../../components/ui/button/button.component":4892,"../../../../components/ui/tooltip":5017,"../../../../helpers/constants/design-system":5052,"../../../../hooks/useCopyToClipboard":5109,"../../../../hooks/useI18nContext":5116,"prop-types":3766,react:4043,"react-router-dom":4028},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=f(e("react")),r=f(e("prop-types")),s=e("react-router-dom"),o=f(e("../../../../components/ui/button/button.component")),i=e("../../../../components/component-library"),l=e("../../../../components/component-library/text/deprecated"),c=f(e("../../../../components/ui/tooltip")),u=e("../../../../hooks/useI18nContext"),d=e("../../../../hooks/useCopyToClipboard"),p=e("../../../../helpers/constants/design-system");function f(e){return e&&e.__esModule?e:{default:e}}function m({history:e,name:t,address:n,checkSummedAddress:r,memo:f,editRoute:m,listRoute:g}){const h=(0,u.useI18nContext)(),[_,E]=(0,d.useCopyToClipboard)();return n?a.default.createElement("div",{className:"settings-page__content-row"},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement(i.Box,{className:"settings-page__header address-book__header",paddingLeft:6},a.default.createElement(i.AvatarAccount,{size:i.AvatarAccountSize.Lg,address:n}),a.default.createElement(l.Text,{className:"address-book__header__name",variant:p.TextVariant.bodyLgMedium,marginInlineStart:4},t||n)),a.default.createElement("div",{className:"address-book__view-contact__group"},a.default.createElement(o.default,{type:"secondary",onClick:()=>{e.push(`${m}/${n}`)}},h("edit"))),a.default.createElement("div",{className:"address-book__view-contact__group"},a.default.createElement("div",{className:"address-book__view-contact__group__label"},h("ethereumPublicAddress")),a.default.createElement("div",{className:"address-book__view-contact__group__value"},a.default.createElement("div",{className:"address-book__view-contact__group__static-address"},function(e){return`0x${e.slice(2).match(/.{1,4}/gu).join("")}`}(r)),a.default.createElement(c.default,{position:"bottom",title:h(_?"copiedExclamation":"copyToClipboard")},a.default.createElement(i.ButtonIcon,{ariaLabel:"copy",className:"address-book__view-contact__group__static-address--copy-icon",onClick:()=>{E(r)},iconName:_?i.IconName.CopySuccess:i.IconName.Copy,size:i.ButtonIconSize.Lg,color:p.IconColor.primaryDefault})))),f.length>0?a.default.createElement("div",{className:"address-book__view-contact__group"},a.default.createElement("div",{className:"address-book__view-contact__group__label--capitalized"},h("memo")),a.default.createElement("div",{className:"address-book__view-contact__group__static-address"},f)):null)):a.default.createElement(s.Redirect,{to:{pathname:g}})}m.propTypes={name:r.default.string,address:r.default.string,history:r.default.object,checkSummedAddress:r.default.string,memo:r.default.string,editRoute:r.default.string,listRoute:r.default.string.isRequired};var g=a.default.memo(m);n.default=g}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/view-contact/view-contact.component.js"}],[5327,{"../../../../../shared/modules/hexstring-utils":4354,"../../../../helpers/constants/routes":5057,"../../../../selectors":5449,"./view-contact.component":5326,"react-redux":4008,"react-router-dom":4028,redux:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("redux"),s=e("react-redux"),o=e("react-router-dom"),i=e("../../../../selectors"),l=e("../../../../helpers/constants/routes"),c=e("../../../../../shared/modules/hexstring-utils"),u=(a=e("./view-contact.component"))&&a.__esModule?a:{default:a};var d=(0,r.compose)(o.withRouter,(0,s.connect)(((e,t)=>{const{location:n}=t,{pathname:a}=n,r=a.match(/[^/]+$/u)[0],s=r.includes("0x")?r.toLowerCase():t.match.params.id,o=(0,i.getAddressBookEntry)(e,s)||e.metamask.identities[s],{memo:u,name:d}=o||{};return{name:d,address:o?s:null,checkSummedAddress:(0,c.toChecksumHexAddress)(s),memo:u,editRoute:l.CONTACT_EDIT_ROUTE,listRoute:l.CONTACT_LIST_ROUTE}})))(u.default);n.default=d}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/view-contact/view-contact.container.js"}],[5328,{"../../../../shared/constants/metametrics":4323,"../../../components/component-library/text/deprecated":4826,"../../../components/ui/toggle-button":5010,"../../../components/ui/typography/typography":5022,"../../../helpers/constants/design-system":5052,"../../../helpers/utils/settings-search":5089,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=d(e("prop-types")),s=d(e("../../../components/ui/toggle-button")),o=e("../../../helpers/utils/settings-search"),i=e("../../../../shared/constants/metametrics"),l=d(e("../../../components/ui/typography/typography")),c=e("../../../components/component-library/text/deprecated"),u=e("../../../helpers/constants/design-system");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends a.PureComponent{constructor(...e){super(...e),f(this,"settingsRefs",Array((0,o.getNumberOfSettingsInSection)(this.context.t,this.context.t("experimental"))).fill(undefined).map((()=>a.default.createRef())))}componentDidUpdate(){const{t:e}=this.context;(0,o.handleSettingsRefs)(e,e("experimental"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,o.handleSettingsRefs)(e,e("experimental"),this.settingsRefs)}renderOpenSeaEnabledToggle(){const{t:e}=this.context,{openSeaEnabled:t,setOpenSeaEnabled:n,useNftDetection:r,setUseNftDetection:o}=this.props;return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{ref:this.settingsRefs[0],className:"settings-page__content-row"},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e("enableOpenSeaAPI")),a.default.createElement("div",{className:"settings-page__content-description"},e("enableOpenSeaAPIDescription"))),a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(s.default,{value:t,onToggle:e=>{this.context.trackEvent({category:i.MetaMetricsEventCategory.Settings,event:"Enabled/Disable OpenSea",properties:{action:"Enabled/Disable OpenSea",legacy_event:!0}}),e&&r&&o(!1),n(!e)},offLabel:e("off"),onLabel:e("on")})))),a.default.createElement("div",{ref:this.settingsRefs[1],className:"settings-page__content-row"},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e("useNftDetection")),a.default.createElement("div",{className:"settings-page__content-description"},a.default.createElement(c.Text,{color:u.TextColor.textAlternative},e("useNftDetectionDescription")),a.default.createElement("ul",{className:"settings-page__content-unordered-list"},a.default.createElement("li",null,e("useNftDetectionDescriptionLine2")),a.default.createElement("li",null,e("useNftDetectionDescriptionLine3")),a.default.createElement("li",null,e("useNftDetectionDescriptionLine4"))),a.default.createElement(c.Text,{color:u.TextColor.textAlternative,paddingTop:4},e("useNftDetectionDescriptionLine5")))),a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(s.default,{value:r,onToggle:e=>{this.context.trackEvent({category:i.MetaMetricsEventCategory.Settings,event:"NFT Detected",properties:{action:"NFT Detected",legacy_event:!0}}),e||t||n(!e),o(!e)},offLabel:e("off"),onLabel:e("on")})))))}renderTransactionSecurityCheckToggle(){const{t:e}=this.context,{transactionSecurityCheckEnabled:t,setTransactionSecurityCheckEnabled:n}=this.props;return a.default.createElement(a.default.Fragment,null,a.default.createElement(l.default,{variant:u.TypographyVariant.H4,color:u.TextColor.textAlternative,marginBottom:2,fontWeight:u.FONT_WEIGHT.BOLD},e("privacy")),a.default.createElement("div",{ref:this.settingsRefs[1],className:"settings-page__content-row settings-page__content-row-experimental"},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e("transactionSecurityCheck")),a.default.createElement("div",{className:"settings-page__content-description"},a.default.createElement(l.default,{variant:u.TypographyVariant.H6,color:u.TextColor.textAlternative},e("transactionSecurityCheckDescription")),a.default.createElement(l.default,{marginTop:3,marginBottom:1,variant:u.TypographyVariant.H6,color:u.TextColor.textAlternative},e("selectProvider")),a.default.createElement("div",{className:"settings-page__content-item-col settings-page__content-item-col-open-sea"},a.default.createElement(l.default,{variant:u.TypographyVariant.H5,color:u.TextColor.textDefault,fontWeight:u.FONT_WEIGHT.MEDIUM,marginBottom:0},e("openSea")),a.default.createElement(s.default,{value:t,onToggle:e=>{this.context.trackEvent({category:i.MetaMetricsEventCategory.Settings,event:"Enabled/Disable TransactionSecurityCheck",properties:{action:"Enabled/Disable TransactionSecurityCheck",legacy_event:!0}}),n(!e)}})),a.default.createElement(l.default,{variant:u.TypographyVariant.H6,color:u.TextColor.textAlternative,marginTop:0},e("thisServiceIsExperimental",[a.default.createElement("a",{href:"http://opensea.io/securityproviderterms",key:"termsOfUse",rel:"noopener noreferrer",target:"_blank"},e("termsOfUse"))])),a.default.createElement(l.default,{variant:u.TypographyVariant.H5,color:u.TextColor.textMuted,fontWeight:u.FONT_WEIGHT.MEDIUM,marginTop:2},e("moreComingSoon"))))))}render(){return a.default.createElement("div",{className:"settings-page__body"},this.renderTransactionSecurityCheckToggle(),this.renderOpenSeaEnabledToggle())}}n.default=m,f(m,"contextTypes",{t:r.default.func,trackEvent:r.default.func}),f(m,"propTypes",{useNftDetection:r.default.bool,setUseNftDetection:r.default.func,setOpenSeaEnabled:r.default.func,openSeaEnabled:r.default.bool,transactionSecurityCheckEnabled:r.default.bool,setTransactionSecurityCheckEnabled:r.default.func})}}},{package:"$root$",file:"ui/pages/settings/experimental-tab/experimental-tab.component.js"}],[5329,{"../../../selectors":5449,"../../../store/actions":5456,"./experimental-tab.component":5328,"react-redux":4008,"react-router-dom":4028,redux:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("redux"),s=e("react-redux"),o=e("react-router-dom"),i=e("../../../store/actions"),l=e("../../../selectors"),c=(a=e("./experimental-tab.component"))&&a.__esModule?a:{default:a};var u=(0,r.compose)(o.withRouter,(0,s.connect)((e=>({useNftDetection:(0,l.getUseNftDetection)(e),openSeaEnabled:(0,l.getOpenSeaEnabled)(e),transactionSecurityCheckEnabled:(0,l.getIsTransactionSecurityCheckEnabled)(e)})),(e=>({setUseNftDetection:t=>e((0,i.setUseNftDetection)(t)),setOpenSeaEnabled:t=>e((0,i.setOpenSeaEnabled)(t)),setTransactionSecurityCheckEnabled:t=>e((0,i.setTransactionSecurityCheckEnabled)(t))}))))(c.default);n.default=u}}},{package:"$root$",file:"ui/pages/settings/experimental-tab/experimental-tab.container.js"}],[5330,{"./experimental-tab.container":5329},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./experimental-tab.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/experimental-tab/index.js"}],[5331,{"./settings.container":5360},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./settings.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/index.js"}],[5332,{"./info-tab.component":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./info-tab.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/info-tab/index.js"}],[5333,{"../../../../shared/constants/metametrics":4323,"../../../../shared/lib/ui-utils":4345,"../../../components/component-library":4792,"../../../components/ui/button":4893,"../../../helpers/constants/common":5050,"../../../helpers/utils/build-types":5073,"../../../helpers/utils/settings-search":5089,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=p(e("prop-types")),s=p(e("../../../components/ui/button")),o=e("../../../components/component-library"),i=e("../../../helpers/constants/common"),l=e("../../../helpers/utils/build-types"),c=e("../../../helpers/utils/settings-search"),u=e("../../../../shared/constants/metametrics"),d=e("../../../../shared/lib/ui-utils");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends a.PureComponent{constructor(...e){var t;super(...e),m(this,"state",{version:(null===(t=global.platform)||void 0===t?void 0:t.getVersion())??"<unknown>"}),m(this,"settingsRefs",Array((0,c.getNumberOfSettingsInSection)(this.context.t,this.context.t("about"))).fill(undefined).map((()=>a.default.createRef())))}componentDidUpdate(){const{t:e}=this.context;(0,c.handleSettingsRefs)(e,e("about"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,c.handleSettingsRefs)(e,e("about"),this.settingsRefs)}renderInfoLinks(){const{t:e}=this.context;let t,n;return t="https://metamask.io/privacy.html",n="https://metamask.io/",a.default.createElement("div",{className:"settings-page__content-item settings-page__content-item--without-height"},a.default.createElement("div",{ref:this.settingsRefs[1],className:"info-tab__link-header"},e("links")),a.default.createElement("div",{ref:this.settingsRefs[2],className:"info-tab__link-item"},a.default.createElement(s.default,{type:"link",href:"https://metamask.io/privacy.html",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("privacyMsg"))),a.default.createElement("div",{ref:this.settingsRefs[3],className:"info-tab__link-item"},a.default.createElement(s.default,{type:"link",href:"https://metamask.io/terms.html",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("terms"))),(0,l.isBeta)()?a.default.createElement("div",{ref:this.settingsRefs[8],className:"info-tab__link-item"},a.default.createElement(s.default,{type:"link",href:"https://metamask.io/beta-terms.html",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("betaTerms"),a.default.createElement(o.Tag,{label:e("new"),className:"info-tab__tag"}))):null,a.default.createElement("div",{ref:this.settingsRefs[4],className:"info-tab__link-item"},a.default.createElement(s.default,{type:"link",href:"https://metamask.io/attributions.html",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("attributions"))),a.default.createElement("hr",{className:"info-tab__separator"}),a.default.createElement("div",{ref:this.settingsRefs[5],className:"info-tab__link-item"},a.default.createElement(s.default,{type:"link",href:d.SUPPORT_LINK,target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text",onClick:()=>{this.context.trackEvent({category:u.MetaMetricsEventCategory.Settings,event:u.MetaMetricsEventName.SupportLinkClicked,properties:{url:d.SUPPORT_LINK}},{contextPropsIntoEventProperties:[u.MetaMetricsContextProp.PageTitle]})}},e("supportCenter"))),a.default.createElement("div",{ref:this.settingsRefs[6],className:"info-tab__link-item"},a.default.createElement(s.default,{type:"link",href:"https://metamask.io/",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("visitWebSite"))),a.default.createElement("div",{ref:this.settingsRefs[7],className:"info-tab__link-item"},a.default.createElement(s.default,{type:"link",href:i.SUPPORT_REQUEST_LINK,target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text",onClick:()=>{this.context.trackEvent({category:u.MetaMetricsEventCategory.Settings,event:u.MetaMetricsEventName.SupportLinkClicked,properties:{url:i.SUPPORT_REQUEST_LINK}},{contextPropsIntoEventProperties:[u.MetaMetricsContextProp.PageTitle]})}},e("contactUs"))))}render(){const{t:e}=this.context;return a.default.createElement("div",{className:"settings-page__body"},a.default.createElement("div",{className:"settings-page__content-row"},a.default.createElement("div",{className:"settings-page__content-item settings-page__content-item--without-height"},a.default.createElement("div",{className:"info-tab__item"},a.default.createElement("div",{ref:this.settingsRefs[0],className:"info-tab__version-header"},(0,l.isBeta)()?e("betaMetamaskVersion"):e("metamaskVersion")),a.default.createElement("div",{className:"info-tab__version-number"},this.state.version)),a.default.createElement("div",{className:"info-tab__item"},a.default.createElement("div",{className:"info-tab__about"},e("builtAroundTheWorld")))),this.renderInfoLinks()),a.default.createElement("div",{className:"info-tab__logo-wrapper"},a.default.createElement("img",{src:"./images/logo/metamask-fox.svg",className:"info-tab__logo",alt:"MetaMask Logo"})))}}n.default=g,m(g,"contextTypes",{t:r.default.func,trackEvent:r.default.func})}}},{package:"$root$",file:"ui/pages/settings/info-tab/info-tab.component.js"}],[5334,{"../../../../components/component-library":4792,"../../../../components/ui/icon/search-icon":4939,"../../../../components/ui/text-field":5006,"../../../../contexts/i18n":5029,"@material-ui/core/InputAdornment":725,"fuse.js":3058,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=d(e("prop-types")),s=d(e("fuse.js")),o=d(e("@material-ui/core/InputAdornment")),i=d(e("../../../../components/ui/text-field")),l=e("../../../../contexts/i18n"),c=d(e("../../../../components/ui/icon/search-icon")),u=e("../../../../components/component-library");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f({onSearch:e,error:t,networksList:n,searchQueryInput:r}){const d=(0,a.useContext)(l.I18nContext),[p,f]=(0,a.useState)("var(--color-icon-muted)"),m=Object.values(n),g=new s.default(m,{shouldSort:!0,threshold:.2,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:["label","labelKey"]}),h=async t=>{f(""===t?"var(--color-icon-muted)":"var(--color-icon-alternative)");const n=g.search(t),a=t?[...n]:m;await e({searchQuery:t,results:a})};return a.default.createElement(i.default,{id:"search-networks","data-testid":"search-networks",placeholder:d("customContentSearch"),type:"text",value:r,onChange:e=>h(e.target.value),error:t,fullWidth:!0,autoFocus:!0,autoComplete:"off",classes:{inputRoot:"networks-tab__networks-list__custom-search-network"},startAdornment:a.default.createElement(o.default,{position:"start"},a.default.createElement(c.default,{color:p})),endAdornment:a.default.createElement(a.default.Fragment,null,r&&a.default.createElement(o.default,{className:"imageclosectn",position:"end",onClick:()=>h("")},a.default.createElement(u.Icon,{name:u.IconName.Close,className:"networks-tab__imageclose"})))})}f.propTypes={onSearch:r.default.func,error:r.default.string,networksList:r.default.array,searchQueryInput:r.default.string}}}},{package:"$root$",file:"ui/pages/settings/networks-tab/custom-content-search/custom-content-search.js"}],[5335,{"./custom-content-search":5334},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./custom-content-search"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/networks-tab/custom-content-search/index.js"}],[5336,{"./networks-tab":5348},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./networks-tab"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/networks-tab/index.js"}],[5337,{"./networks-form":5338},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./networks-form"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-form/index.js"}],[5338,{"../../../../../shared/constants/metametrics":4323,"../../../../../shared/constants/network":4324,"../../../../../shared/lib/fetch-with-cache":4338,"../../../../../shared/modules/conversion.utils":4350,"../../../../../shared/modules/network.utils":4357,"../../../../../shared/modules/rpc.utils":4360,"../../../../components/ui/actionable-message":4886,"../../../../components/ui/button":4893,"../../../../components/ui/form-field":4924,"../../../../contexts/metametrics":5030,"../../../../helpers/utils/i18n-helper":5080,"../../../../hooks/useI18nContext":5116,"../../../../hooks/usePrevious":5120,"../../../../store/actions":5456,classnames:2376,lodash:3617,loglevel:3629,"prop-types":3766,react:4043,"react-redux":4008,"valid-url":4275},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),s=k(e("prop-types")),o=k(e("valid-url")),i=k(e("loglevel")),l=k(e("classnames")),c=e("lodash"),u=e("../../../../hooks/useI18nContext"),d=e("../../../../../shared/modules/network.utils"),p=e("../../../../../shared/modules/rpc.utils"),f=k(e("../../../../components/ui/actionable-message")),m=k(e("../../../../components/ui/button")),g=k(e("../../../../components/ui/form-field")),h=e("../../../../store/actions"),_=k(e("../../../../../shared/lib/fetch-with-cache")),E=e("../../../../hooks/usePrevious"),y=e("../../../../../shared/constants/metametrics"),b=e("../../../../../shared/constants/network"),v=e("../../../../../shared/modules/conversion.utils"),w=e("../../../../contexts/metametrics"),T=e("../../../../helpers/utils/i18n-helper");function k(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}const N=e=>e&&"string"==typeof e&&e.startsWith("0x")?parseInt(e,16).toString(10):e,S=e=>{const t=`http://${e}`;return o.default.isWebUri(t)&&!e.match(/^https?:\/\/$/u)},O=({addNewNetwork:e,restrictHeight:t,isCurrentRpcTarget:n,networksToRender:s,selectedNetwork:k,cancelCallback:C,submitCallback:O})=>{var x,R,I,M,P,A;const j=(0,u.useI18nContext)(),D=(0,r.useDispatch)(),{label:L,labelKey:U,viewOnly:F,rpcPrefs:W}=k,B=L||U&&j((0,T.getNetworkLabelKey)(U)),[$,q]=(0,a.useState)(B||""),[G,H]=(0,a.useState)((null==k?void 0:k.rpcUrl)||""),[K,V]=(0,a.useState)((null==k?void 0:k.chainId)||""),[Q,z]=(0,a.useState)((null==k?void 0:k.ticker)||""),[Y,Z]=(0,a.useState)((null==k?void 0:k.blockExplorerUrl)||""),[X,J]=(0,a.useState)({}),[ee,te]=(0,a.useState)({}),[ne,ae]=(0,a.useState)(!1),re=b.FEATURED_RPCS.some((e=>Number(e.chainId)===Number(K))),[se,oe]=(0,a.useState)(Boolean(e)),[ie,le]=(0,a.useState)(k),ce=(0,a.useContext)(w.MetaMetricsContext),ue=(0,a.useCallback)((()=>{q(B||""),H(k.rpcUrl),V(N(k.chainId)),z(null==k?void 0:k.ticker),Z(null==k?void 0:k.blockExplorerUrl),J({}),te({}),ae(!1),oe(!1),le(k)}),[k,B]),de=(0,a.useRef)(),pe=(0,a.useRef)(),fe=(0,a.useRef)(),me=(0,a.useRef)(),ge=(0,a.useRef)(),he=(0,a.useRef)();(0,a.useEffect)((()=>{!de.current&&e?(q(""),H(""),V(""),z(""),Z(""),J({}),ae(!1)):pe.current===B&&me.current===k.rpcUrl&&fe.current===k.chainId&&ge.current===k.ticker&&he.current===k.blockExplorerUrl||se&&(0,c.isEqual)(k,ie)||ue(k)}),[k,B,e,ie,ue,se]),(0,a.useEffect)((()=>()=>{q(""),H(""),V(""),z(""),Z(""),J({}),D((0,h.setSelectedNetworkConfigurationId)(""))}),[q,H,V,z,Z,J,D]);const _e=(0,a.useCallback)((e=>{if(!o.default.isWebUri(e)&&""!==e){let t,n;return S(e)?(t="urlErrorMsg",n=j("urlErrorMsg")):(t="invalidBlockExplorerURL",n=j("invalidBlockExplorerURL")),{key:t,msg:n}}return null}),[j]),Ee=(0,a.useCallback)((async(e="")=>{const t=e.trim();let n="",a="",r="",o="",l=10,c=t;if(!c.startsWith("0x"))try{c=`0x${(0,v.decimalToHex)(c)}`}catch(e){return{error:{key:"invalidHexNumber",msg:j("invalidHexNumber")}}}const[u]=s.filter((e=>e.chainId===c&&e.rpcUrl!==G));if(""===t)return null;let f,m;u?(r="chainIdExistsErrorMsg",o=j("chainIdExistsErrorMsg",[u.label??u.labelKey])):t.startsWith("0x")?(l=16,/^0x[0-9a-f]+$/iu.test(t)?(0,d.isPrefixedFormattedHexString)(t)||(a=j("invalidHexNumberLeadingZeros")):(n="invalidHexNumber",a=j("invalidHexNumber"))):/^[0-9]+$/u.test(t)?t.startsWith("0")?(n="invalidNumberLeadingZeros",a=j("invalidNumberLeadingZeros")):(0,d.isSafeChainId)(parseInt(t,l))||(n="invalidChainIdTooBig",a=j("invalidChainIdTooBig")):(n="invalidNumber",a=j("invalidNumber"));try{f=await(0,p.jsonRpcRequest)(G,"eth_chainId")}catch(e){i.default.warn("Failed to fetch the chainId from the endpoint.",e),m=e}if(G&&t)if(m||"string"!=typeof f)n="failedToFetchChainId",a=j("failedToFetchChainId");else if(c!==f){if(!t.startsWith("0x"))try{f=parseInt(f,16).toString(10)}catch(e){i.default.warn("Failed to convert endpoint chain ID to decimal",f)}n="endpointReturnedDifferentChainId",a=j("endpointReturnedDifferentChainId",[f.length<=12?f:`${f.slice(0,9)}...`])}return n?{error:{key:n,msg:a}}:r?{warning:{key:r,msg:o}}:null}),[G,s,j]),ye=(0,a.useCallback)((async(e,t)=>{let n,a,r,s;if(!e||!t)return null;try{r=await(0,_.default)("https://chainid.network/chains.json")||[]}catch(e){i.default.warn("Failed to fetch the chainList from chainid.network",e),s=e}if(s)n="failedToFetchTickerSymbolData",a=j("failedToFetchTickerSymbolData");else{var o;const s=null===(o=r)||void 0===o?void 0:o.find((t=>t.chainId.toString()===e));if(s===undefined)n="failedToFetchTickerSymbolData",a=j("failedToFetchTickerSymbolData");else{var l;const r=null===(l=s.nativeCurrency)||void 0===l?void 0:l.symbol;r!==t&&(n="chainListReturnedDifferentTickerSymbol",a=j("chainListReturnedDifferentTickerSymbol",[e,r]))}}return n?{key:n,msg:a}:null}),[j]),be=(0,a.useCallback)((e=>{const t=o.default.isWebUri(e),[{rpcUrl:n=null,label:a,labelKey:r}={}]=s.filter((t=>t.rpcUrl===e)),{rpcUrl:i}=k;if(!t&&""!==e){let t,n;return S(e)?(t="urlErrorMsg",n=j("urlErrorMsg")):(t="invalidRPC",n=j("invalidRPC")),{key:t,msg:n}}return n&&n!==i?{key:"urlExistsErrorMsg",msg:j("urlExistsErrorMsg",[a??r])}:null}),[k,s,j]),ve=(0,E.usePrevious)(G),we=(0,E.usePrevious)(K),Te=(0,E.usePrevious)(Q),ke=(0,E.usePrevious)(Y);(0,a.useEffect)((()=>{F||ve===G&&we===K&&Te===Q&&ke===Y||async function(){const{error:e,warning:t}=await Ee(K)||{},n=await ye(K,Q),a=_e(Y),r=be(G);J({...X,blockExplorerUrl:a,rpcUrl:r,chainId:e}),te({...ee,chainId:t,ticker:n})}()}),[X,ee,G,K,Q,Y,F,L,ve,we,Te,ke,_e,Ee,ye,be]);const Ce=!n&&!F&&!e,Ne=(()=>{const e="string"==typeof k.chainId&&k.chainId.toLowerCase().startsWith("0x")&&K===N(k.chainId);return G===k.rpcUrl&&e&&Q===k.ticker&&$===B&&Y===k.blockExplorerUrl})(),Se=(null==k?void 0:k.rpcUrl)&&X.chainId&&re,Oe=Object.keys(X).some((e=>{const t=X[e];return("chainId"!==e||"chainIdExistsErrorMsg"!==(null==t?void 0:t.key))&&(null==t?void 0:t.key)&&(null==t?void 0:t.msg)}))||ne||Ne||Se||!G||!K||!Q;return a.default.createElement("div",{className:(0,l.default)({"networks-tab__network-form":!e,"networks-tab__add-network-form":e,"networks-tab__restrict-height":t})},e?a.default.createElement(f.default,{type:"warning",message:j("onlyAddTrustedNetworks"),iconFillColor:"var(--color-warning-default)",useIcon:!0,withRightButton:!0,className:"networks-tab__add-network-form__alert"}):null,a.default.createElement("div",{className:(0,l.default)({"networks-tab__network-form-body":!e,"networks-tab__network-form-body__view-only":F,"networks-tab__add-network-form-body":e})},a.default.createElement(g.default,{autoFocus:!0,error:(null===(x=X.networkName)||void 0===x?void 0:x.msg)||"",onChange:e=>{oe(!0),q(e)},titleText:j("networkName"),value:$,disabled:F}),a.default.createElement(g.default,{error:(null===(R=X.rpcUrl)||void 0===R?void 0:R.msg)||"",onChange:e=>{oe(!0),H(e)},titleText:j("rpcUrl"),value:null!=G&&G.includes(`/v3/${b.infuraProjectId}`)?G.replace(`/v3/${b.infuraProjectId}`,""):G,disabled:F}),a.default.createElement(g.default,{warning:(null===(I=ee.chainId)||void 0===I?void 0:I.msg)||"",error:(null===(M=X.chainId)||void 0===M?void 0:M.msg)||"",onChange:e=>{oe(!0),V(e)},titleText:j("chainId"),value:K,disabled:F,tooltipText:F?null:j("networkSettingsChainIdDescription")}),a.default.createElement(g.default,{warning:(null===(P=ee.ticker)||void 0===P?void 0:P.msg)||"",onChange:e=>{oe(!0),z(e)},titleText:j("currencySymbol"),value:Q,disabled:F}),a.default.createElement(g.default,{error:(null===(A=X.blockExplorerUrl)||void 0===A?void 0:A.msg)||"",onChange:e=>{oe(!0),Z(e)},titleText:j("blockExplorerUrl"),titleUnit:j("optionalWithParanthesis"),value:Y,disabled:F,autoFocus:"blockExplorerUrl"===window.location.hash.split("#")[2]})),a.default.createElement("div",{className:(0,l.default)({"networks-tab__network-form-footer":!e,"networks-tab__add-network-form-footer":e})},!F&&a.default.createElement(a.default.Fragment,null,Ce&&a.default.createElement(m.default,{type:"danger",onClick:()=>{D((0,h.showModal)({name:"CONFIRM_DELETE_NETWORK",target:k.networkConfigurationId,onConfirm:()=>{ue(),D((0,h.setSelectedNetworkConfigurationId)(""))}}))}},j("delete")),a.default.createElement(m.default,{type:"secondary",onClick:()=>{e?(D((0,h.setSelectedNetworkConfigurationId)("")),null==C||C()):ue()},disabled:Ne},j("cancel")),a.default.createElement(m.default,{type:"primary",disabled:Oe,onClick:async()=>{ae(!0);try{const t=(e=>{let t=e;return e.startsWith("0x")||(t=`0x${parseInt(e,10).toString(16)}`),t})(K.trim().toLowerCase());let n;k.rpcUrl&&G!==k.rpcUrl?await D((0,h.editAndSetNetworkConfiguration)({rpcUrl:G,ticker:Q,networkConfigurationId:k.networkConfigurationId,chainId:t,nickname:$,rpcPrefs:{...W,blockExplorerUrl:Y||(null==W?void 0:W.blockExplorerUrl)}},{source:y.MetaMetricsNetworkEventSource.CustomNetworkForm})):n=await D((0,h.upsertNetworkConfiguration)({rpcUrl:G,ticker:Q,chainId:t,nickname:$,rpcPrefs:{...W,blockExplorerUrl:Y||(null==W?void 0:W.blockExplorerUrl)}},{setActive:!0,source:y.MetaMetricsNetworkEventSource.CustomNetworkForm})),e&&(D((0,h.setNewNetworkAdded)({nickname:$,networkConfigurationId:n})),ce({event:y.MetaMetricsEventName.CustomNetworkAdded,category:y.MetaMetricsEventCategory.Network,properties:{block_explorer_url:Y,chain_id:t,network_name:$,source_connection_method:y.MetaMetricsNetworkEventSource.CustomNetworkForm,token_symbol:Q}}),null==O||O())}catch(e){throw ae(!1),e}}},j("save")))))};O.propTypes={addNewNetwork:s.default.bool,isCurrentRpcTarget:s.default.bool,networksToRender:s.default.array.isRequired,selectedNetwork:s.default.object,cancelCallback:s.default.func,submitCallback:s.default.func,restrictHeight:s.default.bool},O.defaultProps={selectedNetwork:{}};var x=O;n.default=x}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-form/networks-form.js"}],[5339,{"./networks-list-item":5340},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./networks-list-item"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-list-item/index.js"}],[534,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.version=void 0,n.version="units/5.7.0"}}},{package:"@truffle/decoder>@truffle/encoder>@ensdomains/ensjs>ethers>@ethersproject/units",file:"node_modules/@ethersproject/units/lib/_version.js"}],[5340,{"../../../../../app/scripts/lib/util":82,"../../../../../shared/constants/app":4316,"../../../../../shared/constants/network":4324,"../../../../components/component-library":4792,"../../../../components/ui/identicon":4945,"../../../../components/ui/url-icon":5026,"../../../../ducks/metamask/metamask":5044,"../../../../helpers/constants/design-system":5052,"../../../../helpers/constants/routes":5057,"../../../../helpers/utils/i18n-helper":5080,"../../../../helpers/utils/settings-search":5089,"../../../../hooks/useI18nContext":5116,"../../../../store/actions":5456,classnames:2376,"prop-types":3766,react:4043,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=b(e("prop-types")),s=b(e("classnames")),o=e("react-redux"),i=e("../../../../hooks/useI18nContext"),l=e("../../../../../shared/constants/network"),c=e("../../../../helpers/constants/routes"),u=e("../../../../store/actions"),d=e("../../../../../app/scripts/lib/util"),p=e("../../../../../shared/constants/app"),f=e("../../../../ducks/metamask/metamask"),m=b(e("../../../../components/ui/identicon")),g=b(e("../../../../components/ui/url-icon")),h=e("../../../../helpers/utils/settings-search"),_=e("../../../../components/component-library"),E=e("../../../../helpers/constants/design-system"),y=e("../../../../helpers/utils/i18n-helper");function b(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}const w=({network:e,networkIsSelected:t,selectedNetworkConfigurationId:n,setSearchQuery:r,setSearchedNetworks:b})=>{const v=(0,i.useI18nContext)(),w=(0,o.useDispatch)(),T=(0,d.getEnvironmentType)()===p.ENVIRONMENT_TYPE_FULLSCREEN,k=(0,o.useSelector)(f.getProviderConfig),{label:C,labelKey:N,networkConfigurationId:S,rpcUrl:O,providerType:x}=e,R=n&&n===S,I=O===k.rpcUrl,M=k.type!==l.NETWORK_TYPES.RPC&&x===k.type,P=R||!t&&(I||M),A=I||M,j=(0,a.useRef)();return(0,a.useEffect)((()=>{(0,h.handleSettingsRefs)(v,v("networks"),j)}),[j,v]),a.default.createElement("div",{ref:j,key:`settings-network-list-item:${S}`,className:"networks-tab__networks-list-item",onClick:()=>{r(""),b([]),w((0,u.setSelectedNetworkConfigurationId)(S)),T||global.platform.openExtensionInBrowser(c.NETWORKS_ROUTE)}},A?a.default.createElement(_.Icon,{name:_.IconName.Check,color:E.IconColor.successDefault}):a.default.createElement(_.Icon,{name:_.IconName.Check,color:E.IconColor.transparent}),e.chainId in l.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP?a.default.createElement(m.default,{className:"networks-tab__content__custom-image",diameter:24,image:l.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId],imageBorder:!0}):!e.isATestNetwork&&a.default.createElement(g.default,{className:"networks-tab__content__icon-with-fallback",fallbackClassName:"networks-tab__content__icon-with-fallback",name:C||(0,y.getNetworkLabelKey)(N)}),e.isATestNetwork&&e.chainId!==l.CHAIN_IDS.LINEA_GOERLI&&a.default.createElement(g.default,{name:C||(0,y.getNetworkLabelKey)(N),fallbackClassName:(0,s.default)("networks-tab__content__icon-with-fallback",{[`networks-tab__content__icon-with-fallback--color-${N}`]:!0})}),a.default.createElement("div",{className:(0,s.default)("networks-tab__networks-list-name",{"networks-tab__networks-list-name--selected":P,"networks-tab__networks-list-name--disabled":x!==l.NETWORK_TYPES.RPC&&!P})},C||v((0,y.getNetworkLabelKey)(N)),x!==l.NETWORK_TYPES.RPC&&a.default.createElement(_.Icon,{name:_.IconName.Lock,color:E.IconColor.iconMuted,size:_.IconSize.Inherit,marginInlineStart:2})))};w.propTypes={network:r.default.object.isRequired,networkIsSelected:r.default.bool,selectedNetworkConfigurationId:r.default.string,setSearchQuery:r.default.func,setSearchedNetworks:r.default.func};var T=w;n.default=T}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-list-item/networks-list-item.js"}],[5341,{"./networks-list":5342},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./networks-list"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-list/index.js"}],[5342,{"../../../../components/component-library/text/deprecated":4826,"../../../../helpers/constants/design-system":5052,"../../../../hooks/useI18nContext":5116,"../custom-content-search":5335,"../networks-list-item":5339,classnames:2376,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=d(e("prop-types")),s=d(e("classnames")),o=e("../../../../hooks/useI18nContext"),i=d(e("../custom-content-search")),l=e("../../../../helpers/constants/design-system"),c=d(e("../networks-list-item")),u=e("../../../../components/component-library/text/deprecated");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f=({networkIsSelected:e,networksToRender:t,networkDefaultedToProvider:n,selectedNetworkConfigurationId:r})=>{const d=(0,o.useI18nContext)(),[p,f]=(0,a.useState)([]),[m,g]=(0,a.useState)(""),h=0===p.length&&""===m?t:p,_=h.filter((e=>!e.isATestNetwork)),E=h.filter((e=>e.isATestNetwork));return a.default.createElement("div",{className:(0,s.default)("networks-tab__networks-list",{"networks-tab__networks-list--selection":e&&!n})},a.default.createElement(i.default,{onSearch:({searchQuery:e="",results:t=[]})=>{f(t),g(e)},error:0===h.length?d("settingsSearchMatchingNotFound"):null,networksList:t,searchQueryInput:m}),_.map(((t,n)=>a.default.createElement(c.default,{key:`settings-network-list:${t.rpcUrl}`,network:t,networkIsSelected:e,selectedNetworkConfigurationId:r,setSearchQuery:g,setSearchedNetworks:f}))),""===m&&a.default.createElement(u.Text,{variant:l.TextVariant.bodySm,as:"h6",marginTop:4,color:l.Color.textAlternative,className:"networks-tab__networks-list__label"},d("testNetworks")),E.map(((t,n)=>a.default.createElement(c.default,{key:`settings-network-list:${t.rpcUrl}`,network:t,networkIsSelected:e,selectedNetworkConfigurationId:r,setSearchQuery:g,setSearchedNetworks:f}))))};f.propTypes={networkDefaultedToProvider:r.default.bool,networkIsSelected:r.default.bool,networksToRender:r.default.arrayOf(r.default.object).isRequired,selectedNetworkConfigurationId:r.default.string};var m=f;n.default=m}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-list/networks-list.js"}],[5343,{"./networks-tab-content":5344},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./networks-tab-content"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-tab-content/index.js"}],[5344,{"../../../../ducks/metamask/metamask":5044,"../../../../helpers/constants/routes":5057,"../networks-form":5337,"../networks-list":5341,"prop-types":3766,react:4043,"react-redux":4008,"react-router-dom":4028},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=d(e("react")),r=d(e("prop-types")),s=e("react-redux"),o=e("react-router-dom"),i=d(e("../networks-form")),l=d(e("../networks-list")),c=e("../../../../ducks/metamask/metamask"),u=e("../../../../helpers/constants/routes");function d(e){return e&&e.__esModule?e:{default:e}}const p=({networkDefaultedToProvider:e,networkIsSelected:t,networksToRender:n,selectedNetwork:r,shouldRenderNetworkForm:d})=>{const p=(0,s.useSelector)(c.getProviderConfig),f=(0,o.useHistory)();return a.default.createElement(a.default.Fragment,null,a.default.createElement(l.default,{networkDefaultedToProvider:e,networkIsSelected:t,networksToRender:n,selectedNetworkConfigurationId:r.networkConfigurationId}),d?a.default.createElement(i.default,{isCurrentRpcTarget:p.rpcUrl===r.rpcUrl,networksToRender:n,selectedNetwork:r,submitCallback:()=>f.push(u.DEFAULT_ROUTE),cancelCallback:()=>f.push(u.NETWORKS_ROUTE)}):null)};p.propTypes={networkDefaultedToProvider:r.default.bool,networkIsSelected:r.default.bool,networksToRender:r.default.arrayOf(r.default.object).isRequired,selectedNetwork:r.default.object,shouldRenderNetworkForm:r.default.bool.isRequired};var f=p;n.default=f}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-tab-content/networks-tab-content.js"}],[5345,{"./networks-tab-subheader":5346},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./networks-tab-subheader"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-tab-subheader/index.js"}],[5346,{"../../../../components/ui/button":4893,"../../../../helpers/constants/routes":5057,"../../../../hooks/useI18nContext":5116,"prop-types":3766,react:4043,"react-router-dom":4028},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=c(e("react")),r=c(e("prop-types")),s=e("react-router-dom"),o=e("../../../../hooks/useI18nContext"),i=e("../../../../helpers/constants/routes"),l=c(e("../../../../components/ui/button"));function c(e){return e&&e.__esModule?e:{default:e}}const u=({addNewNetwork:e})=>{const t=(0,o.useI18nContext)(),n=(0,s.useHistory)();return e?a.default.createElement("div",{className:"networks-tab__subheader"},a.default.createElement("span",{className:"networks-tab__sub-header-text"},t("networks")),a.default.createElement("span",{className:"networks-tab__sub-header-text"},"  >  "),a.default.createElement("div",{className:"networks-tab__sub-header-text"},t("addANetwork")),a.default.createElement("span",null,"  >  "),a.default.createElement("div",{className:"networks-tab__subheader--break"},t("addANetworkManually"))):a.default.createElement("div",{className:"settings-page__sub-header"},a.default.createElement("span",{className:"settings-page__sub-header-text"},t("networks")),a.default.createElement("div",{className:"networks-tab__add-network-header-button-wrapper"},a.default.createElement(l.default,{type:"primary",onClick:e=>{e.preventDefault(),n.push(i.ADD_POPULAR_CUSTOM_NETWORK)}},t("addANetwork"))))};u.propTypes={addNewNetwork:r.default.bool.isRequired};var d=u;n.default=d}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-tab-subheader/networks-tab-subheader.js"}],[5347,{"../../../../shared/constants/network":4324},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.defaultNetworksData=void 0;var a=e("../../../../shared/constants/network");const r=[{labelKey:a.NETWORK_TYPES.MAINNET,iconColor:"#29B6AF",providerType:a.NETWORK_TYPES.MAINNET,rpcUrl:(0,a.getRpcUrl)({network:a.NETWORK_TYPES.MAINNET,excludeProjectId:!0}),chainId:a.CHAIN_IDS.MAINNET,ticker:a.CURRENCY_SYMBOLS.ETH,blockExplorerUrl:"https://etherscan.io"},{labelKey:a.NETWORK_TYPES.GOERLI,iconColor:"#3099f2",providerType:a.NETWORK_TYPES.GOERLI,rpcUrl:(0,a.getRpcUrl)({network:a.NETWORK_TYPES.GOERLI,excludeProjectId:!0}),chainId:a.CHAIN_IDS.GOERLI,ticker:a.TEST_NETWORK_TICKER_MAP[a.NETWORK_TYPES.GOERLI],blockExplorerUrl:"https://goerli.etherscan.io"},{labelKey:a.NETWORK_TYPES.SEPOLIA,iconColor:"#CFB5F0",providerType:a.NETWORK_TYPES.SEPOLIA,rpcUrl:(0,a.getRpcUrl)({network:a.NETWORK_TYPES.SEPOLIA,excludeProjectId:!0}),chainId:a.CHAIN_IDS.SEPOLIA,ticker:a.TEST_NETWORK_TICKER_MAP[a.NETWORK_TYPES.SEPOLIA],blockExplorerUrl:"https://sepolia.etherscan.io"},{labelKey:a.NETWORK_TYPES.LINEA_GOERLI,iconColor:"#61dfff",providerType:a.NETWORK_TYPES.LINEA_GOERLI,rpcUrl:(0,a.getRpcUrl)({network:a.NETWORK_TYPES.LINEA_GOERLI,excludeProjectId:!0}),chainId:a.CHAIN_IDS.LINEA_GOERLI,ticker:a.TEST_NETWORK_TICKER_MAP[a.NETWORK_TYPES.LINEA_GOERLI],blockExplorerUrl:"https://goerli.lineascan.build"},{labelKey:a.NETWORK_TYPES.LINEA_MAINNET,iconColor:"#121212",providerType:a.NETWORK_TYPES.LINEA_MAINNET,rpcUrl:(0,a.getRpcUrl)({network:a.NETWORK_TYPES.LINEA_MAINNET,excludeProjectId:!0}),chainId:a.CHAIN_IDS.LINEA_MAINNET,ticker:a.CURRENCY_SYMBOLS.ETH,blockExplorerUrl:"https://lineascan.build"}];n.defaultNetworksData=r}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-tab.constants.js"}],[5348,{"../../../../app/scripts/lib/util":82,"../../../../shared/constants/app":4316,"../../../../shared/constants/network":4324,"../../../components/ui/button":4893,"../../../ducks/metamask/metamask":5044,"../../../helpers/constants/routes":5057,"../../../hooks/useI18nContext":5116,"../../../selectors":5449,"../../../store/actions":5456,"./networks-form":5337,"./networks-tab-content":5343,"./networks-tab-subheader":5345,"./networks-tab.constants":5347,classnames:2376,"prop-types":3766,react:4043,"react-redux":4008,"react-router-dom":4028},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=v(e("prop-types")),s=v(e("classnames")),o=e("react-router-dom"),i=e("react-redux"),l=e("../../../hooks/useI18nContext"),c=e("../../../helpers/constants/routes"),u=e("../../../store/actions"),d=v(e("../../../components/ui/button")),p=e("../../../../app/scripts/lib/util"),f=e("../../../../shared/constants/app"),m=e("../../../selectors"),g=e("../../../ducks/metamask/metamask"),h=e("../../../../shared/constants/network"),_=e("./networks-tab.constants"),E=v(e("./networks-tab-content")),y=v(e("./networks-form")),b=v(e("./networks-tab-subheader"));function v(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}const T=_.defaultNetworksData.map((e=>({...e,viewOnly:!0,isATestNetwork:h.TEST_CHAINS.includes(e.chainId)}))),k=({addNewNetwork:e})=>{const t=(0,l.useI18nContext)(),n=(0,i.useDispatch)(),{pathname:r}=(0,o.useLocation)(),_=(0,o.useHistory)(),v=(0,p.getEnvironmentType)()===f.ENVIRONMENT_TYPE_FULLSCREEN,w=v||Boolean(r.match(c.NETWORKS_FORM_ROUTE))||"blockExplorerUrl"===window.location.hash.split("#")[2],k=(0,i.useSelector)(m.getNetworkConfigurations),C=(0,i.useSelector)(g.getProviderConfig),N=(0,i.useSelector)(m.getNetworksTabSelectedNetworkConfigurationId),S=(0,i.useSelector)(g.isLineaMainnetNetworkReleased),O=Object.entries(k).map((([e,t])=>{var n;return{label:t.nickname,iconColor:"var(--color-icon-alternative)",providerType:h.NETWORK_TYPES.RPC,rpcUrl:t.rpcUrl,chainId:t.chainId,ticker:t.ticker,blockExplorerUrl:(null===(n=t.rpcPrefs)||void 0===n?void 0:n.blockExplorerUrl)||"",isATestNetwork:h.TEST_CHAINS.includes(t.chainId),networkConfigurationId:e}}));let x=[...T,...O];S||(x=x.filter((e=>e.chainId!==h.BUILT_IN_NETWORKS[h.NETWORK_TYPES.LINEA_MAINNET].chainId)));let R=x.find((e=>e.networkConfigurationId===N))||{};const I=Boolean(R.rpcUrl);let M=!1;return I||(R=x.find((e=>e.rpcUrl===C.rpcUrl||e.providerType!==h.NETWORK_TYPES.RPC&&e.providerType===C.type))||{},M=!0),(0,a.useEffect)((()=>()=>{n((0,u.setSelectedNetworkConfigurationId)(""))}),[n]),a.default.createElement("div",{className:"networks-tab__body"},v?a.default.createElement(b.default,{addNewNetwork:e}):null,a.default.createElement("div",{className:(0,s.default)("networks-tab__content",{"networks-tab__content--with-networks-list-popup-footer":!v&&!w})},e?a.default.createElement(y.default,{networksToRender:x,addNewNetwork:e,submitCallback:()=>_.push(c.DEFAULT_ROUTE),cancelCallback:()=>_.push(c.NETWORKS_ROUTE)}):a.default.createElement(a.default.Fragment,null,a.default.createElement(E.default,{networkDefaultedToProvider:M,networkIsSelected:I,networksToRender:x,providerUrl:C.rpcUrl,selectedNetwork:R,shouldRenderNetworkForm:w}),v||w?null:a.default.createElement("div",{className:"networks-tab__networks-list-popup-footer"},a.default.createElement(d.default,{type:"primary",onClick:()=>{v?_.push(c.ADD_POPULAR_CUSTOM_NETWORK):global.platform.openExtensionInBrowser(c.ADD_POPULAR_CUSTOM_NETWORK)}},t("addNetwork"))))))};k.propTypes={addNewNetwork:r.default.bool};var C=k;n.default=C}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-tab.js"}],[5349,{"./security-tab.container":5351},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./security-tab.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/security-tab/index.js"}],[535,{"./_version":534,"@ethersproject/bignumber":454,"@ethersproject/logger":486},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.parseEther=n.formatEther=n.parseUnits=n.formatUnits=n.commify=void 0;var a=e("@ethersproject/bignumber"),r=e("@ethersproject/logger"),s=e("./_version"),o=new r.Logger(s.version),i=["wei","kwei","mwei","gwei","szabo","finney","ether"];function l(e,t){if("string"==typeof t){var n=i.indexOf(t);-1!==n&&(t=3*n)}return(0,a.formatFixed)(e,null!=t?t:18)}function c(e,t){if("string"!=typeof e&&o.throwArgumentError("value must be a string","value",e),"string"==typeof t){var n=i.indexOf(t);-1!==n&&(t=3*n)}return(0,a.parseFixed)(e,null!=t?t:18)}n.commify=function(e){var t=String(e).split(".");(t.length>2||!t[0].match(/^-?[0-9]*$/)||t[1]&&!t[1].match(/^[0-9]*$/)||"."===e||"-."===e)&&o.throwArgumentError("invalid value","value",e);var n=t[0],a="";for("-"===n.substring(0,1)&&(a="-",n=n.substring(1));"0"===n.substring(0,1);)n=n.substring(1);""===n&&(n="0");var r="";for(2===t.length&&(r="."+(t[1]||"0"));r.length>2&&"0"===r[r.length-1];)r=r.substring(0,r.length-1);for(var s=[];n.length;){if(n.length<=3){s.unshift(n);break}var i=n.length-3;s.unshift(n.substring(i)),n=n.substring(0,i)}return a+s.join(",")+r},n.formatUnits=l,n.parseUnits=c,n.formatEther=function(e){return l(e,18)},n.parseEther=function(e){return c(e,18)}}}},{package:"@truffle/decoder>@truffle/encoder>@ensdomains/ensjs>ethers>@ethersproject/units",file:"node_modules/@ethersproject/units/lib/index.js"}],[5350,{"../../../../app/scripts/lib/util":82,"../../../../shared/constants/app":4316,"../../../../shared/constants/metametrics":4323,"../../../../shared/lib/ui-utils":4345,"../../../components/app/srp-quiz-modal/SRPQuiz":4665,"../../../components/component-library/button":4780,"../../../components/ui/text-field":5006,"../../../components/ui/toggle-button":5010,"../../../helpers/constants/routes":5057,"../../../helpers/utils/settings-search":5089,lodash:3617,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("lodash"),r=_(e("prop-types")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=e("../../../../app/scripts/lib/util"),i=e("../../../../shared/constants/app"),l=e("../../../../shared/constants/metametrics"),c=e("../../../../shared/lib/ui-utils"),u=_(e("../../../components/app/srp-quiz-modal/SRPQuiz")),d=e("../../../components/component-library/button"),p=_(e("../../../components/ui/text-field")),f=_(e("../../../components/ui/toggle-button")),m=e("../../../helpers/constants/routes"),g=e("../../../helpers/utils/settings-search");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends s.PureComponent{constructor(...e){super(...e),E(this,"state",{ipfsGateway:this.props.ipfsGateway,ipfsGatewayError:"",srpQuizModalVisible:!1}),E(this,"settingsRefCounter",0),E(this,"settingsRefs",Array((0,g.getNumberOfSettingsInSection)(this.context.t,this.context.t("securityAndPrivacy"))).fill(undefined).map((()=>s.default.createRef()))),E(this,"hideSrpQuizModal",(()=>this.setState({srpQuizModalVisible:!1})))}componentDidUpdate(){const{t:e}=this.context;(0,g.handleSettingsRefs)(e,e("securityAndPrivacy"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,g.handleSettingsRefs)(e,e("securityAndPrivacy"),this.settingsRefs)}toggleSetting(e,t,n,a){this.context.trackEvent({category:l.MetaMetricsEventCategory.Settings,event:t,properties:{action:n,legacy_event:!0}}),a(!e)}renderSeedWords(){const{t:e}=this.context;return s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{ref:this.settingsRefs[0],className:"settings-page__security-tab-sub-header"},e("secretRecoveryPhrase")),s.default.createElement("div",{className:"settings-page__content-padded"},s.default.createElement(d.Button,{"data-testid":"reveal-seed-words",type:"danger",size:d.BUTTON_SIZES.LG,onClick:e=>{e.preventDefault(),this.context.trackEvent({category:l.MetaMetricsEventCategory.Settings,event:l.MetaMetricsEventName.KeyExportSelected,properties:{key_type:l.MetaMetricsEventKeyType.Srp,location:"Settings"}}),this.context.trackEvent({category:l.MetaMetricsEventCategory.Settings,event:l.MetaMetricsEventName.SrpRevealClicked,properties:{key_type:l.MetaMetricsEventKeyType.Srp,location:"Settings"}}),this.setState({srpQuizModalVisible:!0})}},e("revealSeedWords")),this.state.srpQuizModalVisible&&s.default.createElement(u.default,{isOpen:this.state.srpQuizModalVisible,onClose:this.hideSrpQuizModal})))}renderIncomingTransactionsOptIn(){const{t:e}=this.context,{showIncomingTransactions:t,setShowIncomingTransactionsFeatureFlag:n}=this.props;return s.default.createElement("div",{ref:this.settingsRefs[1],className:"settings-page__content-row"},s.default.createElement("div",{className:"settings-page__content-item"},s.default.createElement("span",null,e("showIncomingTransactions")),s.default.createElement("div",{className:"settings-page__content-description"},e("showIncomingTransactionsDescription",[s.default.createElement("a",{href:c.ETHERSCAN_PRIVACY_LINK,target:"_blank",rel:"noopener noreferrer",key:"etherscan-privacy-link"},e("etherscan")),s.default.createElement("a",{href:c.CONSENSYS_PRIVACY_LINK,target:"_blank",rel:"noopener noreferrer",key:"ic-consensys-privacy-link"},e("privacyMsg"))]))),s.default.createElement("div",{className:"settings-page__content-item"},s.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"showIncomingTransactions"},s.default.createElement(f.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")}))))}renderPhishingDetectionToggle(){const{t:e}=this.context,{usePhishDetect:t,setUsePhishDetect:n}=this.props;return s.default.createElement("div",{ref:this.settingsRefs[2],className:"settings-page__content-row"},s.default.createElement("div",{className:"settings-page__content-item"},s.default.createElement("span",null,e("usePhishingDetection")),s.default.createElement("div",{className:"settings-page__content-description"},e("usePhishingDetectionDescription"))),s.default.createElement("div",{className:"settings-page__content-item"},s.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"usePhishingDetection"},s.default.createElement(f.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")}))))}renderMetaMetricsOptIn(){const{t:e}=this.context,{participateInMetaMetrics:t,setParticipateInMetaMetrics:n}=this.props;return s.default.createElement("div",{ref:this.settingsRefs[3],className:"settings-page__content-row"},s.default.createElement("div",{className:"settings-page__content-item"},s.default.createElement("span",null,e("participateInMetaMetrics")),s.default.createElement("div",{className:"settings-page__content-description"},s.default.createElement("span",null,e("participateInMetaMetricsDescription")))),s.default.createElement("div",{className:"settings-page__content-item"},s.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"participateInMetaMetrics"},s.default.createElement(f.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")}))))}renderChooseYourNetworkButton(){const{t:e}=this.context;return s.default.createElement("div",{ref:this.settingsRefs[4],className:"settings-page__content-row","data-testid":"advanced-setting-choose-your-network"},s.default.createElement("div",{className:"settings-page__content-item"},s.default.createElement("span",null,e("chooseYourNetwork")),s.default.createElement("div",{className:"settings-page__content-description"},e("chooseYourNetworkDescription",[s.default.createElement("a",{href:c.CONSENSYS_PRIVACY_LINK,target:"_blank",rel:"noopener noreferrer",key:"cyn-consensys-privacy-link"},e("privacyMsg"))]))),s.default.createElement("div",{className:"settings-page__content-item"},s.default.createElement("div",{className:"settings-page__content-item-col"},s.default.createElement(d.Button,{type:"secondary",className:"settings-page__button",onClick:()=>{(0,o.getEnvironmentType)()===i.ENVIRONMENT_TYPE_POPUP?global.platform.openExtensionInBrowser(m.ADD_POPULAR_CUSTOM_NETWORK):this.props.history.push(m.ADD_POPULAR_CUSTOM_NETWORK)}},e("addCustomNetwork")))))}renderIpfsGatewayControl(){const{t:e}=this.context,{ipfsGatewayError:t}=this.state,n=e=>{const t=new URL((0,o.addUrlProtocolPrefix)(e)),{host:n}=t;this.props.setIpfsGateway(n)},a=t=>{this.setState((()=>{let a="";try{const e=new URL((0,o.addUrlProtocolPrefix)(t));if(!e.host)throw new Error;if("gateway.ipfs.io"===e.host)throw new Error("Forbidden gateway")}catch(t){a="Forbidden gateway"===t.message?e("forbiddenIpfsGateway"):e("invalidIpfsGateway")}return n(t),{ipfsGateway:t,ipfsGatewayError:a}}))};return s.default.createElement("div",{ref:this.settingsRefs[5],className:"settings-page__content-row","data-testid":"setting-ipfs-gateway"},s.default.createElement("div",{className:"settings-page__content-item"},s.default.createElement("span",null,e("addCustomIPFSGateway")),s.default.createElement("div",{className:"settings-page__content-description"},e("addCustomIPFSGatewayDescription"))),s.default.createElement("div",{className:"settings-page__content-item"},s.default.createElement("div",{className:"settings-page__content-item-col"},s.default.createElement(p.default,{type:"text",value:this.state.ipfsGateway,onChange:e=>a(e.target.value),error:t,fullWidth:!0,margin:"dense"}))))}renderAutoDetectTokensToggle(){const{t:e}=this.context,{useTokenDetection:t,setUseTokenDetection:n}=this.props;return s.default.createElement("div",{ref:this.settingsRefs[6],className:"settings-page__content-row","data-testid":"advanced-setting-gas-fee-estimation"},s.default.createElement("div",{className:"settings-page__content-item"},s.default.createElement("span",null,e("autoDetectTokens")),s.default.createElement("div",{className:"settings-page__content-description"},e("autoDetectTokensDescription",[s.default.createElement("a",{href:c.AUTO_DETECT_TOKEN_LEARN_MORE_LINK,target:"_blank",rel:"noopener noreferrer",key:"cyn-consensys-privacy-link"},(0,a.startCase)(e("learnMore")))]))),s.default.createElement("div",{className:"settings-page__content-item"},s.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"autoDetectTokens"},s.default.createElement(f.default,{value:t,onToggle:e=>{this.toggleSetting(e,l.MetaMetricsEventName.KeyAutoDetectTokens,l.MetaMetricsEventName.KeyAutoDetectTokens,n)},offLabel:e("off"),onLabel:e("on")}))))}renderBatchAccountBalanceRequestsToggle(){const{t:e}=this.context,{useMultiAccountBalanceChecker:t,setUseMultiAccountBalanceChecker:n}=this.props;return s.default.createElement("div",{ref:this.settingsRefs[7],className:"settings-page__content-row"},s.default.createElement("div",{className:"settings-page__content-item"},s.default.createElement("span",null,e("useMultiAccountBalanceChecker")),s.default.createElement("div",{className:"settings-page__content-description"},e("useMultiAccountBalanceCheckerDescription"))),s.default.createElement("div",{className:"settings-page__content-item"},s.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"useMultiAccountBalanceChecker"},s.default.createElement(f.default,{value:t,onToggle:e=>{this.toggleSetting(e,l.MetaMetricsEventName.KeyBatchAccountBalanceRequests,l.MetaMetricsEventName.KeyBatchAccountBalanceRequests,n)},offLabel:e("off"),onLabel:e("on")}))))}renderCurrencyRateCheckToggle(){const{t:e}=this.context,{useCurrencyRateCheck:t,setUseCurrencyRateCheck:n}=this.props;return s.default.createElement("div",{ref:this.settingsRefs[8],className:"settings-page__content-row"},s.default.createElement("div",{className:"settings-page__content-item"},s.default.createElement("span",null,e("currencyRateCheckToggle")),s.default.createElement("div",{className:"settings-page__content-description"},e("currencyRateCheckToggleDescription",[s.default.createElement("a",{key:"coingecko_link",href:c.COINGECKO_LINK,rel:"noreferrer",target:"_blank"},e("coingecko")),s.default.createElement("a",{key:"cryptocompare_link",href:c.CRYPTOCOMPARE_LINK,rel:"noreferrer",target:"_blank"},e("cryptoCompare")),s.default.createElement("a",{key:"privacy_policy_link",href:c.PRIVACY_POLICY_LINK,rel:"noreferrer",target:"_blank"},e("privacyMsg"))]))),s.default.createElement("div",{className:"settings-page__content-item"},s.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"currencyRateCheckToggle"},s.default.createElement(f.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")}))))}render(){const{warning:e}=this.props;return s.default.createElement("div",{className:"settings-page__body"},e&&s.default.createElement("div",{className:"settings-tab__error"},e),s.default.createElement("span",{className:"settings-page__security-tab-sub-header__bold"},this.context.t("security")),this.renderSeedWords(),s.default.createElement("span",{className:"settings-page__security-tab-sub-header__bold"},this.context.t("privacy")),s.default.createElement("div",null,s.default.createElement("span",{className:"settings-page__security-tab-sub-header"},"Alerts")),s.default.createElement("div",{className:"settings-page__content-padded"},this.renderPhishingDetectionToggle()),s.default.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("transactions")),s.default.createElement("div",{className:"settings-page__content-padded"},this.renderCurrencyRateCheckToggle(),this.renderIncomingTransactionsOptIn()),s.default.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("networkProvider")),s.default.createElement("div",{className:"settings-page__content-padded"},this.renderChooseYourNetworkButton(),this.renderIpfsGatewayControl()),s.default.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("tokenAutoDetection")),s.default.createElement("div",{className:"settings-page__content-padded"},this.renderAutoDetectTokensToggle(),this.renderBatchAccountBalanceRequestsToggle()),s.default.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("metrics")),s.default.createElement("div",{className:"settings-page__content-padded"},this.renderMetaMetricsOptIn()))}}n.default=y,E(y,"contextTypes",{t:r.default.func,trackEvent:r.default.func}),E(y,"propTypes",{warning:r.default.string,history:r.default.object,participateInMetaMetrics:r.default.bool.isRequired,setParticipateInMetaMetrics:r.default.func.isRequired,showIncomingTransactions:r.default.bool.isRequired,setShowIncomingTransactionsFeatureFlag:r.default.func.isRequired,setUsePhishDetect:r.default.func.isRequired,usePhishDetect:r.default.bool.isRequired,useTokenDetection:r.default.bool.isRequired,setUseTokenDetection:r.default.func.isRequired,setIpfsGateway:r.default.func.isRequired,ipfsGateway:r.default.string.isRequired,useMultiAccountBalanceChecker:r.default.bool.isRequired,setUseMultiAccountBalanceChecker:r.default.func.isRequired,useCurrencyRateCheck:r.default.bool.isRequired,setUseCurrencyRateCheck:r.default.func.isRequired})}}},{package:"$root$",file:"ui/pages/settings/security-tab/security-tab.component.js"}],[5351,{"../../../store/actions":5456,"./security-tab.component":5350,"react-redux":4008,"react-router-dom":4028,redux:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),s=e("react-router-dom"),o=e("redux"),i=e("../../../store/actions"),l=(a=e("./security-tab.component"))&&a.__esModule?a:{default:a};var c=(0,o.compose)(s.withRouter,(0,r.connect)((e=>{const{appState:{warning:t},metamask:n}=e,{featureFlags:{showIncomingTransactions:a}={},participateInMetaMetrics:r,usePhishDetect:s,useTokenDetection:o,ipfsGateway:i,useMultiAccountBalanceChecker:l,useCurrencyRateCheck:c}=n;return{warning:t,showIncomingTransactions:a,participateInMetaMetrics:r,usePhishDetect:s,useTokenDetection:o,ipfsGateway:i,useMultiAccountBalanceChecker:l,useCurrencyRateCheck:c}}),(e=>({setParticipateInMetaMetrics:t=>e((0,i.setParticipateInMetaMetrics)(t)),setShowIncomingTransactionsFeatureFlag:t=>e((0,i.setFeatureFlag)("showIncomingTransactions",t)),setUsePhishDetect:t=>e((0,i.setUsePhishDetect)(t)),setUseCurrencyRateCheck:t=>e((0,i.setUseCurrencyRateCheck)(t)),setUseTokenDetection:t=>e((0,i.setUseTokenDetection)(t)),setIpfsGateway:t=>e((0,i.setIpfsGateway)(t)),setUseMultiAccountBalanceChecker:t=>e((0,i.setUseMultiAccountBalanceChecker)(t))}))))(l.default);n.default=c}}},{package:"$root$",file:"ui/pages/settings/security-tab/security-tab.container.js"}],[5352,{"./settings-search-list":5353},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=((a=e("./settings-search-list"))&&a.__esModule?a:{default:a}).default;n.default=r}}},{package:"$root$",file:"ui/pages/settings/settings-search-list/index.js"}],[5353,{"../../../components/component-library":4792,"../../../contexts/i18n":5029,"../../../helpers/constants/design-system":5052,"../../../helpers/utils/settings-search":5089,classnames:2376,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=u(e("prop-types")),s=u(e("classnames")),o=e("../../../helpers/utils/settings-search"),i=e("../../../contexts/i18n"),l=e("../../../components/component-library"),c=e("../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p({results:e,onClickSetting:t}){const n=(0,a.useContext)(i.I18nContext);return(0,a.useEffect)(o.highlightSearchedText,[e]),a.default.createElement("div",{className:"settings-page__header__search__list"},e.slice(0,5).map((e=>{const{icon:r,iconName:o,tabMessage:i,sectionMessage:u,route:d}=e;return Boolean(r||i||u)&&a.default.createElement("div",{key:`settings_${d}`},a.default.createElement("div",{className:"settings-page__header__search__list__item",onClick:()=>t(e)},o?a.default.createElement(l.Icon,{name:o}):a.default.createElement("i",{className:(0,s.default)("settings-page__header__search__list__item__icon",r)}),a.default.createElement("span",{id:`menu-tab_${d}`,className:(0,s.default)("settings-page__header__search__list__item__tab",{"settings-page__header__search__list__item__tab-multiple-lines":i(n)===n("securityAndPrivacy")})},i(n)),a.default.createElement(l.Icon,{name:l.IconName.ArrowRight,size:c.Size.SM,className:"settings-page__header__search__list__item__caret"}),a.default.createElement("span",{id:`menu-section_${d}`,className:(0,s.default)("settings-page__header__search__list__item__section",{"settings-page__header__search__list__item__section-multiple-lines":i(n)===n("securityAndPrivacy")||i(n)===n("alerts")})},u(n))))})),0===e.length&&a.default.createElement("div",{className:"settings-page__header__search__list__item",style:{cursor:"auto",display:"flex"}},a.default.createElement("span",{className:"settings-page__header__search__list__item__no-matching"},n("settingsSearchMatchingNotFound"))),a.default.createElement("div",{className:"settings-page__header__search__list__item",style:{cursor:"auto",display:"flex"}},a.default.createElement("span",{className:"settings-page__header__search__list__item__request"},n("missingSetting")),a.default.createElement("a",{href:"https://community.metamask.io/c/feature-requests-ideas/13",target:"_blank",rel:"noopener noreferrer",key:"need-help-link",className:"settings-page__header__search__list__item__link"},n("missingSettingRequest"))))}p.propTypes={results:r.default.array,onClickSetting:r.default.func}}}},{package:"$root$",file:"ui/pages/settings/settings-search-list/settings-search-list.js"}],[5354,{"./settings-search":5355},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=((a=e("./settings-search"))&&a.__esModule?a:{default:a}).default;n.default=r}}},{package:"$root$",file:"ui/pages/settings/settings-search/index.js"}],[5355,{"../../../../shared/modules/string-utils":4363,"../../../components/component-library":4792,"../../../components/ui/icon/search-icon":4939,"../../../components/ui/text-field":5006,"../../../contexts/i18n":5029,"../../../helpers/constants/design-system":5052,"../../../selectors":5449,"@material-ui/core/InputAdornment":725,"fuse.js":3058,"prop-types":3766,react:4043,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=_;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),s=g(e("prop-types")),o=g(e("fuse.js")),i=g(e("@material-ui/core/InputAdornment")),l=g(e("../../../components/ui/text-field")),c=e("../../../contexts/i18n"),u=g(e("../../../components/ui/icon/search-icon")),d=e("../../../../shared/modules/string-utils"),p=e("../../../components/component-library"),f=e("../../../helpers/constants/design-system"),m=e("../../../selectors");function g(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function _({onSearch:e,error:t,settingsRoutesList:n}){const s=(0,a.useContext)(c.I18nContext),[g,h]=(0,a.useState)(""),[_,E]=(0,a.useState)("var(--color-icon-muted)"),y=Object.values(n),b=(0,r.useSelector)(m.getSnapsRouteObjects);y.push(...b);const v=new o.default(y,{shouldSort:!0,threshold:.3,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:["tabMessage","sectionMessage","descriptionMessage"],getFn:(e,t)=>e[t](s)}),w=t=>{const n=t.replace(/[^A-Za-z0-9\s&_]/gu,"").trimStart();h(n),E(""===n?"var(--color-icon-muted)":"var(--color-icon-default)");const a=v.search(n),r=[...y.filter((e=>e.tabMessage&&n&&(0,d.isEqualCaseInsensitive)(e.tab,n))),...a];e({searchQuery:n,results:r})};return a.default.createElement(l.default,{id:"search-settings",placeholder:s("search"),type:"text",value:g,onChange:e=>w(e.target.value),error:t,fullWidth:!0,autoFocus:!0,autoComplete:"off",startAdornment:a.default.createElement(i.default,{position:"start",style:{marginRight:"12px"}},a.default.createElement(u.default,{color:_})),endAdornment:a.default.createElement(a.default.Fragment,null,g&&a.default.createElement(i.default,{className:"imageclosectn",position:"end",onClick:()=>w(""),style:{cursor:"pointer"}},a.default.createElement(p.Icon,{name:p.IconName.Close,color:f.IconColor.iconDefault})))})}_.propTypes={onSearch:s.default.func,error:s.default.string,settingsRoutesList:s.default.array}}}},{package:"$root$",file:"ui/pages/settings/settings-search/settings-search.js"}],[5356,{"./settings-tab.container":5358},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./settings-tab.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/settings-tab/index.js"}],[5357,{"../../../../app/_locales/index.json":3,"../../../../shared/constants/metametrics":4323,"../../../../shared/constants/preferences":4326,"../../../components/component-library/text/deprecated":4826,"../../../components/ui/dropdown":4916,"../../../components/ui/identicon/blockieIdenticon":4942,"../../../components/ui/jazzicon":4949,"../../../components/ui/toggle-button":5010,"../../../helpers/constants/available-conversions.json":5049,"../../../helpers/constants/design-system":5052,"../../../helpers/utils/settings-search":5089,classnames:2376,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=_(e("prop-types")),s=_(e("classnames")),o=_(e("../../../helpers/constants/available-conversions.json")),i=e("../../../helpers/constants/design-system"),l=_(e("../../../components/ui/dropdown")),c=_(e("../../../components/ui/toggle-button")),u=_(e("../../../../app/_locales/index.json")),d=_(e("../../../components/ui/jazzicon")),p=_(e("../../../components/ui/identicon/blockieIdenticon")),f=e("../../../../shared/constants/metametrics"),m=e("../../../helpers/utils/settings-search"),g=e("../../../../shared/constants/preferences"),h=e("../../../components/component-library/text/deprecated");function _(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b=o.default.sort(((e,t)=>e.name.toLocaleLowerCase().localeCompare(t.name.toLocaleLowerCase()))).map((({code:e,name:t})=>({name:`${e.toUpperCase()} - ${t}`,value:e}))),v=u.default.map((e=>({name:`${e.name}`,value:e.code})));class w extends a.PureComponent{constructor(...e){super(...e),y(this,"settingsRefs",Array((0,m.getNumberOfSettingsInSection)(this.context.t,this.context.t("general"))).fill(undefined).map((()=>a.default.createRef())))}componentDidUpdate(){const{t:e}=this.context;(0,m.handleSettingsRefs)(e,e("general"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,m.handleSettingsRefs)(e,e("general"),this.settingsRefs)}renderCurrentConversion(){const{t:e}=this.context,{currentCurrency:t,setCurrentCurrency:n,lastFetchedConversionDate:r}=this.props;return a.default.createElement("div",{ref:this.settingsRefs[0],className:"settings-page__content-row"},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e("currencyConversion")),a.default.createElement("span",{className:"settings-page__content-description"},r?e("updatedWithDate",[new Date(1e3*r).toString()]):e("noConversionDateAvailable"))),a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(l.default,{"data-testid":"currency-select",id:"select-currency",options:b,selectedOption:t,onChange:e=>n(e)}))))}renderCurrentLocale(){const{t:e}=this.context,{updateCurrentLocale:t,currentLocale:n}=this.props,r=u.default.find((e=>e.code===n)),s=r?r.name:"";return a.default.createElement("div",{ref:this.settingsRefs[2],className:"settings-page__content-row"},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",{className:"settings-page__content-label"},e("currentLanguage")),a.default.createElement("span",{className:"settings-page__content-description"},s)),a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(l.default,{"data-testid":"locale-select",id:"select-locale",options:v,selectedOption:n,onChange:async e=>t(e)}))))}renderHideZeroBalanceTokensOptIn(){const{t:e}=this.context,{hideZeroBalanceTokens:t,setHideZeroBalanceTokens:n}=this.props;return a.default.createElement("div",{ref:this.settingsRefs[5],"data-testid":"hide-zero-balance-tokens",className:"settings-page__content-row",id:"toggle-zero-balance"},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e("hideZeroBalanceTokens"))),a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(c.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")}))))}renderBlockieOptIn(){const{t:e}=this.context,{useBlockie:t,setUseBlockie:n,selectedAddress:r,tokenList:o}=this.props;return a.default.createElement("div",{ref:this.settingsRefs[4],className:"settings-page__content-row",id:"blockie-optin"},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement(h.Text,{variant:i.TextVariant.bodyMd,as:"h5",color:i.TextColor.textDefault},e("accountIdenticon")),a.default.createElement("span",{className:"settings-page__content-item__description"},e("jazzAndBlockies")),a.default.createElement("div",{className:"settings-page__content-item__identicon"},a.default.createElement("button",{"data-testid":"jazz_icon",onClick:()=>n(!1),className:"settings-page__content-item__identicon__item"},a.default.createElement("div",{className:(0,s.default)("settings-page__content-item__identicon__item__icon",{"settings-page__content-item__identicon__item__icon--active":!t})},a.default.createElement(d.default,{id:"jazzicon",address:r,diameter:32,tokenList:o,style:{display:"block",borderRadius:"16px",width:"32px",height:"32px"}})),a.default.createElement(h.Text,{color:i.TextColor.textDefault,variant:i.TextVariant.bodySm,as:"h6",marginTop:0,marginRight:12,marginBottom:0,marginLeft:3},e("jazzicons"))),a.default.createElement("button",{"data-testid":"blockie_icon",onClick:()=>n(!0),className:"settings-page__content-item__identicon__item"},a.default.createElement("div",{className:(0,s.default)("settings-page__content-item__identicon__item__icon",{"settings-page__content-item__identicon__item__icon--active":t})},a.default.createElement(p.default,{id:"blockies",address:r,diameter:32,borderRadius:"50%"})),a.default.createElement(h.Text,{color:i.TextColor.textDefault,variant:i.TextVariant.bodySm,as:"h6",marginTop:3,marginRight:0,marginBottom:3,marginLeft:3},e("blockies"))))))}renderUsePrimaryCurrencyOptions(){const{t:e}=this.context,{nativeCurrency:t,setUseNativeCurrencyAsPrimaryCurrencyPreference:n,useNativeCurrencyAsPrimaryCurrency:r}=this.props;return a.default.createElement("div",{ref:this.settingsRefs[1],className:"settings-page__content-row"},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e("primaryCurrencySetting")),a.default.createElement("div",{className:"settings-page__content-description"},e("primaryCurrencySettingDescription"))),a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement("div",{className:"settings-tab__radio-buttons"},a.default.createElement("div",{className:"settings-tab__radio-button"},a.default.createElement("input",{type:"radio","data-testid":"toggle-native-currency",id:"native-primary-currency",onChange:()=>n(!0),checked:Boolean(r)}),a.default.createElement("label",{htmlFor:"native-primary-currency",className:"settings-tab__radio-label"},t)),a.default.createElement("div",{className:"settings-tab__radio-button"},a.default.createElement("input",{type:"radio","data-testid":"toggle-fiat-currency",id:"fiat-primary-currency",onChange:()=>n(!1),checked:!r}),a.default.createElement("label",{htmlFor:"fiat-primary-currency",className:"settings-tab__radio-label"},e("fiat")))))))}renderTheme(){const{t:e}=this.context,{theme:t,setTheme:n}=this.props,r=[{name:e("lightTheme"),value:g.ThemeType.light},{name:e("darkTheme"),value:g.ThemeType.dark},{name:e("osTheme"),value:g.ThemeType.os}];return a.default.createElement("div",{ref:this.settingsRefs[3],className:"settings-page__content-row"},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,this.context.t("theme")),a.default.createElement("div",{className:"settings-page__content-description"},this.context.t("themeDescription"))),a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(l.default,{id:"select-theme",options:r,selectedOption:t,onChange:e=>{this.context.trackEvent({category:f.MetaMetricsEventCategory.Settings,event:"Theme Changed",properties:{theme_selected:e}}),n(e)}}))))}render(){const{warning:e}=this.props;return a.default.createElement("div",{className:"settings-page__body"},e?a.default.createElement("div",{className:"settings-tab__error"},e):null,this.renderCurrentConversion(),this.renderUsePrimaryCurrencyOptions(),this.renderCurrentLocale(),this.renderTheme(),this.renderBlockieOptIn(),this.renderHideZeroBalanceTokensOptIn())}}n.default=w,y(w,"contextTypes",{t:r.default.func,metricsEvent:r.default.func,trackEvent:r.default.func}),y(w,"propTypes",{setUseBlockie:r.default.func,setCurrentCurrency:r.default.func,warning:r.default.string,updateCurrentLocale:r.default.func,currentLocale:r.default.string,useBlockie:r.default.bool,currentCurrency:r.default.string,nativeCurrency:r.default.string,useNativeCurrencyAsPrimaryCurrency:r.default.bool,setUseNativeCurrencyAsPrimaryCurrencyPreference:r.default.func,hideZeroBalanceTokens:r.default.bool,setHideZeroBalanceTokens:r.default.func,lastFetchedConversionDate:r.default.number,selectedAddress:r.default.string,tokenList:r.default.object,theme:r.default.string,setTheme:r.default.func})}}},{package:"$root$",file:"ui/pages/settings/settings-tab/settings-tab.component.js"}],[5358,{"../../../selectors":5449,"../../../store/actions":5456,"./settings-tab.component":5357,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),s=e("../../../store/actions"),o=e("../../../selectors"),i=(a=e("./settings-tab.component"))&&a.__esModule?a:{default:a};var l=(0,r.connect)(((e,t)=>{const{appState:{warning:n},metamask:a}=e,{currentCurrency:r,nativeCurrency:s,useBlockie:i,currentLocale:l,selectedAddress:c}=a,{useNativeCurrencyAsPrimaryCurrency:u,hideZeroBalanceTokens:d}=(0,o.getPreferences)(e),{lastFetchedConversionDate:p}=t;return{warning:n,currentLocale:l,currentCurrency:r,nativeCurrency:s,useBlockie:i,useNativeCurrencyAsPrimaryCurrency:u,hideZeroBalanceTokens:d,lastFetchedConversionDate:p,selectedAddress:c,tokenList:(0,o.getTokenList)(e),theme:(0,o.getTheme)(e)}}),(e=>({setCurrentCurrency:t=>e((0,s.setCurrentCurrency)(t)),setUseBlockie:t=>e((0,s.setUseBlockie)(t)),updateCurrentLocale:t=>e((0,s.updateCurrentLocale)(t)),setUseNativeCurrencyAsPrimaryCurrencyPreference:t=>e((0,s.setUseNativeCurrencyAsPrimaryCurrencyPreference)(t)),setParticipateInMetaMetrics:t=>e((0,s.setParticipateInMetaMetrics)(t)),setHideZeroBalanceTokens:t=>e((0,s.setHideZeroBalanceTokens)(t)),setTheme:t=>e((0,s.setTheme)(t))})))(i.default);n.default=l}}},{package:"$root$",file:"ui/pages/settings/settings-tab/settings-tab.container.js"}],[5359,{"../../../app/scripts/lib/util":82,"../../../shared/constants/app":4316,"../../components/app/add-network/add-network":4370,"../../components/app/tab-bar":4669,"../../components/component-library":4792,"../../components/component-library/text/deprecated":4826,"../../components/ui/metafox-logo":4966,"../../helpers/constants/design-system":5052,"../../helpers/constants/routes":5057,"../../helpers/utils/settings-search":5089,"./advanced-tab":5313,"./alerts-tab":5315,"./contact-list-tab":5324,"./experimental-tab":5330,"./info-tab":5332,"./networks-tab":5336,"./security-tab":5349,"./settings-search":5354,"./settings-search-list":5352,"./settings-tab":5356,"./snaps/snaps-list-tab":5361,"./snaps/view-snap":5363,classnames:2376,"prop-types":3766,react:4043,"react-router-dom":4028},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=x(e("prop-types")),s=e("react-router-dom"),o=x(e("classnames")),i=x(e("../../components/app/tab-bar")),l=e("../../helpers/constants/routes"),c=e("../../helpers/utils/settings-search"),u=x(e("../../components/app/add-network/add-network")),d=e("../../components/component-library"),p=e("../../components/component-library/text/deprecated"),f=e("../../helpers/constants/design-system"),m=x(e("../../components/ui/metafox-logo")),g=e("../../../app/scripts/lib/util"),h=e("../../../shared/constants/app"),_=x(e("./settings-tab")),E=x(e("./alerts-tab")),y=x(e("./networks-tab")),b=x(e("./advanced-tab")),v=x(e("./info-tab")),w=x(e("./security-tab")),T=x(e("./contact-list-tab")),k=x(e("./experimental-tab")),C=x(e("./snaps/snaps-list-tab")),N=x(e("./snaps/view-snap")),S=x(e("./settings-search")),O=x(e("./settings-search-list"));function x(e){return e&&e.__esModule?e:{default:e}}function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},I.apply(this,arguments)}function M(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class P extends a.PureComponent{constructor(...e){super(...e),M(this,"state",{isSearchList:!1,lastFetchedConversionDate:null,searchResults:[],searchText:""})}componentDidMount(){this.handleConversionDate()}componentDidUpdate(){this.handleConversionDate()}handleConversionDate(){const{conversionDate:e}=this.props;null!==e&&this.setState({lastFetchedConversionDate:e})}handleClickSetting(e){const{history:t}=this.props;t.push(e.route),this.setState({isSearchList:"",searchResults:""})}render(){const{history:e,backRoute:t,currentPath:n,mostRecentOverviewPage:r,addNewNetwork:s,isSnapViewPage:i}=this.props,{searchResults:u,isSearchList:p,searchText:_}=this.state,{t:E}=this.context,y=(0,g.getEnvironmentType)()===h.ENVIRONMENT_TYPE_POPUP;return a.default.createElement("div",{className:(0,o.default)("main-container settings-page",{"settings-page--selected":n!==l.SETTINGS_ROUTE})},a.default.createElement(d.Box,{className:"settings-page__header",padding:4,paddingBottom:[2,4]},a.default.createElement("div",{className:"settings-page__header__title-container"},y&&a.default.createElement(a.default.Fragment,null,n===l.SETTINGS_ROUTE?a.default.createElement(m.default,{className:"settings-page__header__title-container__metamask-logo",unsetIconHeight:!0,onClick:async()=>e.push(l.DEFAULT_ROUTE),display:[f.Display.Flex,f.Display.None]}):a.default.createElement(d.ButtonIcon,{ariaLabel:E("back"),iconName:d.IconName.ArrowLeft,className:"settings-page__header__title-container__back-button",color:f.Color.iconDefault,onClick:()=>e.push(t),display:[f.Display.Flex,f.Display.None],size:d.ButtonIconSize.Sm})),this.renderTitle(),a.default.createElement(d.Box,{className:"settings-page__header__title-container__search",display:[f.Display.BLOCK]},a.default.createElement(S.default,{onSearch:({searchQuery:e="",results:t=[]})=>{this.setState({isSearchList:""!==e,searchResults:t,searchText:e})},settingsRoutesList:(0,c.getSettingsRoutes)()}),p&&_.length>=3&&a.default.createElement(O.default,{results:u,onClickSetting:e=>this.handleClickSetting(e)})),a.default.createElement(d.ButtonIcon,{className:"settings-page__header__title-container__close-button",iconName:d.IconName.Close,ariaLabel:E("close"),onClick:()=>{s?e.push(l.NETWORKS_ROUTE):e.push(r)},size:d.ButtonIconSize.Sm,marginLeft:"auto"}))),a.default.createElement("div",{className:"settings-page__content"},a.default.createElement("div",{className:"settings-page__content__tabs"},this.renderTabs()),a.default.createElement("div",{className:"settings-page__content__modules"},i?null:this.renderSubHeader(),this.renderContent())))}renderTitle(){const{t:e}=this.context,{isPopup:t,pathnameI18nKey:n,addressName:r,isSnapViewPage:s}=this.props;let o;return o=e(s?"snaps":t&&r?"details":n&&t?n:"settings"),a.default.createElement("div",{className:"settings-page__header__title-container__title"},a.default.createElement(p.Text,{variant:f.TextVariant.headingMd},o))}renderSubHeader(){const{t:e}=this.context,{currentPath:t,isPopup:n,isAddressEntryPage:r,pathnameI18nKey:s,addressName:i,initialBreadCrumbRoute:c,breadCrumbTextKey:u,history:m,initialBreadCrumbKey:g}=this.props;let h;return h=e(n&&r?"settings":r?"contacts":g||(s||"general")),!t.startsWith(l.NETWORKS_ROUTE)&&a.default.createElement(d.Box,{className:"settings-page__subheader",padding:4,paddingLeft:6,paddingRight:6,display:f.Display.Flex,flexDirection:f.FlexDirection.Row,alignItems:f.AlignItems.center},a.default.createElement(p.Text,{className:(0,o.default)({"settings-page__subheader--link":c}),variant:f.TextVariant.headingSm,onClick:()=>c&&m.push(c)},h),u&&a.default.createElement("div",{className:"settings-page__subheader--break"},a.default.createElement("span",null," > "),e(u)),r&&a.default.createElement("div",{className:"settings-page__subheader--break"},a.default.createElement("span",null," > "),i))}renderTabs(){const{history:e,currentPath:t}=this.props,{t:n}=this.context,r=[{content:n("general"),icon:a.default.createElement(d.Icon,{name:d.IconName.Setting}),key:l.GENERAL_ROUTE},{content:n("advanced"),icon:a.default.createElement("i",{className:"fas fa-sliders-h"}),key:l.ADVANCED_ROUTE},{content:n("contacts"),icon:a.default.createElement(d.Icon,{name:d.IconName.Book}),key:l.CONTACT_LIST_ROUTE},{content:n("snaps"),icon:a.default.createElement(d.Icon,{name:d.IconName.Snaps,title:n("snapsSettingsDescription")}),key:l.SNAPS_LIST_ROUTE},{content:n("securityAndPrivacy"),icon:a.default.createElement("i",{className:"fa fa-lock"}),key:l.SECURITY_ROUTE},{content:n("alerts"),icon:a.default.createElement(d.Icon,{name:d.IconName.Notification}),key:l.ALERTS_ROUTE},{content:n("networks"),icon:a.default.createElement(d.Icon,{name:d.IconName.Plug}),key:l.NETWORKS_ROUTE},{content:n("experimental"),icon:a.default.createElement(d.Icon,{name:d.IconName.Flask}),key:l.EXPERIMENTAL_ROUTE},{content:n("about"),icon:a.default.createElement(d.Icon,{name:d.IconName.Info}),key:l.ABOUT_US_ROUTE}];return a.default.createElement(i.default,{tabs:r,isActive:e=>e===l.GENERAL_ROUTE&&t===l.SETTINGS_ROUTE||(!(e!==l.CONTACT_LIST_ROUTE||!t.includes(l.CONTACT_LIST_ROUTE))||(0,s.matchPath)(t,{exact:!0,path:e})),onSelect:t=>e.push(t)})}renderContent(){return a.default.createElement(s.Switch,null,a.default.createElement(s.Route,{exact:!0,path:l.GENERAL_ROUTE,render:e=>a.default.createElement(_.default,I({},e,{lastFetchedConversionDate:this.state.lastFetchedConversionDate}))}),a.default.createElement(s.Route,{exact:!0,path:l.ABOUT_US_ROUTE,component:v.default}),a.default.createElement(s.Route,{exact:!0,path:l.ADVANCED_ROUTE,component:b.default}),a.default.createElement(s.Route,{exact:!0,path:l.ALERTS_ROUTE,component:E.default}),a.default.createElement(s.Route,{exact:!0,path:l.ADD_NETWORK_ROUTE,render:()=>a.default.createElement(y.default,{addNewNetwork:!0})}),a.default.createElement(s.Route,{exact:!0,path:l.NETWORKS_ROUTE,render:()=>a.default.createElement(y.default,{addNewNetwork:!1})}),a.default.createElement(s.Route,{exact:!0,path:l.ADD_POPULAR_CUSTOM_NETWORK,render:()=>a.default.createElement(u.default,null)}),a.default.createElement(s.Route,{exact:!0,path:l.SECURITY_ROUTE,component:w.default}),a.default.createElement(s.Route,{exact:!0,path:l.EXPERIMENTAL_ROUTE,component:k.default}),a.default.createElement(s.Route,{exact:!0,path:l.CONTACT_LIST_ROUTE,component:T.default}),a.default.createElement(s.Route,{exact:!0,path:l.CONTACT_ADD_ROUTE,component:T.default}),a.default.createElement(s.Route,{exact:!0,path:`${l.CONTACT_EDIT_ROUTE}/:id`,component:T.default}),a.default.createElement(s.Route,{exact:!0,path:`${l.CONTACT_VIEW_ROUTE}/:id`,component:T.default}),a.default.createElement(s.Route,{exact:!0,path:l.SNAPS_LIST_ROUTE,component:C.default}),a.default.createElement(s.Route,{exact:!0,path:`${l.SNAPS_VIEW_ROUTE}/:id`,component:N.default}),a.default.createElement(s.Route,{render:e=>a.default.createElement(_.default,I({},e,{lastFetchedConversionDate:this.state.lastFetchedConversionDate}))}))}}M(P,"propTypes",{addNewNetwork:r.default.bool,addressName:r.default.string,backRoute:r.default.string,breadCrumbTextKey:r.default.string,conversionDate:r.default.number,currentPath:r.default.string,history:r.default.object,initialBreadCrumbKey:r.default.string,initialBreadCrumbRoute:r.default.string,isAddressEntryPage:r.default.bool,isPopup:r.default.bool,isSnapViewPage:r.default.bool,mostRecentOverviewPage:r.default.string.isRequired,pathnameI18nKey:r.default.string}),M(P,"contextTypes",{t:r.default.func});var A=P;n.default=A}}},{package:"$root$",file:"ui/pages/settings/settings.component.js"}],[536,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.version=void 0,n.version="wallet/5.7.0"}}},{package:"@truffle/decoder>@truffle/encoder>@ensdomains/ensjs>ethers>@ethersproject/wallet",file:"node_modules/@ethersproject/wallet/lib/_version.js"}],[5360,{"../../../app/scripts/lib/util":82,"../../../shared/constants/app":4316,"../../../shared/modules/hexstring-utils":4354,"../../ducks/history/history":5041,"../../helpers/constants/routes":5057,"../../selectors":5449,"./settings.component":5359,"react-redux":4008,"react-router-dom":4028,redux:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("redux"),s=e("react-redux"),o=e("react-router-dom"),i=e("../../selectors"),l=e("../../../shared/constants/app"),c=e("../../../app/scripts/lib/util"),u=e("../../ducks/history/history"),d=e("../../../shared/modules/hexstring-utils"),p=e("../../helpers/constants/routes"),f=(a=e("./settings.component"))&&a.__esModule?a:{default:a};const m={[p.ABOUT_US_ROUTE]:"about",[p.ADD_NETWORK_ROUTE]:"networks",[p.ADD_POPULAR_CUSTOM_NETWORK]:"addNetwork",[p.ADVANCED_ROUTE]:"advanced",[p.ALERTS_ROUTE]:"alerts",[p.CONTACT_ADD_ROUTE]:"newContact",[p.CONTACT_EDIT_ROUTE]:"editContact",[p.CONTACT_LIST_ROUTE]:"contacts",[p.CONTACT_VIEW_ROUTE]:"viewContact",[p.EXPERIMENTAL_ROUTE]:"experimental",[p.GENERAL_ROUTE]:"general",[p.NETWORKS_FORM_ROUTE]:"networks",[p.NETWORKS_ROUTE]:"networks",[p.SECURITY_ROUTE]:"securityAndPrivacy",[p.SNAPS_LIST_ROUTE]:"snaps",[p.SNAPS_VIEW_ROUTE]:"snaps"};var g=(0,r.compose)(o.withRouter,(0,s.connect)(((e,t)=>{const{location:n}=t,{pathname:a}=n,{metamask:{conversionDate:r}}=e,s=a.match(/[^/]+$/u)[0],o=s.includes("0x"),f=Boolean(a.match(p.SNAPS_VIEW_ROUTE)),g=Boolean(a.match(p.CONTACT_ADD_ROUTE)),h=Boolean(a.match(p.CONTACT_EDIT_ROUTE)),_=Boolean(a.match(p.NETWORKS_FORM_ROUTE))||Boolean(a.match(p.ADD_NETWORK_ROUTE)),E=Boolean(a.match(p.ADD_NETWORK_ROUTE)),y=Boolean(a.match(p.ADD_POPULAR_CUSTOM_NETWORK)),b=(0,c.getEnvironmentType)()===l.ENVIRONMENT_TYPE_POPUP,v=m[a];let w=p.SETTINGS_ROUTE;h?w=`${p.CONTACT_VIEW_ROUTE}/${s}`:o||g?w=p.CONTACT_LIST_ROUTE:_?w=p.NETWORKS_ROUTE:f?w=p.SNAPS_LIST_ROUTE:y&&(w=p.NETWORKS_ROUTE);return{addNewNetwork:E,addressName:(0,i.getAddressBookEntryOrAccountName)(e,!(0,d.isBurnAddress)(s)&&(0,d.isValidHexAddress)(s,{mixedCaseUseChecksum:!0})?s:""),backRoute:w,conversionDate:r,currentPath:a,initialBreadCrumbKey:undefined,initialBreadCrumbRoute:undefined,isAddressEntryPage:o,isPopup:b,isSnapViewPage:f,mostRecentOverviewPage:(0,u.getMostRecentOverviewPage)(e),pathnameI18nKey:v}})))(f.default);n.default=g}}},{package:"$root$",file:"ui/pages/settings/settings.container.js"}],[5361,{"./snap-list-tab":5362},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./snap-list-tab"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/snaps/snaps-list-tab/index.js"}],[5362,{"../../../../components/app/snaps/snap-settings-card":4650,"../../../../components/component-library":4792,"../../../../components/component-library/text/deprecated":4826,"../../../../components/ui/box":4889,"../../../../helpers/constants/design-system":5052,"../../../../helpers/constants/routes":5057,"../../../../helpers/utils/settings-search":5089,"../../../../hooks/useI18nContext":5116,"../../../../selectors":5449,react:4043,"react-redux":4008,"react-router-dom":4028},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),s=e("react-router-dom"),o=g(e("../../../../components/app/snaps/snap-settings-card")),i=e("../../../../hooks/useI18nContext"),l=e("../../../../helpers/constants/design-system"),c=g(e("../../../../components/ui/box")),u=e("../../../../helpers/constants/routes"),d=e("../../../../selectors"),p=e("../../../../helpers/utils/settings-search"),f=e("../../../../components/component-library"),m=e("../../../../components/component-library/text/deprecated");function g(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}var _=()=>{const e=(0,i.useI18nContext)(),t=(0,s.useHistory)(),n=(0,a.useRef)();(0,a.useEffect)((()=>{(0,p.handleSettingsRefs)(e,e("snaps"),n)}),[n,e]);const g=(0,r.useSelector)((e=>(0,d.getSnapsList)(e)));return a.default.createElement("div",{className:"snap-list-tab",ref:n},g.length?a.default.createElement("div",{className:"snap-list-tab__body"},a.default.createElement("div",{className:"snap-list-tab__wrapper"},g.map((e=>a.default.createElement(o.default,{className:"snap-settings-card",key:e.key,packageName:e.packageName,name:e.name,onClick:()=>{(e=>{t.push(`${u.SNAPS_VIEW_ROUTE}/${encodeURIComponent(e.id)}`)})(e)},snapId:e.id}))))):a.default.createElement(c.default,{className:"snap-list-tab__container--no-snaps",width:"full",height:"full",alignItems:l.AlignItems.center,flexDirection:l.FLEX_DIRECTION.COLUMN},a.default.createElement(c.default,{className:"snap-list-tab__container--no-snaps_inner",width:"full",height:"full",flexDirection:l.FLEX_DIRECTION.COLUMN,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.center},a.default.createElement(f.Icon,{name:f.IconName.Snaps,color:l.IconColor.iconMuted,className:"snap-list-tab__no-snaps_icon",size:f.IconSize.Inherit}),a.default.createElement(m.Text,{color:l.Color.textMuted,align:l.TEXT_ALIGN.CENTER,marginTop:4},e("noSnaps"))),a.default.createElement(c.default,{className:"snap-list-tab__container--no-snaps_banner-tip",width:"full",justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.flexEnd,paddingLeft:4,paddingRight:4,paddingBottom:4},a.default.createElement(f.BannerTip,{logoType:f.BannerTipLogoType.Greeting,title:e("exploreMetaMaskSnaps"),description:e("extendWalletWithSnaps")},a.default.createElement(f.ButtonLink,{size:l.Size.auto,href:"https://metamask.io/snaps/",target:"_blank"},`${e("learnMoreUpperCase")}`)))))};n.default=_}}},{package:"$root$",file:"ui/pages/settings/snaps/snaps-list-tab/snap-list-tab.js"}],[5363,{"./view-snap":5364},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./view-snap"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/snaps/view-snap/index.js"}],[5364,{"../../../../components/app/connected-sites-list":4446,"../../../../components/app/snaps/snap-authorship-expanded":4631,"../../../../components/app/snaps/snap-delineator":4638,"../../../../components/app/snaps/snap-permissions-list":4644,"../../../../components/app/snaps/snap-remove-warning":4648,"../../../../components/component-library":4792,"../../../../components/component-library/text/deprecated":4826,"../../../../components/ui/box":4889,"../../../../components/ui/button":4893,"../../../../helpers/constants/design-system":5052,"../../../../helpers/constants/routes":5057,"../../../../helpers/constants/snaps":5060,"../../../../helpers/utils/util":5093,"../../../../hooks/useI18nContext":5116,"../../../../selectors":5449,"../../../../store/actions":5456,"@metamask/rpc-methods":1373,classnames:2376,react:4043,"react-redux":4008,"react-router-dom":4028},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-router-dom"),s=e("react-redux"),o=e("@metamask/rpc-methods"),i=k(e("classnames")),l=k(e("../../../../components/ui/button")),c=e("../../../../hooks/useI18nContext"),u=e("../../../../helpers/constants/design-system"),d=k(e("../../../../components/app/snaps/snap-authorship-expanded")),p=k(e("../../../../components/ui/box")),f=k(e("../../../../components/app/snaps/snap-remove-warning")),m=k(e("../../../../components/app/connected-sites-list")),g=e("../../../../helpers/constants/routes"),h=e("../../../../store/actions"),_=e("../../../../selectors"),E=e("../../../../helpers/utils/util"),y=e("../../../../components/component-library"),b=e("../../../../components/component-library/text/deprecated"),v=k(e("../../../../components/app/snaps/snap-permissions-list")),w=e("../../../../components/app/snaps/snap-delineator"),T=e("../../../../helpers/constants/snaps");function k(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}var N=function(){const e=(0,c.useI18nContext)(),t=(0,r.useHistory)(),n=(0,r.useLocation)(),k=(0,a.useRef)(null),{pathname:C}=n,N=decodeURIComponent(C.match(/[^/]+$/u)[0]),S=(0,s.useSelector)(_.getSnaps),O=Object.entries(S).map((([e,t])=>t)).find((e=>e.id===N)),[x,R]=(0,a.useState)(!1),[I,M]=(0,a.useState)(!1),[P,A]=(0,a.useState)(!1);(0,a.useEffect)((()=>{O||t.push(g.SNAPS_LIST_ROUTE)}),[t,O]),(0,a.useEffect)((()=>{A(k.current&&k.current.offsetHeight<k.current.scrollHeight)}),[k]);const j=(0,s.useSelector)((e=>(0,_.getSubjectsWithSnapPermission)(e,null==O?void 0:O.id))),D=(0,s.useSelector)((e=>O&&(0,_.getPermissions)(e,O.id))),L=(0,s.useSelector)((e=>(0,_.getPermissionSubjects)(e))),U=(0,s.useSelector)((e=>(0,_.getTargetSubjectMetadata)(e,null==O?void 0:O.id))),F=(0,s.useDispatch)();if(!O)return null;const W=(0,E.getSnapName)(O.id,U),B=P&&!I;return a.default.createElement(p.default,{className:"view-snap",paddingBottom:[4,8],paddingTop:[4,8],paddingLeft:4,paddingRight:4},a.default.createElement(d.default,{snapId:O.id,snap:O}),a.default.createElement(p.default,{className:"view-snap__description",marginTop:[4,7]},a.default.createElement(w.SnapDelineator,{type:T.DelineatorType.Description,snapName:W},a.default.createElement(p.default,{className:(0,i.default)("view-snap__description__wrapper",{open:I}),ref:k},a.default.createElement(b.Text,null,null==O?void 0:O.manifest.description),B&&a.default.createElement(l.default,{className:"view-snap__description__more-button",type:y.BUTTON_VARIANT.LINK,onClick:()=>{M(!0)}},a.default.createElement(b.Text,{color:u.Color.infoDefault},e("more")))))),a.default.createElement(p.default,{className:"view-snap__permissions",marginTop:12},a.default.createElement(b.Text,{variant:u.TextVariant.bodyLgMedium},e("permissions")),a.default.createElement(v.default,{snapId:N,permissions:D??{},targetSubjectMetadata:U,showOptions:!0})),a.default.createElement(p.default,{className:"view-snap__connected-sites",marginTop:12},a.default.createElement(b.Text,{variant:u.TextVariant.bodyLgMedium,marginBottom:4},e("connectedSites")),a.default.createElement(m.default,{connectedSubjects:j,onDisconnect:e=>{((e,t)=>{const n={...L[e].permissions[o.WALLET_SNAP_PERMISSION_KEY].caveats[0].value};delete n[t],Object.keys(n)>0?F((0,h.updateCaveat)(e,o.WALLET_SNAP_PERMISSION_KEY,o.SnapCaveatType.SnapIds,n)):F((0,h.removePermissionsFor)({[e]:[o.WALLET_SNAP_PERMISSION_KEY]}))})(e,O.id)}})),a.default.createElement(p.default,{className:"view-snap__remove",marginTop:12},a.default.createElement(b.Text,{variant:u.TextVariant.bodyLgMedium,color:u.TextColor.textDefault},e("removeSnap")),a.default.createElement(b.Text,{variant:u.TextVariant.bodyMd,color:u.TextColor.textDefault},e("removeSnapDescription")),a.default.createElement(p.default,{marginTop:4},a.default.createElement(l.default,{className:"view-snap__remove-button",type:"danger",onClick:()=>R(!0)},a.default.createElement(b.Text,{variant:u.TextVariant.bodyMd,color:u.TextColor.errorDefault,flexWrap:u.FLEX_WRAP.NO_WRAP,ellipsis:!0,style:{overflow:"hidden"}},`${e("remove")} ${W}`)),x&&a.default.createElement(f.default,{onCancel:()=>R(!1),onSubmit:async()=>{await F((0,h.removeSnap)(O.id))},snapName:W}))))};n.default=N}}},{package:"$root$",file:"ui/pages/settings/snaps/view-snap/view-snap.js"}],[5365,{"../../../../shared/constants/metametrics":4323,"../../../components/component-library/text/deprecated":4826,"../../../components/ui/box":4889,"../../../components/ui/pulse-loader":4982,"../../../contexts/i18n":5029,"../../../contexts/metametrics":5030,"../../../ducks/swaps/swaps":5048,"../../../helpers/constants/design-system":5052,"../../../helpers/constants/routes":5057,"../../../selectors/selectors":5452,"../swaps-footer":5429,"./swap-step-icon":5367,"lodash/isEqual":3603,react:4043,"react-redux":4008,"react-router-dom":4028},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,a.useContext)(i.I18nContext),t=(0,s.useHistory)(),n=(0,r.useDispatch)(),y=(0,r.useSelector)(l.getFetchParams,o.default),{destinationTokenInfo:b,sourceTokenInfo:v}=(null==y?void 0:y.metaData)||{},w=(0,r.useSelector)(l.getApproveTxParams,r.shallowEqual),T=(0,r.useSelector)(c.isHardwareWallet),k=(0,r.useSelector)(c.getHardwareWalletType),C=(0,r.useSelector)(l.getSmartTransactionsOptInStatus),N=(0,r.useSelector)(l.getSmartTransactionsEnabled),S=(0,r.useSelector)(l.getCurrentSmartTransactionsEnabled),O=Boolean(w),x=(0,a.useContext)(g.MetaMetricsContext);(0,a.useEffect)((()=>{x({event:"Awaiting Signature(s) on a HW wallet",category:h.MetaMetricsEventCategory.Swaps,sensitiveProperties:{needs_two_confirmations:O,token_from:null==v?void 0:v.symbol,token_from_amount:null==y?void 0:y.value,token_to:null==b?void 0:b.symbol,request_type:null!=y&&y.balanceError?"Quote":"Order",slippage:null==y?void 0:y.slippage,custom_slippage:2===(null==y?void 0:y.slippage),is_hardware_wallet:T,hardware_wallet_type:k,stx_enabled:N,current_stx_enabled:S,stx_user_opt_in:C}})}),[]);const R=e(O?"swapTwoTransactions":"swapConfirmWithHwWallet");return a.default.createElement("div",{className:"awaiting-signatures"},a.default.createElement(p.default,{paddingLeft:8,paddingRight:8,height:f.BLOCK_SIZES.FULL,justifyContent:f.JustifyContent.center,display:f.DISPLAY.FLEX,className:"awaiting-signatures__content"},a.default.createElement(p.default,{marginTop:3,marginBottom:4},a.default.createElement(d.default,null)),a.default.createElement(_.Text,{color:f.TextColor.textDefault,variant:f.TextVariant.headingMd,as:"h3"},R),O&&a.default.createElement(a.default.Fragment,null,a.default.createElement(_.Text,{variant:f.TextVariant.bodyMdBold,marginTop:2},e("swapToConfirmWithHwWallet")),a.default.createElement("ul",{className:"awaiting-signatures__steps"},a.default.createElement("li",null,a.default.createElement(E.default,{stepNumber:1}),e("swapAllowSwappingOf",[a.default.createElement(_.Text,{as:"span",variant:f.TextVariant.bodyMdBold,key:"allowToken"},null==b?void 0:b.symbol)])),a.default.createElement("li",null,a.default.createElement(E.default,{stepNumber:2}),e("swapFromTo",[a.default.createElement(_.Text,{as:"span",variant:f.TextVariant.bodyMdBold,key:"tokenFrom"},null==v?void 0:v.symbol),a.default.createElement(_.Text,{as:"span",variation:f.TextVariant.bodyMdBold,key:"tokenTo"},null==b?void 0:b.symbol)]))),a.default.createElement(_.Text,{variant:f.TextVariant.bodyMd},e("swapGasFeesSplit")))),a.default.createElement(m.default,{onSubmit:async()=>{await n((0,l.prepareToLeaveSwaps)()),t.push(u.DEFAULT_ROUTE),t.push(u.BUILD_QUOTE_ROUTE)},submitText:e("cancel"),hideCancel:!0}))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),s=e("react-router-dom"),o=y(e("lodash/isEqual")),i=e("../../../contexts/i18n"),l=e("../../../ducks/swaps/swaps"),c=e("../../../selectors/selectors"),u=e("../../../helpers/constants/routes"),d=y(e("../../../components/ui/pulse-loader")),p=y(e("../../../components/ui/box")),f=e("../../../helpers/constants/design-system"),m=y(e("../swaps-footer")),g=e("../../../contexts/metametrics"),h=e("../../../../shared/constants/metametrics"),_=e("../../../components/component-library/text/deprecated"),E=y(e("./swap-step-icon"));function y(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-signatures/awaiting-signatures.js"}],[5366,{"./awaiting-signatures":5365},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./awaiting-signatures"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-signatures/index.js"}],[5367,{"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var a=s(e("react")),r=s(e("prop-types"));function s(e){return e&&e.__esModule?e:{default:e}}function o({stepNumber:e=1}){switch(e){case 1:return a.default.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.default.createElement("circle",{cx:"7",cy:"7",r:"6.25",stroke:"var(--color-primary-default)",strokeWidth:"1.5"}),a.default.createElement("path",{d:"M6.50983 5.192H5.27783L6.14183 4H7.71783V9.68H6.50983V5.192Z",fill:"var(--color-primary-default)"}));case 2:return a.default.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.default.createElement("circle",{cx:"7",cy:"7",r:"6.25",stroke:"var(--color-primary-default)",strokeWidth:"1.5"}),a.default.createElement("path",{d:"M8.92 9.776H5V9.368C5 9.048 5.056 8.77067 5.168 8.536C5.28 8.296 5.42133 8.08533 5.592 7.904C5.768 7.71733 5.96267 7.54933 6.176 7.4C6.39467 7.25067 6.608 7.10133 6.816 6.952C6.928 6.872 7.03467 6.78933 7.136 6.704C7.24267 6.61867 7.33333 6.53067 7.408 6.44C7.488 6.34933 7.552 6.256 7.6 6.16C7.648 6.064 7.672 5.96533 7.672 5.864C7.672 5.67733 7.616 5.52 7.504 5.392C7.39733 5.25867 7.22933 5.192 7 5.192C6.88267 5.192 6.776 5.21333 6.68 5.256C6.584 5.29333 6.50133 5.344 6.432 5.408C6.368 5.472 6.31733 5.54667 6.28 5.632C6.248 5.71733 6.232 5.808 6.232 5.904H5.024C5.024 5.62667 5.07467 5.37067 5.176 5.136C5.27733 4.90133 5.41867 4.70133 5.6 4.536C5.78133 4.36533 5.99467 4.23467 6.24 4.144C6.48533 4.048 6.752 4 7.04 4C7.28 4 7.50933 4.03733 7.728 4.112C7.952 4.18667 8.14933 4.29867 8.32 4.448C8.49067 4.59733 8.62667 4.784 8.728 5.008C8.82933 5.22667 8.88 5.48267 8.88 5.776C8.88 6.032 8.85067 6.25867 8.792 6.456C8.73333 6.648 8.65067 6.824 8.544 6.984C8.44267 7.13867 8.32 7.28 8.176 7.408C8.032 7.536 7.87733 7.66133 7.712 7.784C7.64267 7.832 7.55733 7.888 7.456 7.952C7.36 8.016 7.26133 8.08267 7.16 8.152C7.064 8.22133 6.97333 8.29333 6.888 8.368C6.80267 8.44267 6.74133 8.51467 6.704 8.584H8.92V9.776Z",fill:"var(--color-primary-default)"}));default:return undefined}}o.propTypes={stepNumber:r.default.number}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-signatures/swap-step-icon.js"}],[5368,{"../../../../shared/constants/metametrics":4323,"../../../../shared/constants/swaps":4331,"../../../../shared/lib/ui-utils":4345,"../../../../shared/modules/swaps.utils":4364,"../../../components/ui/mascot":4960,"../../../components/ui/pulse-loader":4982,"../../../contexts/i18n":5029,"../../../contexts/metametrics":5030,"../../../ducks/swaps/swaps":5048,"../../../helpers/constants/routes":5057,"../../../selectors":5449,"../../../store/actions":5456,"../create-new-swap":5378,"../swaps-footer":5429,"../swaps.util":5431,"../view-on-block-explorer":5433,"./quotes-timeout-icon":5370,"./swap-failure-icon":5371,"./swap-success-icon":5372,"@metamask/etherscan-link":1274,events:2336,"lodash/isEqual":3603,"prop-types":3766,react:4043,"react-redux":4008,"react-router-dom":4028},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=I;var a=R(e("events")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),s=e("react-redux"),o=R(e("prop-types")),i=e("react-router-dom"),l=R(e("lodash/isEqual")),c=e("@metamask/etherscan-link"),u=e("../../../contexts/i18n"),d=e("../../../contexts/metametrics"),p=e("../../../../shared/constants/metametrics"),f=e("../../../selectors"),m=e("../../../ducks/swaps/swaps"),g=R(e("../../../components/ui/mascot")),h=e("../../../../shared/constants/swaps"),_=e("../../../../shared/modules/swaps.utils"),E=R(e("../../../components/ui/pulse-loader")),y=e("../../../helpers/constants/routes"),b=e("../../../store/actions"),v=e("../swaps.util"),w=R(e("../swaps-footer")),T=R(e("../create-new-swap")),k=R(e("../view-on-block-explorer")),C=e("../../../../shared/lib/ui-utils"),N=R(e("./swap-failure-icon")),S=R(e("./swap-success-icon")),O=R(e("./quotes-timeout-icon"));function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}function R(e){return e&&e.__esModule?e:{default:e}}function I({swapComplete:e,errorKey:t,txHash:n,tokensReceived:o,submittingSwap:x,txId:R}){const I=(0,r.useContext)(u.I18nContext),M=(0,r.useContext)(d.MetaMetricsContext),P=(0,i.useHistory)(),A=(0,s.useDispatch)(),j=(0,r.useRef)(new a.default),{swapMetaData:D}=(0,s.useSelector)((e=>(0,f.getFullTxData)(e,R)))||{},L=(0,s.useSelector)(m.getFetchParams,l.default),U=(0,s.useSelector)(m.getFromTokenInputValue),F=(0,s.useSelector)(m.getMaxSlippage),W=(0,s.useSelector)(m.getUsedQuote,l.default),B=(0,s.useSelector)(m.getApproveTxParams,s.shallowEqual),$=(0,s.useSelector)(m.getUsedSwapsGasPrice),q=(0,s.useSelector)(f.getCurrentCurrency),G=(0,s.useSelector)(f.getUSDConversionRate),H=(0,s.useSelector)(f.getCurrentChainId),K=(0,s.useSelector)(f.getRpcPrefsForCurrentProvider,s.shallowEqual),[V,Q]=(0,r.useState)(!1);let z;if(W&&$){var Y;z=(0,v.getRenderableNetworkFeesForQuote)({tradeGas:W.gasEstimateWithRefund||W.averageGas,approveGas:(null==B?void 0:B.gas)||"0x0",gasPrice:$,currentCurrency:q,conversionRate:G,tradeValue:null==W||null===(Y=W.trade)||void 0===Y?void 0:Y.value,sourceSymbol:null==D?void 0:D.token_from,sourceAmount:W.sourceAmount,chainId:H}).rawNetworkFees}const Z=(0,s.useSelector)(f.isHardwareWallet),X=(0,s.useSelector)(f.getHardwareWalletType),J=(0,s.useSelector)(m.getSmartTransactionsOptInStatus),ee=(0,s.useSelector)(m.getSmartTransactionsEnabled),te=(0,s.useSelector)(m.getCurrentSmartTransactionsEnabled),ne={token_from:null==D?void 0:D.token_from,token_from_amount:null==D?void 0:D.token_from_amount,token_to:null==D?void 0:D.token_to,request_type:null!=L&&L.balanceError?"Quote":"Order",slippage:null==D?void 0:D.slippage,custom_slippage:2===(null==D?void 0:D.slippage),gas_fees:z,is_hardware_wallet:Z,hardware_wallet_type:X,stx_enabled:ee,current_stx_enabled:te,stx_user_opt_in:J},ae=K.blockExplorerUrl??h.SWAPS_CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[H]??null,re=(0,c.getBlockExplorerLink)({hash:n,chainId:H},{blockExplorerUrl:ae});let se,oe,ie,le,ce;return t===h.OFFLINE_FOR_MAINTENANCE?(se=I("offlineForMaintenance"),ie=I("metamaskSwapsOfflineDescription"),le=I("close"),oe=r.default.createElement(N.default,null)):t===h.SWAP_FAILED_ERROR?(se=I("swapFailedErrorTitle"),ie=I("swapFailedErrorDescriptionWithSupportLink",[r.default.createElement("a",{className:"awaiting-swap__support-link",key:"awaiting-swap-support-link",href:C.SUPPORT_LINK,target:"_blank",rel:"noopener noreferrer",onClick:()=>{M({category:p.MetaMetricsEventCategory.Swaps,event:p.MetaMetricsEventName.SupportLinkClicked,properties:{url:C.SUPPORT_LINK}},{contextPropsIntoEventProperties:[p.MetaMetricsContextProp.PageTitle]})}},new URL(C.SUPPORT_LINK).hostname)]),le=I("tryAgain"),oe=r.default.createElement(N.default,null),ce=re&&r.default.createElement(k.default,{blockExplorerUrl:re,sensitiveTrackingProperties:ne})):t===h.QUOTES_EXPIRED_ERROR?(se=I("swapQuotesExpiredErrorTitle"),ie=I("swapQuotesExpiredErrorDescription"),le=I("tryAgain"),oe=r.default.createElement(O.default,null),V||(Q(!0),M({event:"Quotes Timed Out",category:p.MetaMetricsEventCategory.Swaps,sensitiveProperties:ne}))):t===h.ERROR_FETCHING_QUOTES?(se=I("swapFetchingQuotesErrorTitle"),ie=I("swapFetchingQuotesErrorDescription"),le=I("back"),oe=r.default.createElement(N.default,null)):t===h.QUOTES_NOT_AVAILABLE_ERROR?(se=I("swapQuotesNotAvailableErrorTitle"),ie=I("swapQuotesNotAvailableErrorDescription"),le=I("tryAgain"),oe=r.default.createElement(N.default,null)):t===h.CONTRACT_DATA_DISABLED_ERROR?(se=I("swapContractDataDisabledErrorTitle"),ie=I("swapContractDataDisabledErrorDescription"),le=I("tryAgain"),oe=r.default.createElement(N.default,null)):t||e?!t&&e&&(se=I("swapTransactionComplete"),oe=r.default.createElement(S.default,null),le=I("close"),ie=I("swapTokenAvailable",[r.default.createElement("span",{key:"swapTokenAvailable-2",className:"awaiting-swap__amount-and-symbol"},`${o||""} ${null==D?void 0:D.token_to}`)]),ce=re&&r.default.createElement(k.default,{blockExplorerUrl:re,sensitiveTrackingProperties:ne})):(se=I("swapProcessing"),oe=r.default.createElement(E.default,null),le=I("swapsViewInActivity"),ie=I("swapOnceTransactionHasProcess",[r.default.createElement("span",{key:"swapOnceTransactionHasProcess-1",className:"awaiting-swap__amount-and-symbol","data-testid":"awaiting-swap-amount-and-symbol"},null==D?void 0:D.token_to)]),ce=re&&r.default.createElement(k.default,{blockExplorerUrl:re,sensitiveTrackingProperties:ne})),(0,r.useEffect)((()=>{t&&A((0,b.stopPollingForQuotes)())}),[A,t]),r.default.createElement("div",{className:"awaiting-swap"},r.default.createElement("div",{className:"awaiting-swap__content"},!(e||t)&&r.default.createElement(g.default,{animationEventEmitter:j.current,width:"90",height:"90"}),r.default.createElement("div",{className:"awaiting-swap__status-image"},oe),r.default.createElement("div",{className:"awaiting-swap__header","data-testid":"awaiting-swap-header"},se),r.default.createElement("div",{className:"awaiting-swap__main-description","data-testid":"awaiting-swap-main-description"},ie),ce),!t&&e?r.default.createElement(T.default,{sensitiveTrackingProperties:ne}):null,r.default.createElement(w.default,{onSubmit:async()=>{t===h.OFFLINE_FOR_MAINTENANCE?(await A((0,m.prepareToLeaveSwaps)()),P.push(y.DEFAULT_ROUTE)):t===h.QUOTES_EXPIRED_ERROR?(A((0,m.prepareForRetryGetQuotes)()),await A((0,m.fetchQuotesAndSetQuoteState)(P,U,F,M))):t?await A((0,m.navigateBackToBuildQuote)(P)):((0,_.isSwapsDefaultTokenSymbol)(null==D?void 0:D.token_to,H)||e||await A((0,b.setDefaultHomeActiveTabName)("activity")),P.push(y.DEFAULT_ROUTE))},onCancel:async()=>await A((0,m.navigateBackToBuildQuote)(P)),submitText:le,disabled:x,hideCancel:t!==h.QUOTES_EXPIRED_ERROR}))}I.propTypes={swapComplete:o.default.bool,txHash:o.default.string,tokensReceived:o.default.string,errorKey:o.default.oneOf([h.QUOTES_EXPIRED_ERROR,h.SWAP_FAILED_ERROR,h.ERROR_FETCHING_QUOTES,h.QUOTES_NOT_AVAILABLE_ERROR,h.OFFLINE_FOR_MAINTENANCE,h.CONTRACT_DATA_DISABLED_ERROR]),submittingSwap:o.default.bool,txId:o.default.number}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/awaiting-swap.js"}],[5369,{"./awaiting-swap":5368},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./awaiting-swap"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/index.js"}],[537,{"./_version":536,"@ethersproject/abstract-provider":443,"@ethersproject/abstract-signer":445,"@ethersproject/address":447,"@ethersproject/bytes":457,"@ethersproject/hash":470,"@ethersproject/hdnode":475,"@ethersproject/json-wallets":478,"@ethersproject/keccak256":483,"@ethersproject/logger":486,"@ethersproject/properties":492,"@ethersproject/random":514,"@ethersproject/signing-key":524,"@ethersproject/transactions":533},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a,r=this&&this.__extends||(a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},a(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function o(e){try{l(a.next(e))}catch(e){s(e)}}function i(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}l((a=a.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,a,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,a&&(r=2&s[0]?a.return:s[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,s[1])).done)return r;switch(a=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,a=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],a=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.verifyTypedData=n.verifyMessage=n.Wallet=void 0;var i=e("@ethersproject/address"),l=e("@ethersproject/abstract-provider"),c=e("@ethersproject/abstract-signer"),u=e("@ethersproject/bytes"),d=e("@ethersproject/hash"),p=e("@ethersproject/hdnode"),f=e("@ethersproject/keccak256"),m=e("@ethersproject/properties"),g=e("@ethersproject/random"),h=e("@ethersproject/signing-key"),_=e("@ethersproject/json-wallets"),E=e("@ethersproject/transactions"),y=e("@ethersproject/logger"),b=e("./_version"),v=new y.Logger(b.version);var w=function(e){function t(t,n){var a,r=e.call(this)||this;if(null!=(a=t)&&(0,u.isHexString)(a.privateKey,32)&&null!=a.address){var s=new h.SigningKey(t.privateKey);if((0,m.defineReadOnly)(r,"_signingKey",(function(){return s})),(0,m.defineReadOnly)(r,"address",(0,E.computeAddress)(r.publicKey)),r.address!==(0,i.getAddress)(t.address)&&v.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),function(e){var t=e.mnemonic;return t&&t.phrase}(t)){var o=t.mnemonic;(0,m.defineReadOnly)(r,"_mnemonic",(function(){return{phrase:o.phrase,path:o.path||p.defaultPath,locale:o.locale||"en"}}));var c=r.mnemonic,d=p.HDNode.fromMnemonic(c.phrase,null,c.locale).derivePath(c.path);(0,E.computeAddress)(d.privateKey)!==r.address&&v.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else(0,m.defineReadOnly)(r,"_mnemonic",(function(){return null}))}else{if(h.SigningKey.isSigningKey(t))"secp256k1"!==t.curve&&v.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),(0,m.defineReadOnly)(r,"_signingKey",(function(){return t}));else{"string"==typeof t&&t.match(/^[0-9a-f]*$/i)&&64===t.length&&(t="0x"+t);var f=new h.SigningKey(t);(0,m.defineReadOnly)(r,"_signingKey",(function(){return f}))}(0,m.defineReadOnly)(r,"_mnemonic",(function(){return null})),(0,m.defineReadOnly)(r,"address",(0,E.computeAddress)(r.publicKey))}return n&&!l.Provider.isProvider(n)&&v.throwArgumentError("invalid provider","provider",n),(0,m.defineReadOnly)(r,"provider",n||null),r}return r(t,e),Object.defineProperty(t.prototype,"mnemonic",{get:function(){return this._mnemonic()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"privateKey",{get:function(){return this._signingKey().privateKey},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"publicKey",{get:function(){return this._signingKey().publicKey},enumerable:!1,configurable:!0}),t.prototype.getAddress=function(){return Promise.resolve(this.address)},t.prototype.connect=function(e){return new t(this,e)},t.prototype.signTransaction=function(e){var t=this;return(0,m.resolveProperties)(e).then((function(n){null!=n.from&&((0,i.getAddress)(n.from)!==t.address&&v.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete n.from);var a=t._signingKey().signDigest((0,f.keccak256)((0,E.serialize)(n)));return(0,E.serialize)(n,a)}))},t.prototype.signMessage=function(e){return s(this,void 0,void 0,(function(){return o(this,(function(t){return[2,(0,u.joinSignature)(this._signingKey().signDigest((0,d.hashMessage)(e)))]}))}))},t.prototype._signTypedData=function(e,t,n){return s(this,void 0,void 0,(function(){var a,r=this;return o(this,(function(s){switch(s.label){case 0:return[4,d._TypedDataEncoder.resolveNames(e,t,n,(function(e){return null==r.provider&&v.throwError("cannot resolve ENS names without a provider",y.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:e}),r.provider.resolveName(e)}))];case 1:return a=s.sent(),[2,(0,u.joinSignature)(this._signingKey().signDigest(d._TypedDataEncoder.hash(a.domain,t,a.value)))]}}))}))},t.prototype.encrypt=function(e,t,n){if("function"!=typeof t||n||(n=t,t={}),n&&"function"!=typeof n)throw new Error("invalid callback");return t||(t={}),(0,_.encryptKeystore)(this,e,t,n)},t.createRandom=function(e){var n=(0,g.randomBytes)(16);e||(e={}),e.extraEntropy&&(n=(0,u.arrayify)((0,u.hexDataSlice)((0,f.keccak256)((0,u.concat)([n,e.extraEntropy])),0,16)));var a=(0,p.entropyToMnemonic)(n,e.locale);return t.fromMnemonic(a,e.path,e.locale)},t.fromEncryptedJson=function(e,n,a){return(0,_.decryptJsonWallet)(e,n,a).then((function(e){return new t(e)}))},t.fromEncryptedJsonSync=function(e,n){return new t((0,_.decryptJsonWalletSync)(e,n))},t.fromMnemonic=function(e,n,a){return n||(n=p.defaultPath),new t(p.HDNode.fromMnemonic(e,null,a).derivePath(n))},t}(c.Signer);n.Wallet=w,n.verifyMessage=function(e,t){return(0,E.recoverAddress)((0,d.hashMessage)(e),t)},n.verifyTypedData=function(e,t,n,a){return(0,E.recoverAddress)(d._TypedDataEncoder.hash(e,t,n),a)}}}},{package:"@truffle/decoder>@truffle/encoder>@ensdomains/ensjs>ethers>@ethersproject/wallet",file:"node_modules/@ethersproject/wallet/lib/index.js"}],[5370,{react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return r.default.createElement("svg",{width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M22 0C9.96768 0 0.178406 9.78928 0.178406 21.8216C0.178406 33.8539 9.96768 43.6432 22 43.6432C34.0323 43.6432 43.8216 33.8539 43.8216 21.8216C43.8216 9.78929 34.0323 0 22 0ZM22 3.27324C32.2633 3.27324 40.5484 11.5583 40.5484 21.8216C40.5484 32.0849 32.2633 40.3699 22 40.3699C11.7367 40.3699 3.45164 32.0849 3.45164 21.8216C3.45164 11.5583 11.7367 3.27324 22 3.27324ZM22 6.00094C21.0961 6.00094 20.3634 6.73371 20.3634 7.63756V21.8216C20.3634 22.4269 20.6932 22.9534 21.1817 23.2366L32.5187 29.783C33.3014 30.235 34.3001 29.9692 34.752 29.1864C35.2039 28.4036 34.938 27.405 34.1553 26.953L23.6366 20.8839V7.63756C23.6366 6.73371 22.9039 6.00094 22 6.00094Z",fill:"var(--color-primary-default)"}))};var a,r=(a=e("react"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/quotes-timeout-icon.js"}],[5371,{react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return r.default.createElement("svg",{width:"45",height:"39",viewBox:"0 0 45 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M22.203 0.424438L0.285706 38.2816H44.1203L22.203 0.424438ZM22.203 8.39436L37.2064 34.2966H7.19961L22.203 8.39436ZM20.2105 16.3643V24.3342H24.1955V16.3643H20.2105ZM20.2105 28.3192V32.3041H24.1955V28.3192",fill:"var(--color-error-default)"}))};var a,r=(a=e("react"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/swap-failure-icon.js"}],[5372,{react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return r.default.createElement("svg",{width:"38",height:"38",viewBox:"0 0 38 38",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M34.1429 19C34.1429 23.0161 32.5474 26.8678 29.7076 29.7076C26.8678 32.5474 23.0161 34.1428 19 34.1428C14.9839 34.1428 11.1322 32.5474 8.29238 29.7076C5.45254 26.8678 3.85714 23.0161 3.85714 19C3.85714 14.9838 5.45254 11.1322 8.29238 8.29237C11.1322 5.45253 14.9839 3.85713 19 3.85713C20.4386 3.85713 21.8393 4.06534 23.1643 4.44391L26.1361 1.47213C23.9404 0.563554 21.5364 0.0714111 19 0.0714111C16.5143 0.0714111 14.0529 0.561013 11.7563 1.51226C9.45983 2.46351 7.37316 3.85778 5.61548 5.61546C2.06568 9.16526 0.0714264 13.9798 0.0714264 19C0.0714264 24.0201 2.06568 28.8347 5.61548 32.3845C7.37316 34.1422 9.45983 35.5364 11.7563 36.4877C14.0529 37.4389 16.5143 37.9286 19 37.9286C24.0202 37.9286 28.8347 35.9343 32.3845 32.3845C35.9343 28.8347 37.9286 24.0201 37.9286 19H34.1429ZM11.2582 15.3657L8.58928 18.0536L17.1071 26.5714L36.0357 7.64284L33.3668 4.95498L17.1071 21.2146L11.2582 15.3657Z",fill:"var(--color-success-default)"}))};var a,r=(a=e("react"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/swap-success-icon.js"}],[5373,{"../../../../shared/constants/metametrics":4323,"../../../../shared/constants/swaps":4331,"../../../../shared/lib/swaps-utils":4341,"../../../../shared/lib/token-util.ts":4343,"../../../../shared/lib/transactions-controller-utils":4344,"../../../../shared/modules/conversion.utils":4350,"../../../../shared/modules/string-utils":4363,"../../../../shared/modules/swaps.utils":4364,"../../../components/ui/actionable-message/actionable-message":4885,"../../../components/ui/info-tooltip":4946,"../../../contexts/i18n":5029,"../../../contexts/metametrics":5030,"../../../ducks/metamask/metamask":5044,"../../../ducks/swaps/swaps":5048,"../../../helpers/constants/routes":5057,"../../../helpers/utils/util":5093,"../../../hooks/useEqualityCheck":5113,"../../../hooks/useEthFiatAmount":5114,"../../../hooks/usePrevious":5120,"../../../hooks/useTokenFiatAmount":5132,"../../../hooks/useTokenTracker":5133,"../../../hooks/useTokensToSearch":5134,"../../../selectors":5449,"../../../store/actions":5456,"../dropdown-input-pair":5380,"../dropdown-search-list":5382,"../prepare-swap-page/smart-transactions-popover":5402,"../slippage-buttons":5418,"../swaps-footer":5429,"../swaps.util":5431,"@metamask/etherscan-link":1274,"bignumber.js":2222,classnames:2376,lodash:3617,"prop-types":3766,react:4043,"react-redux":4008,"react-router-dom":4028},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=K;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=$(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=B(e("bignumber.js")),s=B(e("prop-types")),o=e("react-redux"),i=B(e("classnames")),l=e("lodash"),c=e("react-router-dom"),u=e("@metamask/etherscan-link"),d=e("../../../contexts/metametrics"),p=e("../../../hooks/useTokensToSearch"),f=e("../../../hooks/useEqualityCheck"),m=e("../../../contexts/i18n"),g=B(e("../dropdown-input-pair")),h=B(e("../dropdown-search-list")),_=B(e("../slippage-buttons")),E=e("../../../ducks/metamask/metamask"),y=B(e("../../../components/ui/info-tooltip")),b=B(e("../../../components/ui/actionable-message/actionable-message")),v=e("../../../helpers/constants/routes"),w=e("../../../ducks/swaps/swaps"),T=e("../../../selectors"),k=e("../../../helpers/utils/util"),C=e("../../../hooks/usePrevious"),N=e("../../../hooks/useTokenTracker"),S=e("../../../hooks/useTokenFiatAmount"),O=e("../../../hooks/useEthFiatAmount"),x=e("../../../../shared/modules/swaps.utils"),R=e("../../../../shared/constants/metametrics"),I=e("../../../../shared/constants/swaps"),M=e("../../../store/actions"),P=e("../swaps.util"),A=B(e("../swaps-footer")),j=e("../../../../shared/modules/string-utils"),D=e("../../../../shared/lib/transactions-controller-utils"),L=e("../../../../shared/lib/token-util.ts"),U=e("../../../../shared/lib/swaps-utils"),F=e("../../../../shared/modules/conversion.utils"),W=B(e("../prepare-swap-page/smart-transactions-popover"));function B(e){return e&&e.__esModule?e:{default:e}}function $(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return($=function(e){return e?n:t})(e)}const q=[{name:"name",weight:.499},{name:"symbol",weight:.499},{name:"address",weight:.002}],G=15;let H;function K({ethBalance:e,selectedAccountAddress:t,shuffledTokensList:n}){var s;const B=(0,a.useContext)(m.I18nContext),$=(0,o.useDispatch)(),K=(0,c.useHistory)(),V=(0,a.useContext)(d.MetaMetricsContext),[Q,z]=(0,a.useState)(undefined),[Y,Z]=(0,a.useState)(!1),X=(0,o.useSelector)(w.getIsFeatureFlagLoaded),J=(0,o.useSelector)(w.getBalanceError),ee=(0,o.useSelector)(w.getFetchParams,l.isEqual),{sourceTokenInfo:te={},destinationTokenInfo:ne={}}=(null==ee?void 0:ee.metaData)||{},ae=(0,o.useSelector)(E.getTokens,l.isEqual),re=(0,o.useSelector)(w.getTopAssets,l.isEqual),se=(0,o.useSelector)(w.getFromToken,l.isEqual),oe=(0,o.useSelector)(w.getFromTokenInputValue),ie=(0,o.useSelector)(w.getFromTokenError),le=(0,o.useSelector)(w.getMaxSlippage),ce=(0,o.useSelector)(w.getToToken,l.isEqual)||ne,ue=(0,o.useSelector)(T.getSwapsDefaultToken,l.isEqual),de=(0,o.useSelector)(T.getCurrentChainId),pe=(0,o.useSelector)(T.getRpcPrefsForCurrentProvider,o.shallowEqual),fe=(0,o.useSelector)(T.getTokenList,l.isEqual),me=(0,o.useSelector)(w.getQuotes,l.isEqual),ge=Object.keys(me).length>0,he=(0,o.useSelector)(w.getLatestAddedTokenTo,l.isEqual),_e=(0,o.useSelector)(T.getTokenExchangeRates,l.isEqual),Ee=(0,o.useSelector)(E.getConversionRate),ye=(0,o.useSelector)(T.getUseCurrencyRateCheck),be=(0,o.useSelector)(T.isHardwareWallet),ve=(0,o.useSelector)(T.getHardwareWalletType),we=(0,o.useSelector)(w.getSmartTransactionsOptInStatus),Te=(0,o.useSelector)(w.getSmartTransactionsEnabled),ke=(0,o.useSelector)(w.getCurrentSmartTransactionsEnabled),Ce=(0,o.useSelector)(w.getSmartTransactionFees),Ne=we!==undefined,Se=(0,o.useSelector)(w.getCurrentSmartTransactionsError),Oe=(0,o.useSelector)(T.getCurrentCurrency),xe=Te&&!Ne,Re=(0,x.isSwapsDefaultTokenSymbol)(null==te?void 0:te.symbol,de)?ue:te,{loading:Ie,tokensWithBalances:Me}=(0,N.useTokenTracker)(ae),Pe=!(0,x.isSwapsDefaultTokenSymbol)(null==se?void 0:se.symbol,de)&&null!=se&&se.balance?[se]:[],Ae=(0,l.uniqBy)([...Me,...ae,...Pe],"address"),je=(0,f.useEqualityCheck)(Ae),De=(0,p.getRenderableTokenData)(se||Re,_e,Ee,Oe,de,fe),Le=(0,p.useTokensToSearch)({usersTokens:je,topTokens:re,shuffledTokensList:n,tokenBucketPriority:I.TokenBucketPriority.owned}),Ue=(0,p.useTokensToSearch)({usersTokens:je,topTokens:re,shuffledTokensList:n,tokenBucketPriority:I.TokenBucketPriority.top}),Fe=Le.find((({address:e})=>(0,j.isEqualCaseInsensitive)(e,null==ce?void 0:ce.address)))||ce,We=(null==Fe?void 0:Fe.address)&&!(0,x.isSwapsDefaultTokenAddress)(null==Fe?void 0:Fe.address,de),Be=Number((null==Fe?void 0:Fe.occurances)||(null==Fe?void 0:Fe.occurrences)||0),{address:$e,symbol:qe,string:Ge,decimals:He,balance:Ke}=De||{},{address:Ve}=Fe||{},Qe=Ke&&(0,D.calcTokenAmount)(Ke,He).toString(10),ze=(0,C.usePrevious)(Qe),Ye=(0,S.useTokenFiatAmount)($e,oe||0,qe,{showFiat:ye},!0),Ze=(0,O.useEthFiatAmount)(oe||0,{showFiat:ye},!0),Xe=(0,x.isSwapsDefaultTokenSymbol)(qe,de)?Ze:Ye,Je=(0,a.useCallback)(((e,t)=>{$((0,w.setFromTokenInputValue)(e));const n=new r.default(e||0).gt(t||0);J!==n&&$((0,w.setBalanceError)(n)),$((0,w.setFromTokenError)(se&&(0,P.countDecimals)(e)>se.decimals?"tooManyDecimals":null))}),[$,se,J]),et=e=>{null!=e&&e.address&&!Xe&&null!==Q?(0,P.fetchTokenPrice)(e.address).then((e=>{null!==e&&e!==undefined&&z(e)})):z(null),null!=e&&e.address&&!je.find((t=>(0,j.isEqualCaseInsensitive)(t.address,e.address)))&&(0,L.fetchTokenBalance)(e.address,t,global.ethereumProvider).then((t=>{if(null!=t&&t.balance){const n=t.balance.toString(10),a=(0,D.calcTokenAmount)(n,e.decimals);$((0,w.setSwapsFromToken)({...e,string:a.toString(10),balance:n}))}})),$((0,w.setSwapsFromToken)(e)),Je(null!=e&&e.address?oe:"",e.string,e.decimals)},tt=(0,u.getTokenTrackerLink)(Fe.address,de,null,null,{blockExplorerUrl:I.SWAPS_CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[de]??null}),nt=pe.blockExplorerUrl?(0,k.getURLHostName)(tt):B("etherscan"),{address:at}=ce||{},rt=(0,a.useCallback)((e=>{he&&e.address!==at&&$((0,M.ignoreTokens)({tokensToIgnore:at,dontShowLoadingIndicator:!0})),$((0,w.setSwapToToken)(e)),Z(!1)}),[$,he,at]),st=(0,a.useCallback)((e=>(0,j.isEqualCaseInsensitive)(e.address,$e)),[$e]),ot=Me.find((e=>(0,j.isEqualCaseInsensitive)(e.address,null==se?void 0:se.address))),it=(0,C.usePrevious)(ot);(0,a.useEffect)((()=>{const e=!(0,x.isSwapsDefaultTokenAddress)(null==ot?void 0:ot.address,de),t=(0,j.isEqualCaseInsensitive)(null==ot?void 0:ot.address,null==it?void 0:it.address),n=(null==ot?void 0:ot.balance)!==(null==it?void 0:it.balance);e&&t&&n&&$((0,w.setSwapsFromToken)({...se,balance:null==ot?void 0:ot.balance,string:null==ot?void 0:ot.string}))}),[$,ot,it,se,de]),(0,a.useEffect)((()=>{(0,x.isSwapsDefaultTokenAddress)(null==se?void 0:se.address,de)&&(null==se?void 0:se.balance)!==(0,F.hexToDecimal)(e)&&$((0,w.setSwapsFromToken)({...se,balance:(0,F.hexToDecimal)(e),string:(0,F.getValueFromWeiHex)({value:e,numberOfDecimals:4,toDenomination:"ETH"})}))}),[$,se,e,de]),(0,a.useEffect)((()=>{ze!==Qe&&Je(oe,Qe)}),[Je,ze,oe,Qe]);const lt=(0,a.useCallback)((()=>{V({event:"Build Quote Page Loaded",category:R.MetaMetricsEventCategory.Swaps,sensitiveProperties:{is_hardware_wallet:be,hardware_wallet_type:ve,stx_enabled:Te,current_stx_enabled:ke,stx_user_opt_in:we}})}),[V,be,ve,Te,ke,we]);(0,a.useEffect)((()=>{$((0,M.resetSwapsPostFetchState)()),$((0,w.setReviewSwapClickedTimestamp)()),lt()}),[$,lt]),(0,a.useEffect)((()=>{Te&&null!=Ce&&Ce.tradeTxFees&&(0,M.clearSmartTransactionFees)()}),[Te,Ce]);const ct=()=>a.default.createElement("a",{className:"build-quote__token-etherscan-link build-quote__underline",key:"build-quote-etherscan-link",onClick:()=>{V({event:R.MetaMetricsEventName.ExternalLinkClicked,category:R.MetaMetricsEventCategory.Swaps,properties:{link_type:R.MetaMetricsEventLinkType.TokenTracker,location:"Swaps Confirmation",url_domain:(0,k.getURLHostName)(tt)}}),global.platform.openTab({url:tt})},target:"_blank",rel:"noopener noreferrer"},nt);let ut="";tt&&(1===Be?ut=B("verifyThisTokenOn",[a.default.createElement(ct,{key:"block-explorer-link"})]):0===Be&&(ut=B("verifyThisUnconfirmedTokenOn",[a.default.createElement(ct,{key:"block-explorer-link"})])));const dt=B("swapYourTokenBalance",[Ge||"0",qe||(null===(s=I.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[de])||void 0===s?void 0:s.symbol)||""]),pt=(0,U.shouldEnableDirectWrapping)(de,$e,Fe.address),ft=ie||!X||!Number(oe)||!(null!=Fe&&Fe.address)||!$e||Number(le)<0||Number(le)>G||We&&Be<2&&!Y;return(0,a.useEffect)((()=>{$((0,M.clearSwapsQuotes)()),$((0,M.stopPollingForQuotes)());return H=setTimeout((()=>{H=null,ft||(async()=>{await $((0,w.fetchQuotesAndSetQuoteState)(K,oe,le,V,!0))})()}),1e3),()=>clearTimeout(H)}),[$,K,le,V,ft,oe,$e,Ve,we]),a.default.createElement("div",{className:"build-quote"},a.default.createElement("div",{className:"build-quote__content"},xe&&a.default.createElement(W.default,{onEnableSmartTransactionsClick:()=>(0,M.setSmartTransactionsOptInStatus)(!0,we),onCloseSmartTransactionsOptInPopover:e=>{null==e||e.preventDefault(),(0,M.setSmartTransactionsOptInStatus)(!1,we)}}),a.default.createElement("div",{className:"build-quote__dropdown-input-pair-header"},a.default.createElement("div",{className:"build-quote__input-label"},B("swapSwapFrom")),!(0,x.isSwapsDefaultTokenSymbol)(qe,de)&&a.default.createElement("div",{className:"build-quote__max-button","data-testid":"build-quote__max-button",onClick:()=>Je(Qe||"0",Qe)},B("max"))),a.default.createElement(g.default,{onSelect:et,itemsToSearch:Le,onInputChange:e=>{Je(e,Qe)},inputValue:oe,leftValue:oe&&Xe,selectedItem:De,maxListItems:30,loading:Ie&&(!(null!=Le&&Le.length)||!re||!Object.keys(re).length),selectPlaceHolderText:B("swapSelect"),hideItemIf:e=>(0,j.isEqualCaseInsensitive)(e.address,null==Fe?void 0:Fe.address),listContainerClassName:"build-quote__open-dropdown",autoFocus:!0}),a.default.createElement("div",{className:(0,i.default)("build-quote__balance-message",{"build-quote__balance-message--error":J||ie})},!ie&&!J&&qe&&dt,!ie&&J&&qe&&a.default.createElement("div",{className:"build-quite__insufficient-funds"},a.default.createElement("div",{className:"build-quite__insufficient-funds-first"},B("swapsNotEnoughForTx",[qe])),a.default.createElement("div",{className:"build-quite__insufficient-funds-second"},dt)),ie&&a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"build-quote__form-error"},B("swapTooManyDecimalsError",[qe,He])),a.default.createElement("div",null,dt))),a.default.createElement("div",{className:"build-quote__swap-arrows-row"},a.default.createElement("button",{className:"build-quote__swap-arrows","data-testid":"build-quote__swap-arrows",onClick:()=>{rt(De),et(Fe)}},a.default.createElement("i",{className:"fa fa-arrow-up",title:B("swapSwapSwitch")}),a.default.createElement("i",{className:"fa fa-arrow-down",title:B("swapSwapSwitch")}))),a.default.createElement("div",{className:"build-quote__dropdown-swap-to-header"},a.default.createElement("div",{className:"build-quote__input-label"},B("swapSwapTo"))),a.default.createElement("div",{className:"dropdown-input-pair dropdown-input-pair__to"},a.default.createElement(h.default,{startingItem:Fe,itemsToSearch:Ue,fuseSearchKeys:q,selectPlaceHolderText:B("swapSelectAToken"),maxListItems:30,onSelect:rt,loading:Ie&&(!(null!=Ue&&Ue.length)||!re||!Object.keys(re).length),externallySelectedItem:Fe,hideItemIf:st,listContainerClassName:"build-quote__open-to-dropdown",hideRightLabels:!0,defaultToAll:!0,shouldSearchForImports:!0})),We&&(Be<2?a.default.createElement(b.default,{type:1===Be?"warning":"danger",message:a.default.createElement("div",{className:"build-quote__token-verification-warning-message"},a.default.createElement("div",{className:"build-quote__bold"},B(1===Be?"swapTokenVerificationOnlyOneSource":"swapTokenVerificationAddedManually")),a.default.createElement("div",null,ut)),primaryAction:Y?null:{label:B("continue"),onClick:()=>Z(!0)},withRightButton:!0,infoTooltipText:tt&&B("swapVerifyTokenExplanation",[nt])}):a.default.createElement("div",{className:"build-quote__token-message"},a.default.createElement("span",{className:"build-quote__bold",key:"token-verification-bold-text"},B("swapTokenVerificationSources",[Be])),tt&&a.default.createElement(a.default.Fragment,null,B("swapTokenVerificationMessage",[a.default.createElement("a",{className:"build-quote__token-etherscan-link",key:"build-quote-etherscan-link",onClick:()=>{V({event:"Clicked Block Explorer Link",category:R.MetaMetricsEventCategory.Swaps,properties:{link_type:"Token Tracker",action:"Swaps Confirmation",block_explorer_domain:(0,k.getURLHostName)(tt)}}),global.platform.openTab({url:tt})},target:"_blank",rel:"noopener noreferrer"},nt)]),a.default.createElement(y.default,{position:"top",contentText:B("swapVerifyTokenExplanation",[nt]),containerClassName:"build-quote__token-tooltip-container",key:"token-verification-info-tooltip"})))),(Te||!Te&&!pt)&&a.default.createElement("div",{className:"build-quote__slippage-buttons-container"},a.default.createElement(_.default,{onSelect:e=>{$((0,w.setMaxSlippage)(e))},maxAllowedSlippage:G,currentSlippage:le,smartTransactionsEnabled:Te,smartTransactionsOptInStatus:we,setSmartTransactionsOptInStatus:M.setSmartTransactionsOptInStatus,currentSmartTransactionsError:Se,isDirectWrappingEnabled:pt}))),a.default.createElement(A.default,{onSubmit:async()=>{$((0,w.setReviewSwapClickedTimestamp)(Date.now())),H?(clearTimeout(H),$((0,w.fetchQuotesAndSetQuoteState)(K,oe,le,V))):ge?K.push(v.VIEW_QUOTE_ROUTE):(await $((0,M.setBackgroundSwapRouteState)("loading")),K.push(v.LOADING_QUOTES_ROUTE))},submitText:B("swapReviewSwap"),disabled:ft,hideCancel:!0,showTermsOfService:!0}))}K.propTypes={ethBalance:s.default.string,selectedAccountAddress:s.default.string,shuffledTokensList:s.default.array}}}},{package:"$root$",file:"ui/pages/swaps/build-quote/build-quote.js"}],[5374,{"./build-quote":5373},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./build-quote"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/build-quote/index.js"}],[5375,{"../../../../shared/constants/time":4334,"../../../components/ui/info-tooltip":4946,"../../../contexts/i18n":5029,"../../../ducks/swaps/swaps":5048,classnames:2376,luxon:3634,"prop-types":3766,react:4043,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=_;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),s=p(e("prop-types")),o=p(e("classnames")),i=e("luxon"),l=e("../../../contexts/i18n"),c=p(e("../../../components/ui/info-tooltip")),u=e("../../../ducks/swaps/swaps"),d=e("../../../../shared/constants/time");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m(e,t,n){return n-(e-t)}function g(e){return Math.max(e-d.SECOND,0)}function h(e,t){const[n,a]=t.split(":");return e<=(60*Number(n)+Number(a))*d.SECOND}function _({timeStarted:e,timeOnly:t,timerBase:n,warningTime:s,labelKey:p,infoTooltipLabelKey:f}){const _=(0,a.useContext)(l.I18nContext),E=(0,a.useRef)(),y=(0,a.useRef)(),b=(0,r.useSelector)(u.getSwapsQuoteRefreshTime),v=(0,r.useSelector)(u.getSwapsQuotePrefetchingRefreshTime),w=y.current?b:v,T=Number(n)||w,[k,C]=(0,a.useState)((()=>Date.now())),[N,S]=(0,a.useState)((()=>m(k,e,T)));(0,a.useEffect)((()=>(E.current===undefined&&(E.current=setInterval((()=>{S(g)}),d.SECOND)),function(){clearInterval(E.current)})),[]),(0,a.useEffect)((()=>{if(y.current||(y.current=e||Date.now()),0===N&&e!==y.current){y.current=e;const t=Date.now();C(t),S(m(t,e,T)),clearInterval(E.current),E.current=setInterval((()=>{S(g)}),d.SECOND)}}),[e,N,T]);const O=i.Duration.fromMillis(N).toFormat("m:ss");let x;return t?x=a.default.createElement("div",{className:"countdown-timer__time"},O):p&&(x=_(p,[a.default.createElement("div",{key:"countdown-time-1",className:"countdown-timer__time"},O)])),a.default.createElement("div",{className:"countdown-timer"},a.default.createElement("div",{"data-testid":"countdown-timer__timer-container",className:(0,o.default)("countdown-timer__timer-container",{"countdown-timer__timer-container--warning":s&&h(N,s)})},x),!t&&f?a.default.createElement(c.default,{position:"bottom",contentText:_(f)}):null)}_.propTypes={timeStarted:s.default.number,timeOnly:s.default.bool,timerBase:s.default.number,warningTime:s.default.string,labelKey:s.default.string,infoTooltipLabelKey:s.default.string}}}},{package:"$root$",file:"ui/pages/swaps/countdown-timer/countdown-timer.js"}],[5376,{"./countdown-timer":5375},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./countdown-timer"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/countdown-timer/index.js"}],[5377,{"../../../../shared/constants/metametrics":4323,"../../../components/ui/box":4889,"../../../contexts/i18n":5029,"../../../contexts/metametrics":5030,"../../../ducks/swaps/swaps":5048,"../../../helpers/constants/routes":5057,"../../../selectors":5449,"lodash/isEqual":3603,"prop-types":3766,react:4043,"react-redux":4008,"react-router-dom":4028},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=_;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),s=g(e("prop-types")),o=e("react-router-dom"),i=g(e("lodash/isEqual")),l=g(e("../../../components/ui/box")),c=e("../../../contexts/i18n"),u=e("../../../contexts/metametrics"),d=e("../../../../shared/constants/metametrics"),p=e("../../../ducks/swaps/swaps"),f=e("../../../helpers/constants/routes"),m=e("../../../selectors");function g(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function _({sensitiveTrackingProperties:e}){const t=(0,a.useContext)(c.I18nContext),n=(0,a.useContext)(u.MetaMetricsContext),s=(0,r.useDispatch)(),g=(0,o.useHistory)(),h=(0,r.useSelector)(m.getSwapsDefaultToken,i.default);return a.default.createElement(l.default,{marginBottom:3,className:"create-new-swap"},a.default.createElement("button",{onClick:async()=>{n({event:"Make Another Swap",category:d.MetaMetricsEventCategory.Swaps,sensitiveProperties:e}),g.push(f.DEFAULT_ROUTE),await s((0,p.navigateBackToBuildQuote)(g)),s((0,p.setSwapsFromToken)(h))}},t("makeAnotherSwap")))}_.propTypes={sensitiveTrackingProperties:s.default.object.isRequired}}}},{package:"$root$",file:"ui/pages/swaps/create-new-swap/create-new-swap.js"}],[5378,{"./create-new-swap":5377},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./create-new-swap"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/create-new-swap/index.js"}],[5379,{"../../../components/ui/text-field":5006,"../dropdown-search-list":5382,classnames:2376,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=l(e("prop-types")),s=l(e("classnames")),o=l(e("../dropdown-search-list")),i=l(e("../../../components/ui/text-field"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const u={1:5.86,2:10.05,3:10.45,4:11.1,5:10,6:10.06,7:9.17,8:10.28,9:10.06,0:11.22,".":4.55},d=e=>String(e).split("").reduce(((e,t)=>e+u[t]),12);function p({itemsToSearch:e=[],onInputChange:t,inputValue:n="",onSelect:r,leftValue:l,selectedItem:c,SearchListPlaceholder:u,maxListItems:p,selectPlaceHolderText:f,loading:m,hideItemIf:g,listContainerClassName:h,autoFocus:_}){const[E,y]=(0,a.useState)(!1),b=(0,a.useRef)(),[v,w]=(0,a.useState)(null);return(0,a.useEffect)((()=>{var e,t;w(((null==b||null===(e=b.current)||void 0===e||null===(t=e.getBoundingClientRect())||void 0===t?void 0:t.width)||0)+d(n||"")>137)}),[n,b]),a.default.createElement("div",{className:"dropdown-input-pair"},a.default.createElement(o.default,{itemsToSearch:e,SearchListPlaceholder:u,fuseSearchKeys:[{name:"name",weight:.499},{name:"symbol",weight:.499},{name:"address",weight:.002}],maxListItems:p,onOpen:()=>y(!0),onClose:()=>y(!1),onSelect:r,className:E?"dropdown-input-pair__list--full-width":"",externallySelectedItem:c,selectPlaceHolderText:f,selectorClosedClassName:"dropdown-input-pair__selector--closed",listContainerClassName:h,loading:m,hideItemIf:g,defaultToAll:!0}),!E&&a.default.createElement(i.default,{className:(0,s.default)("dropdown-input-pair__input",{"dropdown-input-pair__two-line-input":v}),type:"text",placeholder:"0",onChange:e=>{e.stopPropagation();const a="."===e.target.value?"0.":e.target.value;""===a||/^(\.\d+|\d+(\.\d+)?|\d+\.)$/u.test(a)?t(a):t(n||"")},fullWidth:!0,margin:"dense",value:n,autoFocus:_}),!E&&l&&a.default.createElement("div",{className:(0,s.default)("dropdown-input-pair__left-value",{"dropdown-input-pair__left-value--two-lines":v}),ref:b},"≈ ",l))}p.propTypes={itemsToSearch:r.default.array,onInputChange:r.default.func,inputValue:r.default.oneOfType([r.default.number,r.default.string]),onSelect:r.default.func,leftValue:r.default.string,selectedItem:r.default.object,SearchListPlaceholder:r.default.func,maxListItems:r.default.number,selectPlaceHolderText:r.default.string,loading:r.default.bool,hideItemIf:r.default.func,listContainerClassName:r.default.string,autoFocus:r.default.bool}}}},{package:"$root$",file:"ui/pages/swaps/dropdown-input-pair/dropdown-input-pair.js"}],[5380,{"./dropdown-input-pair":5379},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./dropdown-input-pair"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/dropdown-input-pair/index.js"}],[5381,{"../../../../shared/constants/metametrics":4323,"../../../../shared/constants/swaps":4331,"../../../components/component-library":4792,"../../../components/ui/actionable-message/actionable-message":4885,"../../../components/ui/pulse-loader":4982,"../../../components/ui/url-icon":5026,"../../../contexts/i18n":5029,"../../../contexts/metametrics":5030,"../../../ducks/swaps/swaps":5048,"../../../helpers/utils/util":5093,"../../../selectors/selectors":5452,"../import-token":5388,"../searchable-item-list":5404,classnames:2376,lodash:3617,"prop-types":3766,react:4043,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=T;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),s=v(e("prop-types")),o=v(e("classnames")),i=e("lodash"),l=e("../../../contexts/i18n"),c=v(e("../searchable-item-list")),u=v(e("../../../components/ui/pulse-loader")),d=v(e("../../../components/ui/url-icon")),p=e("../../../components/component-library"),f=v(e("../../../components/ui/actionable-message/actionable-message")),m=v(e("../import-token")),g=e("../../../selectors/selectors"),h=e("../../../../shared/constants/swaps"),_=e("../../../helpers/utils/util"),E=e("../../../ducks/swaps/swaps"),y=e("../../../contexts/metametrics"),b=e("../../../../shared/constants/metametrics");function v(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function T({searchListClassName:e,itemsToSearch:t,selectPlaceHolderText:n,fuseSearchKeys:s,defaultToAll:v,maxListItems:w,onSelect:T,startingItem:k,onOpen:C,onClose:N,className:S="",externallySelectedItem:O,selectorClosedClassName:x,loading:R,hideRightLabels:I,hideItemIf:M,listContainerClassName:P,shouldSearchForImports:A}){const j=(0,a.useContext)(l.I18nContext),[D,L]=(0,a.useState)(!1),[U,F]=(0,a.useState)(!1),[W,B]=(0,a.useState)(k),[$,q]=(0,a.useState)(null),[G,H]=(0,a.useState)(""),K=(0,r.useSelector)(g.isHardwareWallet),V=(0,r.useSelector)(g.getHardwareWalletType),Q=(0,r.useSelector)(g.getCurrentChainId),z=(0,r.useSelector)(g.getRpcPrefsForCurrentProvider),Y=(0,r.useSelector)(E.getSmartTransactionsOptInStatus),Z=(0,r.useSelector)(E.getSmartTransactionsEnabled),X=(0,r.useSelector)(E.getCurrentSmartTransactionsEnabled),J=(0,a.useContext)(y.MetaMetricsContext),ee=(0,a.useCallback)((()=>{L(!1),null==N||N()}),[N]),te=(0,a.useCallback)((e=>{null==T||T(e),B(e),ee()}),[T,ee]),ne=(0,a.useCallback)((()=>{D||(L(!0),null==C||C())}),[D,C]),ae=(0,a.useRef)();(0,a.useEffect)((()=>{ae.current=O}));const re=ae.current;(0,a.useEffect)((()=>{O&&!(0,i.isEqual)(O,W)?B(O):re&&!O&&B(null)}),[O,W,re]);const se=z.blockExplorerUrl??h.SWAPS_CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[Q]??null,oe=(0,_.getURLHostName)(se),ie={onImportTokenCloseClick:()=>{F(!1),ee()},onImportTokenClick:()=>{J({event:"Token Imported",category:b.MetaMetricsEventCategory.Swaps,sensitiveProperties:{symbol:null==$?void 0:$.symbol,address:null==$?void 0:$.address,chain_id:Q,is_hardware_wallet:K,hardware_wallet_type:V,stx_enabled:Z,current_stx_enabled:X,stx_user_opt_in:Y}}),null==T||T($),B($),q(null),ee()},setIsImportTokenModalOpen:F,tokenForImport:$};return a.default.createElement("div",{className:(0,o.default)("dropdown-search-list",S),"data-testid":"dropdown-search-list",onClick:ne,onKeyUp:e=>{"Escape"===e.key?ee():"Enter"===e.key&&ne(e)},tabIndex:"0"},$&&U&&a.default.createElement(m.default,ie),!D&&a.default.createElement("div",{className:(0,o.default)("dropdown-search-list__selector-closed-container",x)},a.default.createElement("div",{className:"dropdown-search-list__selector-closed"},(null==W?void 0:W.iconUrl)&&a.default.createElement(d.default,{url:W.iconUrl,className:"dropdown-search-list__selector-closed-icon",name:null==W?void 0:W.symbol}),!(null!=W&&W.iconUrl)&&a.default.createElement("div",{className:"dropdown-search-list__default-dropdown-icon"}),a.default.createElement("div",{className:"dropdown-search-list__labels"},a.default.createElement("div",{className:"dropdown-search-list__item-labels"},a.default.createElement("span",{className:(0,o.default)("dropdown-search-list__closed-primary-label",{"dropdown-search-list__select-default":!(null!=W&&W.symbol)})},(null==W?void 0:W.symbol)||n)))),a.default.createElement(p.Icon,{name:p.IconName.ArrowDown,size:p.IconSize.Xs,marginRight:3})),D&&a.default.createElement(a.default.Fragment,null,a.default.createElement(c.default,{itemsToSearch:R?[]:t,Placeholder:()=>R?a.default.createElement("div",{className:"dropdown-search-list__loading-item"},a.default.createElement(u.default,null),a.default.createElement("div",{className:"dropdown-search-list__loading-item-text-container"},a.default.createElement("span",{className:"dropdown-search-list__loading-item-text"},j("swapFetchingTokens")))):a.default.createElement("div",{className:"dropdown-search-list__placeholder"},j("swapBuildQuotePlaceHolderText",[G]),se&&a.default.createElement("div",{tabIndex:"0",className:"searchable-item-list__item searchable-item-list__item--add-token",key:"searchable-item-list-item-last"},a.default.createElement(f.default,{message:j("addTokenByContractAddress",[a.default.createElement("a",{key:"dropdown-search-list__etherscan-link",onClick:()=>{J({event:"Clicked Block Explorer Link",category:b.MetaMetricsEventCategory.Swaps,properties:{link_type:"Token Tracker",action:"Verify Contract Address",block_explorer_domain:oe}}),global.platform.openTab({url:se})},target:"_blank",rel:"noopener noreferrer"},oe)])}))),searchPlaceholderText:j("swapSearchNameOrAddress"),fuseSearchKeys:s,defaultToAll:v,onClickItem:te,onOpenImportTokenModalClick:e=>{q(e),F(!0)},maxListItems:w,className:(0,o.default)("dropdown-search-list__token-container",e,{"dropdown-search-list--open":D}),hideRightLabels:I,hideItemIf:M,listContainerClassName:P,shouldSearchForImports:A,searchQuery:G,setSearchQuery:H}),a.default.createElement("div",{className:"dropdown-search-list__close-area","data-testid":"dropdown-search-list__close-area",onClick:e=>{e.stopPropagation(),L(!1),null==N||N()}})))}T.propTypes={itemsToSearch:s.default.array,onSelect:s.default.func,searchListClassName:s.default.string,fuseSearchKeys:s.default.arrayOf(s.default.shape({name:s.default.string,weight:s.default.number})),defaultToAll:s.default.bool,maxListItems:s.default.number,startingItem:s.default.object,onOpen:s.default.func,onClose:s.default.func,className:s.default.string,externallySelectedItem:s.default.object,loading:s.default.bool,selectPlaceHolderText:s.default.string,selectorClosedClassName:s.default.string,hideRightLabels:s.default.bool,hideItemIf:s.default.func,listContainerClassName:s.default.string,shouldSearchForImports:s.default.bool}}}},{package:"$root$",file:"ui/pages/swaps/dropdown-search-list/dropdown-search-list.js"}],[5382,{"./dropdown-search-list":5381},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./dropdown-search-list"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/dropdown-search-list/index.js"}],[5383,{"../../../../shared/lib/transactions-controller-utils":4344,"../../../components/component-library":4792,"../../../components/ui/box":4889,"../../../contexts/i18n":5029,"../../../helpers/constants/design-system":5052,"../swaps.util":5431,"bignumber.js":2222,classnames:2376,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=g;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=f(e("prop-types")),s=f(e("bignumber.js")),o=f(e("classnames")),i=e("../swaps.util"),l=e("../../../../shared/lib/transactions-controller-utils"),c=f(e("../../../components/ui/box")),u=e("../../../helpers/constants/design-system"),d=e("../../../components/component-library"),p=e("../../../contexts/i18n");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g({primaryTokenValue:e,primaryTokenDecimals:t=18,primaryTokenSymbol:n,secondaryTokenValue:r,secondaryTokenDecimals:f=18,secondaryTokenSymbol:m,boldSymbols:g=!0,showIconForSwappingTokens:h=!0,className:_,onQuotesClick:E}){const[y,b]=(0,a.useState)(!0),v=(0,a.useContext)(p.I18nContext),w=(0,l.calcTokenAmount)(e,t),T=(0,l.calcTokenAmount)(r,f),k=new s.default(T).div(w).round(9).toString(10),C=new s.default(w).div(T).round(9).toString(10),N=y?n:m,S=y?m:n,O=y?k:C;let x,R="=";new s.default(O,10).lt("0.00000001",10)?(x="0.000000001",R="<"):x=new s.default(O,10).lt("0.000001",10)?O:(0,i.formatSwapsValueForDisplay)(O);const I=E?"exchange-rate-display__quote-rate":"exchange-rate-display__quote-rate--no-link",M=E?u.TextColor.primaryDefault:u.TextColor.textDefault;return a.default.createElement("div",{className:(0,o.default)("exchange-rate-display",_)},a.default.createElement(c.default,{display:u.DISPLAY.FLEX,justifyContent:u.JustifyContent.center,alignItems:u.AlignItems.center,onClick:E,color:M,className:I,"data-testid":"exchange-rate-display-quote-rate"},a.default.createElement("span",null,"1"),a.default.createElement("span",{className:(0,o.default)({"exchange-rate-display__bold":g}),"data-testid":"exchange-rate-display-base-symbol"},N),a.default.createElement("span",null,R),a.default.createElement("span",null,x),a.default.createElement("span",{className:(0,o.default)({"exchange-rate-display__bold":g})},S)),h&&a.default.createElement(d.Icon,{name:d.IconName.SwapHorizontal,onClick:()=>{b(!y)},color:u.IconColor.iconAlternative,style:{cursor:"pointer"},title:v("switch"),"data-testid":"exchange-rate-display-switch"}))}g.propTypes={primaryTokenValue:r.default.oneOfType([r.default.string,r.default.instanceOf(s.default)]).isRequired,primaryTokenDecimals:r.default.oneOfType([r.default.string,r.default.number]),primaryTokenSymbol:r.default.string.isRequired,secondaryTokenValue:r.default.oneOfType([r.default.string,r.default.instanceOf(s.default)]).isRequired,secondaryTokenDecimals:r.default.oneOfType([r.default.string,r.default.number]),secondaryTokenSymbol:r.default.string.isRequired,className:r.default.string,boldSymbols:r.default.bool,showIconForSwappingTokens:r.default.bool,onQuotesClick:r.default.func}}}},{package:"$root$",file:"ui/pages/swaps/exchange-rate-display/exchange-rate-display.js"}],[5384,{"./exchange-rate-display":5383},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./exchange-rate-display"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/exchange-rate-display/index.js"}],[5385,{"../../../../shared/constants/metametrics":4323,"../../../../shared/constants/network":4324,"../../../components/app/transaction-detail-item/transaction-detail-item.component":4704,"../../../components/app/transaction-detail/transaction-detail.component":4706,"../../../components/component-library/text/deprecated":4826,"../../../components/ui/info-tooltip":4946,"../../../contexts/i18n":5029,"../../../contexts/metametrics":5030,"../../../helpers/constants/design-system":5052,"../../../selectors":5449,"prop-types":3766,react:4043,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=y;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),s=h(e("prop-types")),o=e("../../../contexts/i18n"),i=h(e("../../../components/ui/info-tooltip")),l=e("../../../../shared/constants/network"),c=h(e("../../../components/app/transaction-detail/transaction-detail.component")),u=h(e("../../../components/app/transaction-detail-item/transaction-detail-item.component")),d=e("../../../helpers/constants/design-system"),p=e("../../../contexts/metametrics"),f=e("../../../../shared/constants/metametrics"),m=e("../../../selectors"),g=e("../../../components/component-library/text/deprecated");function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}const E="https://community.metamask.io/t/what-is-gas-why-do-transactions-take-so-long/3172";function y({primaryFee:e,secondaryFee:t,hideTokenApprovalRow:n,tokenApprovalSourceTokenSymbol:s,onTokenApprovalClick:h,metaMaskFee:_,numberOfQuotes:y,onQuotesClick:b,chainId:v}){const w=(0,a.useContext)(o.I18nContext),T=(0,r.useSelector)(m.getUseCurrencyRateCheck),k=(0,a.useContext)(p.MetaMetricsContext),C=a.default.createElement("span",{key:"fee-card-approve-symbol",className:"fee-card__bold"},w("enableToken",[s]));return a.default.createElement("div",{className:"fee-card"},a.default.createElement("div",{className:"fee-card__main"},a.default.createElement(c.default,{disableEditGasFeeButton:!0,rows:[a.default.createElement(u.default,{key:"fee-card-gas-item",detailTitle:a.default.createElement(a.default.Fragment,null,w("transactionDetailGasHeading"),a.default.createElement(i.default,{position:"top",contentText:a.default.createElement(a.default.Fragment,null,a.default.createElement("p",{className:"fee-card__info-tooltip-paragraph"},w("swapGasFeesSummary",[(()=>{switch(v){case l.CHAIN_IDS.MAINNET:return w("networkNameEthereum");case l.CHAIN_IDS.BSC:return w("networkNameBSC");case l.CHAIN_IDS.POLYGON:return w("networkNamePolygon");case l.CHAIN_IDS.LOCALHOST:return w("networkNameTestnet");case l.CHAIN_IDS.GOERLI:return w("networkNameGoerli");case l.CHAIN_IDS.AVALANCHE:return w("networkNameAvalanche");case l.CHAIN_IDS.OPTIMISM:return w("networkNameOptimism");case l.CHAIN_IDS.ARBITRUM:return w("networkNameArbitrum");default:throw new Error("This network is not supported for token swaps")}})()])),a.default.createElement("p",{className:"fee-card__info-tooltip-paragraph"},w("swapGasFeesDetails")),a.default.createElement("p",{className:"fee-card__info-tooltip-paragraph"},a.default.createElement("a",{className:"fee-card__link",onClick:()=>{k({event:'Clicked "Gas Fees: Learn More" Link',category:f.MetaMetricsEventCategory.Swaps}),global.platform.openTab({url:E})},target:"_blank",rel:"noopener noreferrer"},w("swapGasFeesLearnMore")))),containerClassName:"fee-card__info-tooltip-content-container",wrapperClassName:"fee-card__row-label fee-card__info-tooltip-container"})),detailText:e.fee,detailTotal:T&&t.fee,subText:((null==t?void 0:t.maxFee)!==undefined||(null==e?void 0:e.maxFee)!==undefined)&&a.default.createElement(a.default.Fragment,null,a.default.createElement(g.Text,{as:"span",fontWeight:d.FontWeight.Bold,color:d.TextColor.textAlternative,variant:d.TextVariant.bodySm},w("maxFee")),T?`: ${t.maxFee}`:`: ${e.maxFee}`)})]}),!n&&a.default.createElement("div",{className:"fee-card__row-header"},a.default.createElement("div",{className:"fee-card__row-label"},a.default.createElement("div",{className:"fee-card__row-header-text"},w("swapEnableTokenForSwapping",[C]),a.default.createElement(i.default,{position:"top",contentText:w("swapEnableDescription",[s]),containerClassName:"fee-card__info-tooltip-container"}))),a.default.createElement("div",{className:"fee-card__link",onClick:()=>h()},w("swapEditLimit"))),a.default.createElement("div",{className:"fee-card__row-header"},a.default.createElement("div",{className:"fee-card__row-label"},a.default.createElement("div",{className:"fee-card__row-header-text"},y>1&&a.default.createElement("span",{onClick:b,className:"fee-card__quote-link-text"},w("swapNQuotesWithDot",[y])),w("swapIncludesMMFee",[_]),a.default.createElement(i.default,{position:"top",contentText:w("swapMetaMaskFeeDescription",[_]),wrapperClassName:"fee-card__info-tooltip-container"}))))))}y.propTypes={primaryFee:s.default.shape({fee:s.default.string.isRequired,maxFee:s.default.string.isRequired}).isRequired,secondaryFee:s.default.shape({fee:s.default.string.isRequired,maxFee:s.default.string.isRequired}),hideTokenApprovalRow:s.default.bool.isRequired,tokenApprovalSourceTokenSymbol:s.default.string,onTokenApprovalClick:s.default.func,metaMaskFee:s.default.string.isRequired,onQuotesClick:s.default.func.isRequired,numberOfQuotes:s.default.number.isRequired,chainId:s.default.string.isRequired}}}},{package:"$root$",file:"ui/pages/swaps/fee-card/fee-card.js"}],[5386,{"./fee-card":5385},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./fee-card"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/fee-card/index.js"}],[5387,{"../../../components/component-library/text/deprecated":4826,"../../../components/ui/actionable-message/actionable-message":4885,"../../../components/ui/box":4889,"../../../components/ui/button":4893,"../../../components/ui/popover":4980,"../../../components/ui/url-icon":5026,"../../../contexts/i18n":5029,"../../../helpers/constants/design-system":5052,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=g;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=f(e("prop-types")),s=e("../../../contexts/i18n"),o=f(e("../../../components/ui/url-icon")),i=f(e("../../../components/ui/popover")),l=f(e("../../../components/ui/button")),c=f(e("../../../components/ui/box")),u=e("../../../components/component-library/text/deprecated"),d=f(e("../../../components/ui/actionable-message/actionable-message")),p=e("../../../helpers/constants/design-system");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g({onImportTokenCloseClick:e,onImportTokenClick:t,setIsImportTokenModalOpen:n,tokenForImport:r}){const f=(0,a.useContext)(s.I18nContext),m=a.default.createElement(a.default.Fragment,null,a.default.createElement(l.default,{type:"secondary",className:"page-container__footer-button",onClick:e},f("cancel")),a.default.createElement(l.default,{type:"primary",className:"page-container__footer-button",onClick:t,"data-testid":"page-container__import-button"},f("import")));return a.default.createElement(i.default,{title:f("importTokenQuestion"),onClose:()=>n(!1),footer:m},a.default.createElement(c.default,{paddingRight:6,paddingBottom:4,paddingLeft:4,alignItems:p.AlignItems.center,display:p.DISPLAY.FLEX,className:"import-token"},a.default.createElement(d.default,{type:"danger",message:f("importTokenWarning")}),a.default.createElement(o.default,{url:r.iconUrl,className:"import-token__token-icon",fallbackClassName:"import-token__token-icon",name:r.symbol}),a.default.createElement(u.Text,{variant:p.TextVariant.headingSm,as:"h4",fontWeight:p.FONT_WEIGHT.BOLD,marginTop:2,marginBottom:3},r.name||""),a.default.createElement(u.Text,{variant:p.TextVariant.bodySm,as:"h6"},f("contract"),":"),a.default.createElement(u.Text,{variant:p.TextVariant.bodySm,className:"import-token__contract-address",as:"h6",marginBottom:6},r.address||"")))}g.propTypes={onImportTokenCloseClick:r.default.func,onImportTokenClick:r.default.func,setIsImportTokenModalOpen:r.default.func,tokenForImport:r.default.object}}}},{package:"$root$",file:"ui/pages/swaps/import-token/import-token.js"}],[5388,{"./import-token":5387},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./import-token"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/import-token/index.js"}],[5389,{"../../../shared/constants/metametrics":4323,"../../../shared/constants/swaps":4331,"../../../shared/constants/transaction":4336,"../../../shared/lib/transactions-controller-utils":4344,"../../components/component-library":4792,"../../components/ui/box":4889,"../../contexts/i18n":5029,"../../contexts/metametrics":5030,"../../ducks/swaps/swaps":5048,"../../helpers/constants/design-system":5052,"../../helpers/constants/routes":5057,"../../helpers/higher-order-components/feature-toggled-route":5066,"../../hooks/useGasFeeEstimates":5115,"../../selectors":5449,"../../selectors/selectors":5452,"../../store/actions":5456,"./awaiting-signatures":5366,"./awaiting-swap":5369,"./build-quote":5374,"./loading-swaps-quotes":5392,"./notification-page/notification-page":5397,"./prepare-swap-page/prepare-swap-page":5399,"./smart-transaction-status":5422,"./swaps.util":5431,"./view-quote":5435,classnames:2376,lodash:3617,react:4043,"react-redux":4008,"react-router-dom":4028},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e,t,n,P;const A=(0,a.useContext)(l.I18nContext),j=(0,s.useHistory)(),D=(0,r.useDispatch)(),L=(0,a.useContext)(y.MetaMetricsContext),{pathname:U}=(0,s.useLocation)(),F=U===p.AWAITING_SWAP_ROUTE,W=U===p.AWAITING_SIGNATURES_ROUTE,B=U===p.SWAPS_ERROR_ROUTE,$=U===p.LOADING_QUOTES_ROUTE,q=U===p.SMART_TRANSACTION_STATUS_ROUTE,G=U===p.VIEW_QUOTE_ROUTE,H=U===p.PREPARE_SWAP_ROUTE,[K,V]=(0,a.useState)(!1),Q=(0,r.useSelector)(u.getFetchParams,o.isEqual),{destinationTokenInfo:z={}}=(null==Q?void 0:Q.metaData)||{},Y=(0,r.useSelector)(u.getBackgroundSwapRouteState),Z=(0,r.useSelector)(c.getSelectedAccount,r.shallowEqual),X=(0,r.useSelector)(u.getQuotes,o.isEqual),J=(0,r.useSelector)(u.getLatestAddedTokenTo,o.isEqual),ee=(0,r.useSelector)(d.currentNetworkTxListSelector,r.shallowEqual),te=(0,r.useSelector)(u.getTradeTxId),ne=(0,r.useSelector)(u.getApproveTxId),ae=(0,r.useSelector)(u.getAggregatorMetadata,r.shallowEqual),re=(0,r.useSelector)(u.getFetchingQuotes);let se=(0,r.useSelector)(u.getSwapsErrorKey);const oe=(0,r.useSelector)(u.getSwapsFeatureIsLive),ie=(0,r.useSelector)(c.getCurrentChainId),le=(0,r.useSelector)(c.getIsSwapsChain),ce=(0,r.useSelector)(d.checkNetworkAndAccountSupports1559),ue=(0,r.useSelector)(c.getTokenList,o.isEqual),de=(0,o.shuffle)(Object.values(ue)),pe=(0,r.useSelector)(u.getReviewSwapClickedTimestamp),fe=(0,r.useSelector)(u.getPendingSmartTransactions),me=Boolean(pe),ge=(0,r.useSelector)(u.getSmartTransactionsOptInStatus),he=(0,r.useSelector)(u.getSmartTransactionsEnabled),_e=(0,r.useSelector)(u.getCurrentSmartTransactionsEnabled),Ee=(0,r.useSelector)(u.getSwapRedesignEnabled),ye=(0,r.useSelector)(u.getCurrentSmartTransactionsError);(0,a.useEffect)((()=>{le||(async()=>{await D((0,u.prepareToLeaveSwaps)()),j.push(p.DEFAULT_ROUTE)})()}),[le,D,j]),(0,g.useGasFeeEstimates)();const{balance:be,address:ve}=Z,we=ne&&ee.find((({id:e})=>ne===e)),Te=te&&ee.find((({id:e})=>te===e)),ke=(null==Te?void 0:Te.txReceipt)&&(0,b.getSwapsTokensReceivedFromTxMeta)(null==z?void 0:z.symbol,Te,null==z?void 0:z.address,ve,null==z?void 0:z.decimals,we,ie),Ce=(null==Te?void 0:Te.status)===E.TransactionStatus.confirmed,Ne=(null==we?void 0:we.status)===E.TransactionStatus.failed||"0x0"===(null==we||null===(e=we.txReceipt)||void 0===e?void 0:e.status),Se=(null==Te?void 0:Te.status)===E.TransactionStatus.failed||"0x0"===(null==Te||null===(t=Te.txReceipt)||void 0===t?void 0:t.status),Oe=Ne||Se;Oe&&se!==f.CONTRACT_DATA_DISABLED_ERROR&&(se=f.SWAP_FAILED_ERROR);const xe=(0,a.useRef)();(0,a.useEffect)((()=>{xe.current=()=>{!J||F&&!Oe||D((0,m.ignoreTokens)({tokensToIgnore:J,dontShowLoadingIndicator:!0}))}}),[Oe,D,J,z,Q,F]),(0,a.useEffect)((()=>()=>{xe.current()}),[]),(0,a.useEffect)((()=>le?((0,k.fetchTokens)(ie).then((e=>{D((0,m.setSwapsTokens)(e))})).catch((e=>console.error(e))),(0,k.fetchTopAssets)(ie).then((e=>{D((0,u.setTopAssets)(e))})),(0,k.fetchAggregatorMetadata)(ie).then((e=>{D((0,u.setAggregatorMetadata)(e))})),ce||D((0,u.fetchAndSetSwapsGasPriceInfo)(ie)),()=>{D((0,u.prepareToLeaveSwaps)())}):undefined),[D,ie,ce,le]);const Re=(0,r.useSelector)(c.isHardwareWallet),Ie=(0,r.useSelector)(c.getHardwareWalletType),Me=(0,a.useRef)();(0,a.useEffect)((()=>{Me.current=()=>{var e,t;L({event:"Exited Swaps",category:_.MetaMetricsEventCategory.Swaps,sensitiveProperties:{token_from:null==Q||null===(e=Q.sourceTokenInfo)||void 0===e?void 0:e.symbol,token_from_amount:null==Q?void 0:Q.value,request_type:null==Q?void 0:Q.balanceError,token_to:null==Q||null===(t=Q.destinationTokenInfo)||void 0===t?void 0:t.symbol,slippage:null==Q?void 0:Q.slippage,custom_slippage:2!==(null==Q?void 0:Q.slippage),current_screen:U.match(/\/swaps\/(.+)/u)[1],is_hardware_wallet:Re,hardware_wallet_type:Ie,stx_enabled:he,current_stx_enabled:_e,stx_user_opt_in:ge}})}})),(0,a.useEffect)((()=>((async()=>{await D((0,u.fetchSwapsLivenessAndFeatureFlags)())})(),()=>{Me.current()})),[D]),(0,a.useEffect)((()=>{se&&!B&&me&&j.push(p.SWAPS_ERROR_ROUTE)}),[j,se,B,me]);const Pe=(0,a.useRef)();(0,a.useEffect)((()=>{const e=()=>(xe.current(),$&&D((0,u.prepareToLeaveSwaps)()),null);return $&&!Pe.current&&(Pe.current=!0,window.addEventListener("beforeunload",e)),()=>window.removeEventListener("beforeunload",e)}),[D,$]);const Ae=(0,a.useCallback)((()=>{var e,t;L({event:"Error Smart Transactions",category:_.MetaMetricsEventCategory.Swaps,sensitiveProperties:{token_from:null==Q||null===(e=Q.sourceTokenInfo)||void 0===e?void 0:e.symbol,token_from_amount:null==Q?void 0:Q.value,request_type:null==Q?void 0:Q.balanceError,token_to:null==Q||null===(t=Q.destinationTokenInfo)||void 0===t?void 0:t.symbol,slippage:null==Q?void 0:Q.slippage,custom_slippage:2!==(null==Q?void 0:Q.slippage),current_screen:U.match(/\/swaps\/(.+)/u)[1],is_hardware_wallet:Re,hardware_wallet_type:Ie,stx_enabled:he,current_stx_enabled:_e,stx_user_opt_in:ge,stx_error:ye}})}),[ye,_e,L,null==Q?void 0:Q.balanceError,null==Q||null===(n=Q.destinationTokenInfo)||void 0===n?void 0:n.symbol,null==Q?void 0:Q.slippage,null==Q||null===(P=Q.sourceTokenInfo)||void 0===P?void 0:P.symbol,null==Q?void 0:Q.value,Ie,Re,U,he,ge]);if((0,a.useEffect)((()=>{ye&&!K&&(V(!0),Ae())}),[ye,Ae,K]),!le)return a.default.createElement(a.default.Fragment,null);const je=async()=>{xe.current(),D((0,u.clearSwapsState)()),await D((0,m.resetBackgroundSwapsState)()),j.push(p.DEFAULT_ROUTE)};return a.default.createElement("div",{className:"swaps"},a.default.createElement("div",{className:"swaps__container"},a.default.createElement("div",{className:"swaps__header"},!Ee&&a.default.createElement("div",{className:"swaps__header-edit",onClick:async()=>{await D((0,u.navigateBackToBuildQuote)(j))}},G&&A("edit")),Ee&&a.default.createElement(w.default,{display:T.DISPLAY.FLEX,justifyContent:T.JustifyContent.center,marginLeft:4,width:T.FRACTIONS.ONE_TWELFTH,tabIndex:"0",onKeyUp:e=>{"Enter"===e.key&&je()}},!F&&!W&&!q&&a.default.createElement(v.Icon,{name:v.IconName.Arrow2Left,size:v.IconSize.Lg,color:T.IconColor.iconAlternative,onClick:je,style:{cursor:"pointer"},title:A("cancel")})),a.default.createElement("div",{className:"swaps__title"},A("swap")),!Ee&&a.default.createElement("div",{className:"swaps__header-cancel",onClick:async()=>{xe.current(),D((0,u.clearSwapsState)()),await D((0,m.resetBackgroundSwapsState)()),j.push(p.DEFAULT_ROUTE)}},!F&&!W&&!q&&A("cancel")),Ee&&a.default.createElement(w.default,{display:T.DISPLAY.FLEX,justifyContent:T.JustifyContent.center,marginRight:4,width:T.FRACTIONS.ONE_TWELFTH,tabIndex:"0",onKeyUp:e=>{"Enter"===e.key&&D((0,u.setTransactionSettingsOpened)(!0))}},H&&a.default.createElement(v.Icon,{name:v.IconName.Setting,size:v.IconSize.Lg,color:T.IconColor.iconAlternative,onClick:()=>{D((0,u.setTransactionSettingsOpened)(!0))},style:{cursor:"pointer"},title:A("transactionSettings")}))),a.default.createElement("div",{className:(0,i.default)("swaps__content",{"swaps__content--redesign-enabled":Ee})},a.default.createElement(s.Switch,null,a.default.createElement(h.default,{redirectRoute:p.SWAPS_MAINTENANCE_ROUTE,flag:oe,path:p.BUILD_QUOTE_ROUTE,exact:!0,render:()=>Ee?a.default.createElement(s.Redirect,{to:{pathname:p.PREPARE_SWAP_ROUTE}}):Te&&!Oe?a.default.createElement(s.Redirect,{to:{pathname:p.AWAITING_SWAP_ROUTE}}):Te&&Y?a.default.createElement(s.Redirect,{to:{pathname:p.SWAPS_ERROR_ROUTE}}):"loading"===Y&&ae?a.default.createElement(s.Redirect,{to:{pathname:p.LOADING_QUOTES_ROUTE}}):a.default.createElement(x.default,{ethBalance:be,selectedAccountAddress:ve,shuffledTokensList:de})}),a.default.createElement(h.default,{redirectRoute:p.SWAPS_MAINTENANCE_ROUTE,flag:oe,path:p.PREPARE_SWAP_ROUTE,exact:!0,render:()=>Ee?a.default.createElement(R.default,{ethBalance:be,selectedAccountAddress:ve,shuffledTokensList:de}):a.default.createElement(s.Redirect,{to:{pathname:p.BUILD_QUOTE_ROUTE}})}),a.default.createElement(h.default,{redirectRoute:p.SWAPS_MAINTENANCE_ROUTE,flag:oe,path:p.VIEW_QUOTE_ROUTE,exact:!0,render:()=>fe.length>0&&"smartTransactionStatus"===Y?a.default.createElement(s.Redirect,{to:{pathname:p.SMART_TRANSACTION_STATUS_ROUTE}}):Ee?a.default.createElement(s.Redirect,{to:{pathname:p.PREPARE_SWAP_ROUTE}}):Object.values(X).length?a.default.createElement(M.default,{numberOfQuotes:Object.values(X).length}):Q?a.default.createElement(s.Redirect,{to:{pathname:p.SWAPS_ERROR_ROUTE}}):a.default.createElement(s.Redirect,{to:{pathname:p.BUILD_QUOTE_ROUTE}})}),a.default.createElement(s.Route,{path:p.SWAPS_ERROR_ROUTE,exact:!0,render:()=>se?a.default.createElement(S.default,{swapComplete:!1,errorKey:se,txHash:null==Te?void 0:Te.hash,txId:null==Te?void 0:Te.id,submittedTime:null==Te?void 0:Te.submittedTime}):a.default.createElement(s.Redirect,{to:{pathname:p.BUILD_QUOTE_ROUTE}})}),a.default.createElement(s.Route,{path:p.SWAPS_NOTIFICATION_ROUTE,exact:!0,render:()=>se?a.default.createElement(I.default,{notificationKey:se}):a.default.createElement(s.Redirect,{to:{pathname:p.PREPARE_SWAP_ROUTE}})}),a.default.createElement(h.default,{redirectRoute:p.SWAPS_MAINTENANCE_ROUTE,flag:oe,path:p.LOADING_QUOTES_ROUTE,exact:!0,render:()=>ae?a.default.createElement(O.default,{loadingComplete:!re&&Boolean(Object.values(X).length),onDone:async()=>{await D((0,m.setBackgroundSwapRouteState)("")),se===f.ERROR_FETCHING_QUOTES||se===f.QUOTES_NOT_AVAILABLE_ERROR?(D((0,m.setSwapsErrorKey)(f.QUOTES_NOT_AVAILABLE_ERROR)),j.push(p.SWAPS_ERROR_ROUTE)):j.push(p.VIEW_QUOTE_ROUTE)},aggregatorMetadata:ae}):a.default.createElement(s.Redirect,{to:{pathname:p.BUILD_QUOTE_ROUTE}})}),a.default.createElement(s.Route,{path:p.SWAPS_MAINTENANCE_ROUTE,exact:!0,render:()=>!1===oe?a.default.createElement(S.default,{errorKey:f.OFFLINE_FOR_MAINTENANCE}):a.default.createElement(s.Redirect,{to:{pathname:p.BUILD_QUOTE_ROUTE}})}),a.default.createElement(s.Route,{path:p.AWAITING_SIGNATURES_ROUTE,exact:!0,render:()=>a.default.createElement(C.default,null)}),a.default.createElement(s.Route,{path:p.SMART_TRANSACTION_STATUS_ROUTE,exact:!0,render:()=>a.default.createElement(N.default,{txId:null==Te?void 0:Te.id})}),a.default.createElement(s.Route,{path:p.AWAITING_SWAP_ROUTE,exact:!0,render:()=>"awaiting"===Y||Te?a.default.createElement(S.default,{swapComplete:Ce,txHash:null==Te?void 0:Te.hash,tokensReceived:ke,txId:null==Te?void 0:Te.id,submittingSwap:"awaiting"===Y&&!(ne||te)}):a.default.createElement(s.Redirect,{to:{pathname:p.DEFAULT_ROUTE}})})))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),s=e("react-router-dom"),o=e("lodash"),i=P(e("classnames")),l=e("../../contexts/i18n"),c=e("../../selectors/selectors"),u=e("../../ducks/swaps/swaps"),d=e("../../selectors"),p=e("../../helpers/constants/routes"),f=e("../../../shared/constants/swaps"),m=e("../../store/actions"),g=e("../../hooks/useGasFeeEstimates"),h=P(e("../../helpers/higher-order-components/feature-toggled-route")),_=e("../../../shared/constants/metametrics"),E=e("../../../shared/constants/transaction"),y=e("../../contexts/metametrics"),b=e("../../../shared/lib/transactions-controller-utils"),v=e("../../components/component-library"),w=P(e("../../components/ui/box")),T=e("../../helpers/constants/design-system"),k=e("./swaps.util"),C=P(e("./awaiting-signatures")),N=P(e("./smart-transaction-status")),S=P(e("./awaiting-swap")),O=P(e("./loading-swaps-quotes")),x=P(e("./build-quote")),R=P(e("./prepare-swap-page/prepare-swap-page")),I=P(e("./notification-page/notification-page")),M=P(e("./view-quote"));function P(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/swaps/index.js"}],[5390,{"../../../../shared/modules/hexstring-utils":4354,"../../../components/component-library":4792,"../../../components/component-library/text/deprecated":4826,"../../../components/ui/box":4889,"../../../contexts/i18n":5029,"../../../helpers/constants/design-system":5052,"../../../selectors/selectors":5452,"../searchable-item-list/item-list":5405,"../swaps.util":5431,lodash:3617,loglevel:3629,"prop-types":3766,react:4043,"react-redux":4008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=b;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),s=_(e("prop-types")),o=e("lodash"),i=_(e("loglevel")),l=_(e("../../../components/ui/box")),c=e("../../../helpers/constants/design-system"),u=e("../../../components/component-library"),d=e("../../../components/component-library/text/deprecated"),p=_(e("../searchable-item-list/item-list")),f=e("../../../../shared/modules/hexstring-utils"),m=e("../../../contexts/i18n"),g=e("../swaps.util"),h=e("../../../selectors/selectors");function _(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}let y;function b({itemsToSearch:e=[],listTitle:t,maxListItems:n,onClickItem:s,onOpenImportTokenModalClick:_,shouldSearchForImports:E,Placeholder:b,hideRightLabels:v,hideItemIf:w,listContainerClassName:T,searchQuery:k,setSearchQuery:C}){const N=(0,a.useRef)(),S=(0,a.useContext)(m.I18nContext),[O,x]=(0,a.useState)(e),R=(0,r.useSelector)(h.getCurrentChainId),I=async t=>{C(t),y&&clearTimeout(y),y=setTimeout((async()=>{y=null;const n=t.trim(),a=n.toUpperCase(),r=n.toLowerCase();if(!n)return void x(e);const s=(0,f.isValidHexAddress)(n);let l=[];if(s){const t=e.find((e=>e.address===r));t&&l.push(t)}else l=(0,o.filter)(e,(function(e){return e.symbol.includes(a)}));const c=""===t?e:l;E&&0===c.length&&s?await(async e=>{try{const t=await(0,g.fetchToken)(e,R);if(t)return t.primaryLabel=t.symbol,t.secondaryLabel=t.name,t.notImported=!0,void x([t])}catch(e){i.default.error("Token not found, show 0 results.",e)}x([])})(n):x(c)}),350)};(0,a.useEffect)((()=>{I(k)}),[k]);return a.default.createElement(l.default,{className:"list-with-search",width:c.BlockSize.Full,tabIndex:"0"},a.default.createElement(l.default,{style:{gridColumnStart:1,gridColumnEnd:3},display:c.Display.Flex,flexDirection:c.FlexDirection.Column},a.default.createElement(u.TextFieldSearch,{id:"list-with-search__text-search",marginBottom:4,onChange:e=>I(e.target.value),clearButtonOnClick:()=>{C("")},value:k,placeholder:S("enterTokenNameOrAddress"),inputProps:{marginRight:0},className:"list-with-search__text-search",autoFocus:!0,tabIndex:"0"})),(null==O?void 0:O.length)>0&&a.default.createElement(p.default,{searchQuery:k,results:O,onClickItem:s,onOpenImportTokenModalClick:_,Placeholder:b,listTitle:t,maxListItems:n,containerRef:N,hideRightLabels:v,hideItemIf:w,listContainerClassName:T}),0===(null==O?void 0:O.length)&&a.default.createElement(l.default,{marginTop:1,marginBottom:5,display:c.Display.Flex,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center},a.default.createElement(d.Text,{variant:c.TextVariant.bodyMd,as:"h6"},S("swapNoTokensAvailable",[k]))))}b.propTypes={itemsToSearch:s.default.array,onClickItem:s.default.func,onOpenImportTokenModalClick:s.default.func,Placeholder:s.default.func,listTitle:s.default.string,maxListItems:s.default.number,hideRightLabels:s.default.bool,shouldSearchForImports:s.default.bool,hideItemIf:s.default.func,listContainerClassName:s.default.string,searchQuery:s.default.string,setSearchQuery:s.default.func}}}},{package:"$root$",file:"ui/pages/swaps/list-with-search/list-with-search.js"}],[5391,{react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"loading-swaps-quotes__background-1","data-testid":"loading-swaps-quotes-background-1"},r.default.createElement("svg",{width:"193",height:"190",viewBox:"0 0 193 190",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M153.753 53.876C153.595 53.9493 153.419 54.0161 153.25 54.0651C151.081 54.7451 148.777 53.538 148.086 51.3768C147.763 50.3298 147.851 49.2109 148.361 48.2363C148.87 47.2618 149.732 46.5374 150.78 46.2144C151.828 45.8913 152.948 45.9781 153.923 46.4865C154.898 46.9949 155.622 47.8557 155.944 48.9027C156.567 50.918 155.592 53.0243 153.753 53.876ZM150.817 47.5708C150.245 47.8359 149.782 48.2721 149.495 48.8334C149.144 49.5127 149.073 50.2843 149.303 51.0047C149.774 52.4998 151.375 53.3384 152.877 52.8787C154.374 52.4069 155.215 50.8063 154.756 49.3056C154.526 48.5852 154.027 47.9888 153.36 47.6334C152.68 47.2836 151.908 47.213 151.187 47.4437C151.049 47.4636 150.927 47.52 150.817 47.5708Z",fill:"#86E29B"}),r.default.createElement("path",{d:"M18.3624 73.9241C18.3015 73.9523 18.2407 73.9805 18.1798 74.0087C17.0495 74.4733 15.8073 74.4728 14.6751 74.0078C12.3517 73.0461 11.2387 70.3567 12.2031 68.0341C13.1676 65.7115 15.8598 64.5971 18.1833 65.5589C19.3155 66.0239 20.1951 66.9013 20.6591 68.0304C21.123 69.1595 21.1215 70.4008 20.6552 71.5326C20.2207 72.6053 19.4093 73.4391 18.3624 73.9241ZM15.0433 66.7921C14.3129 67.1305 13.713 67.7186 13.3766 68.5243C12.6776 70.207 13.4834 72.1377 15.1666 72.8348C15.9849 73.1647 16.8786 73.1789 17.6933 72.831C18.5136 72.4952 19.1388 71.8659 19.4818 71.0424C19.8126 70.2245 19.8276 69.3313 19.4801 68.5175C19.1448 67.6981 18.5155 67.0739 17.6917 66.7319C16.8144 66.3703 15.8589 66.4142 15.0433 66.7921Z",fill:"#FFB0EB"}),r.default.createElement("path",{d:"M116.617 37.3839C117.397 37.0226 117.736 36.0982 117.375 35.3192C117.015 34.5402 116.09 34.2016 115.31 34.5629C114.53 34.9243 114.19 35.8487 114.551 36.6277C114.912 37.4067 115.837 37.7453 116.617 37.3839Z",fill:"url(#paint0_linear)"}),r.default.createElement("path",{d:"M55.1317 91.7213C55.9116 91.36 56.2512 90.4356 55.8903 89.6566C55.5294 88.8776 54.6046 88.539 53.8247 88.9003C53.0448 89.2617 52.7052 90.1861 53.0661 90.9651C53.427 91.7441 54.3518 92.0827 55.1317 91.7213Z",fill:"url(#paint1_linear)"}),r.default.createElement("path",{d:"M31.9932 126.235C32.7731 125.874 33.1127 124.95 32.7518 124.171C32.3909 123.392 31.4661 123.053 30.6863 123.414C29.9064 123.776 29.5667 124.7 29.9277 125.479C30.2886 126.258 31.2134 126.597 31.9932 126.235Z",fill:"url(#paint2_linear)"}),r.default.createElement("path",{d:"M119.43 132.589C120.21 132.228 120.55 131.304 120.189 130.525C119.828 129.746 118.903 129.407 118.123 129.768C117.344 130.13 117.004 131.054 117.365 131.833C117.726 132.612 118.651 132.951 119.43 132.589Z",fill:"url(#paint3_linear)"}),r.default.createElement("path",{d:"M44.7469 47.3835C46.0108 46.7979 46.5612 45.2997 45.9763 44.0372C45.3914 42.7747 43.8926 42.2259 42.6286 42.8115C41.3647 43.3971 40.8143 44.8953 41.3992 46.1578C41.9841 47.4203 43.4829 47.9691 44.7469 47.3835Z",fill:"url(#paint4_linear)"}),r.default.createElement("path",{d:"M105.107 90.7857C106.371 90.2001 106.922 88.702 106.337 87.4394C105.752 86.1769 104.253 85.6282 102.989 86.2137C101.725 86.7993 101.175 88.2975 101.76 89.56C102.344 90.8226 103.843 91.3713 105.107 90.7857Z",fill:"url(#paint5_linear)"}),r.default.createElement("path",{d:"M95.5179 172.376C96.7818 171.791 97.3322 170.293 96.7473 169.03C96.1624 167.767 94.6636 167.219 93.3996 167.804C92.1357 168.39 91.5853 169.888 92.1702 171.151C92.7551 172.413 94.2539 172.962 95.5179 172.376Z",fill:"url(#paint6_linear)"}),r.default.createElement("path",{d:"M165.098 102.367C166.362 101.781 166.912 100.283 166.327 99.0205C165.742 97.758 164.244 97.2092 162.98 97.7948C161.716 98.3804 161.165 99.8786 161.75 101.141C162.335 102.404 163.834 102.952 165.098 102.367Z",fill:"url(#paint7_linear)"}),r.default.createElement("defs",null,r.default.createElement("linearGradient",{id:"paint0_linear",x1:"114.554",y1:"36.6326",x2:"117.379",y2:"35.3237",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),r.default.createElement("linearGradient",{id:"paint1_linear",x1:"53.0688",y1:"90.97",x2:"55.8937",y2:"89.6611",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),r.default.createElement("linearGradient",{id:"paint2_linear",x1:"29.9283",y1:"125.483",x2:"32.7532",y2:"124.174",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),r.default.createElement("linearGradient",{id:"paint3_linear",x1:"117.365",y1:"131.837",x2:"120.19",y2:"130.528",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),r.default.createElement("linearGradient",{id:"paint4_linear",x1:"41.4394",y1:"46.2402",x2:"45.947",y2:"43.9537",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),r.default.createElement("linearGradient",{id:"paint5_linear",x1:"101.8",y1:"89.6425",x2:"106.307",y2:"87.356",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),r.default.createElement("linearGradient",{id:"paint6_linear",x1:"92.2104",y1:"171.233",x2:"96.718",y2:"168.947",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),r.default.createElement("linearGradient",{id:"paint7_linear",x1:"161.79",y1:"101.224",x2:"166.298",y2:"98.937",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"}))))),r.default.createElement("div",{className:"loading-swaps-quotes__background-2","data-testid":"loading-swaps-quotes-background-2"},r.default.createElement("svg",{width:"195",height:"205",viewBox:"0 0 195 205",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M29.84 121.982C30.0408 121.969 30.245 122.01 30.4258 122.106L46.4233 130.275C46.8125 130.478 47.0536 130.893 47.0402 131.324C47.0143 131.768 46.7423 132.148 46.3356 132.308L24.5484 140.937C24.1417 141.097 23.6789 141.005 23.3642 140.702C23.0495 140.4 22.9398 139.937 23.0753 139.525L28.8651 122.727C28.9671 122.426 29.2065 122.169 29.5086 122.056C29.614 122.023 29.7194 121.989 29.84 121.982ZM43.1981 131.148L30.5607 124.689L25.9884 137.96L43.1981 131.148Z",fill:"#75C4FD"}),r.default.createElement("path",{d:"M168.214 54.3381C168.442 54.3238 168.674 54.3764 168.869 54.485C169.217 54.6781 169.44 55.0266 169.465 55.4145L170.59 68.4358C170.631 68.8763 170.416 69.3061 170.041 69.5444C169.666 69.7827 169.182 69.7862 168.805 69.5681L156.14 62.2246C155.763 62.0065 155.535 61.5911 155.548 61.1472C155.56 60.7033 155.818 60.3112 156.209 60.1122L167.75 54.4343C167.908 54.3841 168.067 54.3473 168.214 54.3381ZM168.027 66.3674L167.248 57.3661L159.267 61.2902L168.027 66.3674Z",fill:"#FFB0EB"}),r.default.createElement("path",{d:"M88.6283 16.6885C88.8694 16.6734 89.1154 16.7385 89.3255 16.873L100.21 24.1133C100.561 24.3464 100.762 24.7635 100.708 25.1832C100.653 25.6028 100.381 25.969 99.9864 26.1146L86.3391 31.4276C85.9449 31.5731 85.5106 31.5064 85.1842 31.2314C84.8712 30.9556 84.7239 30.5352 84.8192 30.1264L87.5815 17.5731C87.666 17.2053 87.9162 16.9076 88.2702 16.7646C88.3882 16.7169 88.5078 16.696 88.6283 16.6885ZM97.1342 24.7894L89.4471 19.6718L87.5021 28.5349L97.1342 24.7894Z",fill:"url(#paint0_linear)"}),r.default.createElement("path",{d:"M117.145 183.156C116.944 183.289 116.698 183.356 116.449 183.344L103.402 182.517C102.982 182.49 102.6 182.229 102.437 181.839C102.274 181.448 102.327 180.995 102.596 180.671L111.758 169.247C112.027 168.923 112.436 168.764 112.856 168.839C113.265 168.921 113.603 169.212 113.725 169.614L117.609 181.866C117.72 182.227 117.652 182.61 117.417 182.911C117.339 183.011 117.246 183.089 117.145 183.156ZM105.728 180.393L114.944 180.981L112.197 172.333L105.728 180.393Z",fill:"url(#paint1_linear)"}),r.default.createElement("path",{d:"M38.0816 74.0208C38.1217 74.0183 38.1485 74.0166 38.1887 74.0141C42.3831 73.805 45.9744 77.0577 46.1831 81.2474C46.3919 85.4371 43.1484 89.0241 38.9407 89.234C34.7463 89.4431 31.1549 86.1904 30.9462 82.0007C30.7391 77.8377 33.9307 74.2809 38.0816 74.0208ZM38.9104 87.2486C41.9767 87.0565 44.3523 84.4236 44.1997 81.3448C44.0455 78.2393 41.3949 75.8407 38.2859 75.9952C35.1761 76.1364 32.7753 78.7977 32.9296 81.9033C33.0838 85.0088 35.7344 87.4073 38.8434 87.2528C38.8568 87.252 38.8836 87.2503 38.9104 87.2486Z",fill:"#86E29B"}),r.default.createElement("path",{d:"M162.178 97.8401C162.218 97.8376 162.245 97.8359 162.285 97.8334C166.48 97.6243 170.071 100.877 170.28 105.067C170.489 109.256 167.245 112.843 163.037 113.053C158.843 113.262 155.252 110.01 155.043 105.82C154.836 101.657 158.027 98.1002 162.178 97.8401ZM163.007 111.068C166.073 110.876 168.449 108.243 168.296 105.164C168.142 102.059 165.492 99.6601 162.383 99.8146C159.273 99.9557 156.872 102.617 157.026 105.723C157.181 108.828 159.831 111.227 162.94 111.072C162.953 111.071 162.98 111.07 163.007 111.068Z",fill:"#86E29B"}),r.default.createElement("defs",null,r.default.createElement("linearGradient",{id:"paint0_linear",x1:"100.609",y1:"23.2611",x2:"84.4152",y2:"24.2757",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#FFE466"}),r.default.createElement("stop",{offset:"1",stopColor:"#FFAFEA"})),r.default.createElement("linearGradient",{id:"paint1_linear",x1:"103.812",y1:"183.939",x2:"116.959",y2:"174.66",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"0.0928503",stopColor:"#81C2F6"}),r.default.createElement("stop",{offset:"1",stopColor:"#F0B8BD"}))))))};var a,r=(a=e("react"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/loading-swaps-quotes/background-animation.js"}],[5392,{"./loading-swaps-quotes":5393},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./loading-swaps-quotes"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/loading-swaps-quotes/index.js"}],[5393,{"../../../../shared/constants/metametrics":4323,"../../../components/ui/mascot":4960,"../../../contexts/i18n":5029,"../../../contexts/metametrics":5030,"../../../ducks/swaps/swaps":5048,"../../../selectors/selectors":5452,"../swaps-footer":5429,"./background-animation":5391,events:2336,lodash:3617,"lodash/isEqual":3603,"prop-types":3766,react:4043,"react-redux":4008,"react-router-dom":4028},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=b;var a=y(e("events")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),s=e("react-redux"),o=y(e("prop-types")),i=e("lodash"),l=e("react-router-dom"),c=y(e("lodash/isEqual")),u=e("../../../ducks/swaps/swaps"),d=e("../../../selectors/selectors"),p=e("../../../contexts/i18n"),f=e("../../../contexts/metametrics"),m=y(e("../../../components/ui/mascot")),g=e("../../../../shared/constants/metametrics"),h=y(e("../swaps-footer")),_=y(e("./background-animation"));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function y(e){return e&&e.__esModule?e:{default:e}}function b({aggregatorMetadata:e,loadingComplete:t,onDone:n}){var o,E;const y=(0,r.useContext)(p.I18nContext),b=(0,r.useContext)(f.MetaMetricsContext),v=(0,s.useDispatch)(),w=(0,l.useHistory)(),T=(0,r.useRef)(new a.default),k=(0,s.useSelector)(u.getFetchParams,c.default),C=(0,s.useSelector)(u.getQuotesFetchStartTime),N=(0,s.useSelector)(d.isHardwareWallet),S=(0,s.useSelector)(d.getHardwareWalletType),O=(0,s.useSelector)(u.getSmartTransactionsOptInStatus),x=(0,s.useSelector)(u.getSmartTransactionsEnabled),R=(0,s.useSelector)(u.getCurrentSmartTransactionsEnabled),I={event:"Quotes Request Cancelled",category:g.MetaMetricsEventCategory.Swaps,sensitiveProperties:{token_from:null==k||null===(o=k.sourceTokenInfo)||void 0===o?void 0:o.symbol,token_from_amount:null==k?void 0:k.value,request_type:null==k?void 0:k.balanceError,token_to:null==k||null===(E=k.destinationTokenInfo)||void 0===E?void 0:E.symbol,slippage:null==k?void 0:k.slippage,custom_slippage:2!==(null==k?void 0:k.slippage),response_time:Date.now()-C,is_hardware_wallet:N,hardware_wallet_type:S,stx_enabled:x,current_stx_enabled:R,stx_user_opt_in:O}},[M]=(0,r.useState)((()=>(0,i.shuffle)(Object.keys(e)))),P=M.length,A=(0,r.useRef)(),j=A.current,[D,L]=(0,r.useState)(0),[U,F]=(0,r.useState)(null);return(0,r.useEffect)((()=>{let e;e=t?20:500+Math.floor(1500*Math.random());const a=setTimeout((()=>{D<P?L(D+1):D===P&&t&&n()}),e);return function(){clearTimeout(a)}}),[D,t,n,P]),(0,r.useEffect)((()=>{if(j){const{top:e,left:t,width:n,height:a}=j.getBoundingClientRect();F({x:t+n/2,y:e+a/2})}}),[j]),r.default.createElement("div",{className:"loading-swaps-quotes"},r.default.createElement("div",{className:"loading-swaps-quotes__content"},r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"loading-swaps-quotes__quote-counter"},r.default.createElement("span",null,y("swapFetchingQuoteNofN",[Math.min(D+1,P),P]))),r.default.createElement("div",{className:"loading-swaps-quotes__quote-name-check"},r.default.createElement("span",null,y("swapFetchingQuotes"))),r.default.createElement("div",{className:"loading-swaps-quotes__loading-bar-container"},r.default.createElement("div",{className:"loading-swaps-quotes__loading-bar",style:{width:100/P*D+"%"}}))),r.default.createElement("div",{className:"loading-swaps-quotes__animation"},r.default.createElement(_.default,null),r.default.createElement("div",{className:"loading-swaps-quotes__mascot-container",ref:A},r.default.createElement(m.default,{animationEventEmitter:T.current,width:"90",height:"90",lookAtTarget:U})))),r.default.createElement(h.default,{submitText:y("back"),onSubmit:async()=>{b(I),await v((0,u.navigateBackToBuildQuote)(w))},hideCancel:!0}))}b.propTypes={loadingComplete:o.default.bool.isRequired,onDone:o.default.func.isRequired,aggregatorMetadata:o.default.objectOf(o.default.shape({title:o.default.string,color:o.default.string,icon:o.default.string}))}}}},{package:"$root$",file:"ui/pages/swaps/loading-swaps-quotes/loading-swaps-quotes.js"}],[5394,{"./main-quote-summary":5395},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./main-quote-summary"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/main-quote-summary/index.js"}],[5395,{"../../../../shared/lib/transactions-controller-utils":4344,"../../../components/ui/tooltip":5017,"../../../components/ui/url-icon":5026,"../exchange-rate-display":5384,"../swaps.util":5431,"bignumber.js":2222,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var a=d(e("react")),r=d(e("prop-types")),s=d(e("bignumber.js")),o=d(e("../../../components/ui/tooltip")),i=d(e("../../../components/ui/url-icon")),l=d(e("../exchange-rate-display")),c=e("../swaps.util"),u=e("../../../../shared/lib/transactions-controller-utils");function d(e){return e&&e.__esModule?e:{default:e}}function p({sourceValue:e,sourceSymbol:t,sourceDecimals:n,sourceIconUrl:r,destinationValue:s,destinationSymbol:d,destinationDecimals:p,destinationIconUrl:f}){const m=(0,u.toPrecisionWithoutTrailingZeros)((0,u.calcTokenAmount)(e,n).toString(10),12),g=(0,u.calcTokenAmount)(s,p),h=(0,c.formatSwapsValueForDisplay)(g),_=h.match(/\d+/gu).join("").length,[E,y]=(b=_)<=9?[50,48]:b<=13?[40,32]:[26,15];var b;let v=h;return _>20&&(v=`${h.slice(0,20)}...`),a.default.createElement("div",{className:"main-quote-summary"},a.default.createElement("div",{className:"main-quote-summary__details"},a.default.createElement("div",{className:"main-quote-summary__quote-details-top"},a.default.createElement("div",{className:"main-quote-summary__source-row","data-testid":"main-quote-summary__source-row"},a.default.createElement("span",{className:"main-quote-summary__source-row-value",title:(0,c.formatSwapsValueForDisplay)(m)},(0,c.formatSwapsValueForDisplay)(m)),a.default.createElement(i.default,{url:r,className:"main-quote-summary__icon",name:t,fallbackClassName:"main-quote-summary__icon-fallback"}),a.default.createElement("span",{className:"main-quote-summary__source-row-symbol",title:t},t)),a.default.createElement("i",{className:"fa fa-arrow-down main-quote-summary__down-arrow"}),a.default.createElement("div",{className:"main-quote-summary__destination-row"},a.default.createElement(i.default,{url:f,className:"main-quote-summary__icon",name:d,fallbackClassName:"main-quote-summary__icon-fallback"}),a.default.createElement("span",{className:"main-quote-summary__destination-row-symbol"},d)),a.default.createElement("div",{className:"main-quote-summary__quote-large"},a.default.createElement(o.default,{interactive:!0,position:"bottom",html:h,disabled:v===h},a.default.createElement("span",{className:"main-quote-summary__quote-large-number",style:{fontSize:E,lineHeight:`${y}px`}},`${v}`)))),a.default.createElement("div",{className:"main-quote-summary__exchange-rate-container","data-testid":"main-quote-summary__exchange-rate-container"},a.default.createElement(l.default,{primaryTokenValue:e,primaryTokenDecimals:n,primaryTokenSymbol:t,secondaryTokenValue:s,secondaryTokenDecimals:p,secondaryTokenSymbol:d,arrowColor:"var(--color-primary-default)",boldSymbols:!1,className:"main-quote-summary__exchange-rate-display"}))))}p.propTypes={sourceValue:r.default.oneOfType([r.default.string,r.default.instanceOf(s.default)]).isRequired,sourceDecimals:r.default.oneOfType([r.default.string,r.default.number]),sourceSymbol:r.default.string.isRequired,destinationValue:r.default.oneOfType([r.default.string,r.default.instanceOf(s.default)]).isRequired,destinationDecimals:r.default.oneOfType([r.default.string,r.default.number]),destinationSymbol:r.default.string.isRequired,sourceIconUrl:r.default.string,destinationIconUrl:r.default.string}}}},{package:"$root$",file:"ui/pages/swaps/main-quote-summary/main-quote-summary.js"}],[5396,{"../../../components/ui/mascot":4960,events:2336,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,r.useRef)(new a.default);return r.default.createElement("div",{className:"mascot-background-animation__animation"},r.default.createElement("div",{className:"mascot-background-animation__background-1","data-testid":"mascot-background-animation-background-1"},r.default.createElement("svg",{width:"193",height:"190",viewBox:"0 0 193 190",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M153.753 53.876C153.595 53.9493 153.419 54.0161 153.25 54.0651C151.081 54.7451 148.777 53.538 148.086 51.3768C147.763 50.3298 147.851 49.2109 148.361 48.2363C148.87 47.2618 149.732 46.5374 150.78 46.2144C151.828 45.8913 152.948 45.9781 153.923 46.4865C154.898 46.9949 155.622 47.8557 155.944 48.9027C156.567 50.918 155.592 53.0243 153.753 53.876ZM150.817 47.5708C150.245 47.8359 149.782 48.2721 149.495 48.8334C149.144 49.5127 149.073 50.2843 149.303 51.0047C149.774 52.4998 151.375 53.3384 152.877 52.8787C154.374 52.4069 155.215 50.8063 154.756 49.3056C154.526 48.5852 154.027 47.9888 153.36 47.6334C152.68 47.2836 151.908 47.213 151.187 47.4437C151.049 47.4636 150.927 47.52 150.817 47.5708Z",fill:"#86E29B"}),r.default.createElement("path",{d:"M18.3624 73.9241C18.3015 73.9523 18.2407 73.9805 18.1798 74.0087C17.0495 74.4733 15.8073 74.4728 14.6751 74.0078C12.3517 73.0461 11.2387 70.3567 12.2031 68.0341C13.1676 65.7115 15.8598 64.5971 18.1833 65.5589C19.3155 66.0239 20.1951 66.9013 20.6591 68.0304C21.123 69.1595 21.1215 70.4008 20.6552 71.5326C20.2207 72.6053 19.4093 73.4391 18.3624 73.9241ZM15.0433 66.7921C14.3129 67.1305 13.713 67.7186 13.3766 68.5243C12.6776 70.207 13.4834 72.1377 15.1666 72.8348C15.9849 73.1647 16.8786 73.1789 17.6933 72.831C18.5136 72.4952 19.1388 71.8659 19.4818 71.0424C19.8126 70.2245 19.8276 69.3313 19.4801 68.5175C19.1448 67.6981 18.5155 67.0739 17.6917 66.7319C16.8144 66.3703 15.8589 66.4142 15.0433 66.7921Z",fill:"#FFB0EB"}),r.default.createElement("path",{d:"M116.617 37.3839C117.397 37.0226 117.736 36.0982 117.375 35.3192C117.015 34.5402 116.09 34.2016 115.31 34.5629C114.53 34.9243 114.19 35.8487 114.551 36.6277C114.912 37.4067 115.837 37.7453 116.617 37.3839Z",fill:"url(#paint0_linear)"}),r.default.createElement("path",{d:"M55.1317 91.7213C55.9116 91.36 56.2512 90.4356 55.8903 89.6566C55.5294 88.8776 54.6046 88.539 53.8247 88.9003C53.0448 89.2617 52.7052 90.1861 53.0661 90.9651C53.427 91.7441 54.3518 92.0827 55.1317 91.7213Z",fill:"url(#paint1_linear)"}),r.default.createElement("path",{d:"M31.9932 126.235C32.7731 125.874 33.1127 124.95 32.7518 124.171C32.3909 123.392 31.4661 123.053 30.6863 123.414C29.9064 123.776 29.5667 124.7 29.9277 125.479C30.2886 126.258 31.2134 126.597 31.9932 126.235Z",fill:"url(#paint2_linear)"}),r.default.createElement("path",{d:"M119.43 132.589C120.21 132.228 120.55 131.304 120.189 130.525C119.828 129.746 118.903 129.407 118.123 129.768C117.344 130.13 117.004 131.054 117.365 131.833C117.726 132.612 118.651 132.951 119.43 132.589Z",fill:"url(#paint3_linear)"}),r.default.createElement("path",{d:"M44.7469 47.3835C46.0108 46.7979 46.5612 45.2997 45.9763 44.0372C45.3914 42.7747 43.8926 42.2259 42.6286 42.8115C41.3647 43.3971 40.8143 44.8953 41.3992 46.1578C41.9841 47.4203 43.4829 47.9691 44.7469 47.3835Z",fill:"url(#paint4_linear)"}),r.default.createElement("path",{d:"M105.107 90.7857C106.371 90.2001 106.922 88.702 106.337 87.4394C105.752 86.1769 104.253 85.6282 102.989 86.2137C101.725 86.7993 101.175 88.2975 101.76 89.56C102.344 90.8226 103.843 91.3713 105.107 90.7857Z",fill:"url(#paint5_linear)"}),r.default.createElement("path",{d:"M95.5179 172.376C96.7818 171.791 97.3322 170.293 96.7473 169.03C96.1624 167.767 94.6636 167.219 93.3996 167.804C92.1357 168.39 91.5853 169.888 92.1702 171.151C92.7551 172.413 94.2539 172.962 95.5179 172.376Z",fill:"url(#paint6_linear)"}),r.default.createElement("path",{d:"M165.098 102.367C166.362 101.781 166.912 100.283 166.327 99.0205C165.742 97.758 164.244 97.2092 162.98 97.7948C161.716 98.3804 161.165 99.8786 161.75 101.141C162.335 102.404 163.834 102.952 165.098 102.367Z",fill:"url(#paint7_linear)"}),r.default.createElement("defs",null,r.default.createElement("linearGradient",{id:"paint0_linear",x1:"114.554",y1:"36.6326",x2:"117.379",y2:"35.3237",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),r.default.createElement("linearGradient",{id:"paint1_linear",x1:"53.0688",y1:"90.97",x2:"55.8937",y2:"89.6611",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),r.default.createElement("linearGradient",{id:"paint2_linear",x1:"29.9283",y1:"125.483",x2:"32.7532",y2:"124.174",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),r.default.createElement("linearGradient",{id:"paint3_linear",x1:"117.365",y1:"131.837",x2:"120.19",y2:"130.528",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),r.default.createElement("linearGradient",{id:"paint4_linear",x1:"41.4394",y1:"46.2402",x2:"45.947",y2:"43.9537",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),r.default.createElement("linearGradient",{id:"paint5_linear",x1:"101.8",y1:"89.6425",x2:"106.307",y2:"87.356",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),r.default.createElement("linearGradient",{id:"paint6_linear",x1:"92.2104",y1:"171.233",x2:"96.718",y2:"168.947",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),r.default.createElement("linearGradient",{id:"paint7_linear",x1:"161.79",y1:"101.224",x2:"166.298",y2:"98.937",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"}))))),r.default.createElement("div",{className:"mascot-background-animation__background-2","data-testid":"mascot-background-animation-background-2"},r.default.createElement("svg",{width:"195",height:"205",viewBox:"0 0 195 205",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M29.84 121.982C30.0408 121.969 30.245 122.01 30.4258 122.106L46.4233 130.275C46.8125 130.478 47.0536 130.893 47.0402 131.324C47.0143 131.768 46.7423 132.148 46.3356 132.308L24.5484 140.937C24.1417 141.097 23.6789 141.005 23.3642 140.702C23.0495 140.4 22.9398 139.937 23.0753 139.525L28.8651 122.727C28.9671 122.426 29.2065 122.169 29.5086 122.056C29.614 122.023 29.7194 121.989 29.84 121.982ZM43.1981 131.148L30.5607 124.689L25.9884 137.96L43.1981 131.148Z",fill:"#75C4FD"}),r.default.createElement("path",{d:"M168.214 54.3381C168.442 54.3238 168.674 54.3764 168.869 54.485C169.217 54.6781 169.44 55.0266 169.465 55.4145L170.59 68.4358C170.631 68.8763 170.416 69.3061 170.041 69.5444C169.666 69.7827 169.182 69.7862 168.805 69.5681L156.14 62.2246C155.763 62.0065 155.535 61.5911 155.548 61.1472C155.56 60.7033 155.818 60.3112 156.209 60.1122L167.75 54.4343C167.908 54.3841 168.067 54.3473 168.214 54.3381ZM168.027 66.3674L167.248 57.3661L159.267 61.2902L168.027 66.3674Z",fill:"#FFB0EB"}),r.default.createElement("path",{d:"M88.6283 16.6885C88.8694 16.6734 89.1154 16.7385 89.3255 16.873L100.21 24.1133C100.561 24.3464 100.762 24.7635 100.708 25.1832C100.653 25.6028 100.381 25.969 99.9864 26.1146L86.3391 31.4276C85.9449 31.5731 85.5106 31.5064 85.1842 31.2314C84.8712 30.9556 84.7239 30.5352 84.8192 30.1264L87.5815 17.5731C87.666 17.2053 87.9162 16.9076 88.2702 16.7646C88.3882 16.7169 88.5078 16.696 88.6283 16.6885ZM97.1342 24.7894L89.4471 19.6718L87.5021 28.5349L97.1342 24.7894Z",fill:"url(#paint0_linear)"}),r.default.createElement("path",{d:"M117.145 183.156C116.944 183.289 116.698 183.356 116.449 183.344L103.402 182.517C102.982 182.49 102.6 182.229 102.437 181.839C102.274 181.448 102.327 180.995 102.596 180.671L111.758 169.247C112.027 168.923 112.436 168.764 112.856 168.839C113.265 168.921 113.603 169.212 113.725 169.614L117.609 181.866C117.72 182.227 117.652 182.61 117.417 182.911C117.339 183.011 117.246 183.089 117.145 183.156ZM105.728 180.393L114.944 180.981L112.197 172.333L105.728 180.393Z",fill:"url(#paint1_linear)"}),r.default.createElement("path",{d:"M38.0816 74.0208C38.1217 74.0183 38.1485 74.0166 38.1887 74.0141C42.3831 73.805 45.9744 77.0577 46.1831 81.2474C46.3919 85.4371 43.1484 89.0241 38.9407 89.234C34.7463 89.4431 31.1549 86.1904 30.9462 82.0007C30.7391 77.8377 33.9307 74.2809 38.0816 74.0208ZM38.9104 87.2486C41.9767 87.0565 44.3523 84.4236 44.1997 81.3448C44.0455 78.2393 41.3949 75.8407 38.2859 75.9952C35.1761 76.1364 32.7753 78.7977 32.9296 81.9033C33.0838 85.0088 35.7344 87.4073 38.8434 87.2528C38.8568 87.252 38.8836 87.2503 38.9104 87.2486Z",fill:"#86E29B"}),r.default.createElement("path",{d:"M162.178 97.8401C162.218 97.8376 162.245 97.8359 162.285 97.8334C166.48 97.6243 170.071 100.877 170.28 105.067C170.489 109.256 167.245 112.843 163.037 113.053C158.843 113.262 155.252 110.01 155.043 105.82C154.836 101.657 158.027 98.1002 162.178 97.8401ZM163.007 111.068C166.073 110.876 168.449 108.243 168.296 105.164C168.142 102.059 165.492 99.6601 162.383 99.8146C159.273 99.9557 156.872 102.617 157.026 105.723C157.181 108.828 159.831 111.227 162.94 111.072C162.953 111.071 162.98 111.07 163.007 111.068Z",fill:"#86E29B"}),r.default.createElement("defs",null,r.default.createElement("linearGradient",{id:"paint0_linear",x1:"100.609",y1:"23.2611",x2:"84.4152",y2:"24.2757",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#FFE466"}),r.default.createElement("stop",{offset:"1",stopColor:"#FFAFEA"})),r.default.createElement("linearGradient",{id:"paint1_linear",x1:"103.812",y1:"183.939",x2:"116.959",y2:"174.66",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"0.0928503",stopColor:"#81C2F6"}),r.default.createElement("stop",{offset:"1",stopColor:"#F0B8BD"}))))),r.default.createElement("div",{className:"mascot-background-animation__mascot-container","data-testid":"mascot-background-animation-mascot-container"},r.default.createElement(s.default,{animationEventEmitter:e.current,width:"42",height:"42",followMouse:!1})))};var a=i(e("events")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var i=r?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(a,s,i):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),s=i(e("../../../components/ui/mascot"));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function i(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/swaps/mascot-background-animation/mascot-background-animation.js"}],[5397,{"../../../../shared/constants/swaps":4331,"../../../components/component-library":4792,"../../../components/component-library/text/deprecated":4826,"../../../components/ui/box":4889,"../../../contexts/i18n":5029,"../../../helpers/constants/design-system":5052,"../../../helpers/constants/routes":5057,"../../../store/actions":5456,"../swaps-footer":5429,"prop-types":3766,react:4043,"react-redux":4008,"react-router-dom":4028},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=E;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),s=e("react-router-dom"),o=h(e("prop-types")),i=e("../../../contexts/i18n"),l=e("../../../store/actions"),c=h(e("../../../components/ui/box")),u=e("../../../helpers/constants/design-system"),d=e("../../../components/component-library"),p=e("../../../components/component-library/text/deprecated"),f=e("../../../helpers/constants/routes"),m=h(e("../swaps-footer")),g=e("../../../../shared/constants/swaps");function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function E({notificationKey:e}){const t=(0,a.useContext)(i.I18nContext),n=(0,s.useHistory)(),o=(0,r.useDispatch)();let h="",_="",E="";return e===g.QUOTES_EXPIRED_ERROR&&(h=t("swapAreYouStillThere"),_=t("swapAreYouStillThereDescription"),E=t("swapShowLatestQuotes")),a.default.createElement("div",{className:"notification-page"},a.default.createElement(c.default,{alignItems:u.AlignItems.center,display:u.DISPLAY.FLEX,flexDirection:u.FLEX_DIRECTION.COLUMN,marginTop:10,marginLeft:4,marginRight:4,textAlign:u.TEXT_ALIGN.CENTER,className:"notification-page__content"},a.default.createElement(c.default,{marginTop:8,marginBottom:4},a.default.createElement(d.Icon,{name:d.IconName.Warning,color:u.IconColor.iconMuted,className:"notification-page__warning-icon"})),a.default.createElement(p.Text,{variant:u.TextVariant.bodyLgMedium,as:"h2"},h),a.default.createElement(p.Text,{variant:u.TextVariant.bodyMd,as:"h6"},_)),a.default.createElement(m.default,{onSubmit:async()=>{await o((0,l.setSwapsErrorKey)("")),n.push(f.PREPARE_SWAP_ROUTE)},submitText:E,hideCancel:!0,showTermsOfService:!0}))}E.propTypes={notificationKey:o.default.oneOf([g.QUOTES_EXPIRED_ERROR])}}}},{package:"$root$",file:"ui/pages/swaps/notification-page/notification-page.js"}],[5398,{"../../../components/ui/box":4889,"prop-types":3766,react:4043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(e("react")),r=o(e("prop-types")),s=o(e("../../../components/ui/box"));function o(e){return e&&e.__esModule?e:{default:e}}const i=({onClose:e})=>a.default.createElement(s.default,{className:"popover-custom-background",onClick:e});var l=i;n.default=l,i.propTypes={onClose:r.default.func}}}},{package:"$root$",file:"ui/pages/swaps/popover-custom-background/popover-custom-background.js"}]],[],{});